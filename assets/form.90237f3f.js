import{d as P,x as k,h as E,N as x,y as l,O as H,o as m,a as f,b as e,A as o,C as F,z as w,F as b,B as I,H as K,I as X,D as c,e as S}from"./vendor.047185e5.js";import{F as $}from"./FileSaver.min.0a913109.js";import{_ as q}from"./index.43837204.js";import"./_commonjsHelpers.a5007c1f.js";const r=D=>(K("data-v-2259414d"),D=D(),X(),D),G={class:"left"},Q=r(()=>e("span",null,"\u5BFC\u5165\u6570\u636E: ",-1)),W={class:"base-info"},Y=r(()=>e("div",{class:"title"},"\u57FA\u672C\u4FE1\u606F",-1)),Z={class:"base"},ee=c(" \u540D\u5B57\uFF1A "),te={class:"base"},ue=c(" \u7535\u8BDD\uFF1A "),se={class:"base"},ne=c(" \u90AE\u7BB1\uFF1A"),oe={class:"base"},ae=c(" \u7167\u7247\uFF1A"),ie={class:"base"},le=c(" \u65B9\u5411\uFF1A"),de={class:"content-info"},ce=r(()=>e("div",{class:"title"},"\u5185\u5BB9\u533A",-1)),re={class:"item-select"},pe=c(" \u5185\u5BB9\u9009\u62E9\uFF1A "),Fe=r(()=>e("option",{value:"person"},"\u4E2A\u4EBA\u603B\u7ED3",-1)),_e=r(()=>e("option",{value:"edu"},"\u6559\u80B2\u7ECF\u5386",-1)),ve=r(()=>e("option",{value:"work"},"\u5DE5\u4F5C\u7ECF\u5386",-1)),Ee=r(()=>e("option",{value:"life"},"\u751F\u6D3B\u7231\u597D",-1)),me=[Fe,_e,ve,Ee],fe=["id"],De=["onClick"],Be={class:"item-content"},Ae={class:"content-title"},ge=c(" \u5185\u5BB9\u6807\u9898\uFF1A "),ye=["value"],Ce={class:"content-detail"},he={class:"item"},ke=c(" \u9879\u76EE\u63CF\u8FF0\uFF1A"),xe={class:"item"},we=c(" \u9879\u76EE\u65F6\u95F4\uFF1A"),be={class:"content-desc"},Ie=r(()=>e("div",null,"\u8BE6\u7EC6\u6761\u76EE\uFF1A",-1)),Se=P({setup(D){const a=k({name:"\u5F20\u4E09",email:"zhangsan@sjtu.edu.cn",phone:"12345678910",dir:"\u524D\u7AEF\u5F00\u53D1",img:""}),V={edu:"\u6559\u80B2\u7ECF\u5386",life:"\u4E2A\u4EBA\u7231\u597D",work:"\u5DE5\u4F5C\u7ECF\u5386",person:"\u4E2A\u4EBA\u603B\u7ED3"},p=E("work"),i=E(0),B=E(!1),n=k([{title:"\u6559\u80B2\u7ECF\u5386",key:"edu",contents:[{title:"\u4E0A\u6D77\u4EA4\u901A\u5927\u5B66",key:new Date().getTime(),detail:{desc:"\u751F\u7269\u533B\u5B66\u5DE5\u7A0B \u672C\u79D1 \u751F\u7269\u533B\u5B66\u5DE5\u7A0B\u5B66\u9662",time:"2015\u5E749\u6708-2019\u5E746\u6708"},desc:`\u8BFE\u7A0B\uFF1A##\u2026\u2026%&%&%\u2026\u2026%
\u6210\u7EE9: 50%`}]},{title:"\u5DE5\u4F5C\u7ECF\u5386",key:"work",contents:[{title:"###\u79D1\u6280\u516C\u53F8",key:new Date().getTime(),detail:{desc:"\u6280\u672F\u90E8 \u5F00\u53D1\u5DE5\u7A0B\u5E08",time:"2019\u5E746\u6708-2022\u5E7412\u6708"},desc:`\u5B8C\u6210\u4E86\u3002\u3002\u3002\u3002\u3002\u3002\u3002
\u5B9E\u73B0\u4E86\u3002\u3002\u3002\u3002\u3002\u3002\u3002`}]},{title:"\u4E2A\u4EBA\u7231\u597D",key:"life",contents:[{title:"\u65C5\u6E38",key:new Date().getTime(),detail:{desc:"",time:""},desc:"\u73AF\u6E38\u4E16\u754C\u4E86"}]}]),T=()=>{if(d.value.contents.length===1){alert("\u53EA\u6709\u4E00\u4E2A\u9879\u76EE\u4E86\uFF0C\u4E0D\u80FD\u518D\u51CF\u5C11\u5566\u5566\u5566");return}const s=d.value.contents.findIndex(t=>t.key===i.value);d.value.contents.splice(s,1),i.value=0},y=()=>{const s=prompt("\u8BF7\u8F93\u5165\u5185\u5BB9\u6807\u9898\uFF1A")||"";if(!s){alert("\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A\uFF01");return}const t={title:s,key:new Date().getTime(),detail:{time:"",desc:""},desc:""};d.value.contents.push(t),i.value=t.key},d=x(()=>{const s=n.findIndex(t=>p.value===t.key);if(s===-1){const t={title:V[p.value],key:p.value,contents:[]};return n.push(t),i.value=0,n[n.length-1]}return i.value=0,n[s]}),_=x(()=>{i.value||(d.value.contents.length?i.value=d.value.contents[0].key:y());const s=d.value.contents.findIndex(t=>t.key===i.value);return d.value.contents[s]}),U=()=>{B.value=!0,setTimeout(()=>{window.print(),B.value=!1})},C=E(""),R=()=>{const s=new FileReader;s.onload=function(t){a.img=t.target.result},s.readAsDataURL(C.value.files[0])},h=E(""),N=()=>{const s=new FileReader;s.onload=function(t){const u=JSON.parse(t.target.result);u.base&&Object.assign(a,u.base),u.itemData&&Object.assign(n,u.itemData)},s.readAsText(h.value.files[0])},j=()=>{const s={base:a,itemData:n};$.exports.saveAs(new Blob([JSON.stringify(s)]),"resume.jl")},O=s=>{if(!s.target.id)return;s.preventDefault();const t=s.target.id,u=s.dataTransfer.getData("text");if(u===t)return;const v=n.findIndex(g=>g.key===u),A=n.findIndex(g=>g.key===t),M=n[v];n[v]=n[A],n[A]=M},z=s=>{s.preventDefault()},J=s=>{s.dataTransfer.setData("text",s.target.id)},L=s=>{const t=n.findIndex(u=>u.key===s);t!==-1&&(n[t].key!==p.value?n.splice(t,1):n.length>1?(n.splice(t,1),p.value=n[0].key):alert("\u53EA\u5269\u4E0B\u4E00\u4E2A\u9009\u9879\u4E86\uFF0C\u4E0D\u80FD\u518D\u5220\u9664\u4E86\uFF01\uFF01\uFF01"))};return(s,t)=>l((m(),f("div",G,[Q,e("input",{ref_key:"dataRef",ref:h,class:"export",onChange:N,type:"file"},null,544),e("button",{class:"export mr32",onClick:U},"\u5BFC\u51FAPDF"),e("button",{class:"export",onClick:j},"\u5BFC\u51FA\u6570\u636E"),e("div",W,[Y,e("div",Z,[ee,l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o(a).name=u),class:"input",type:""},null,512),[[F,o(a).name]])]),e("div",te,[ue,l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>o(a).phone=u),class:"input",type:""},null,512),[[F,o(a).phone]])]),e("div",se,[ne,l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>o(a).email=u),class:"input",type:""},null,512),[[F,o(a).email]])]),e("div",oe,[ae,e("input",{ref_key:"imgRef",ref:C,onChange:R,accept:"image/png,image/gif,image/jpeg",type:"file"},null,544)]),e("div",ie,[le,l(e("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>o(a).dir=u),class:"input",type:""},null,512),[[F,o(a).dir]])])]),e("div",de,[ce,e("div",re,[e("div",null,[pe,l(e("select",{class:"input","onUpdate:modelValue":t[4]||(t[4]=u=>p.value=u)},me,512),[[w,p.value]])]),e("div",null,[(m(!0),f(b,null,I(o(n),(u,v)=>(m(),f("span",{id:u.key,key:v,class:"selected",draggable:"true",ondrop:O,ondragover:z,ondragstart:J},[e("span",null,S(u.title),1),e("span",{class:"delete",onClick:A=>L(u.key)},"X",8,De)],8,fe))),128))])]),e("div",Be,[e("div",Ae,[ge,l(e("select",{class:"input","onUpdate:modelValue":t[5]||(t[5]=u=>i.value=u)},[(m(!0),f(b,null,I(o(d).contents,(u,v)=>(m(),f("option",{value:u.key,key:v},S(u.title),9,ye))),128))],512),[[w,i.value]]),e("button",{onClick:y,class:"mr10"},"\u6DFB\u52A0"),e("button",{onClick:T},"\u5220\u9664")]),e("div",Ce,[e("div",he,[ke,l(e("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>o(_).detail.desc=u),class:"input",type:""},null,512),[[F,o(_).detail.desc]])]),e("div",xe,[we,l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=u=>o(_).detail.time=u),class:"input",type:""},null,512),[[F,o(_).detail.time]])])]),e("div",be,[e("div",null,[Ie,l(e("textarea",{cols:"40",rows:"10","onUpdate:modelValue":t[8]||(t[8]=u=>o(_).desc=u)},null,512),[[F,o(_).desc]])])])])])],512)),[[H,!B.value]])}});var Ne=q(Se,[["__scopeId","data-v-2259414d"]]);export{Ne as default};

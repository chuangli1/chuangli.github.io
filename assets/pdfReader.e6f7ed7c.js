var Xt=Object.defineProperty;var Yt=(et,A,V)=>A in et?Xt(et,A,{enumerable:!0,configurable:!0,writable:!0,value:V}):et[A]=V;var jt=(et,A,V)=>(Yt(et,typeof A!="symbol"?A+"":A,V),V),Gt=(et,A,V)=>{if(!A.has(et))throw TypeError("Cannot "+V)};var pt=(et,A,V)=>(Gt(et,A,"read from private field"),V?V.call(et):A.get(et)),Pt=(et,A,V)=>{if(A.has(et))throw TypeError("Cannot add the same private member more than once");A instanceof WeakSet?A.add(et):A.set(et,V)},kt=(et,A,V,o)=>(Gt(et,A,"write to private field"),o?o.call(et,V):A.set(et,V),V);var Dt=(et,A,V)=>(Gt(et,A,"access private method"),V);import{g as getAugmentedNamespace,c as commonjsGlobal,a as commonjsRequire}from"./_commonjsHelpers.a5007c1f.js";import{_ as _export_sfc}from"./index.0cb3c0e5.js";import{d as defineComponent,t as toRefs,w as watch,i as onMounted,o as openBlock,a as createElementBlock,J as pushScopeId,K as popScopeId,b as createBaseVNode}from"./vendor.6f35fcad.js";var pdf={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(A,V){module.exports=V()})(commonjsGlobal,function(){return(()=>{var __webpack_modules__=[,(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.VerbosityLevel=A.Util=A.UnknownErrorException=A.UnexpectedResponseException=A.UNSUPPORTED_FEATURES=A.TextRenderingMode=A.StreamType=A.RenderingIntentFlag=A.PermissionFlag=A.PasswordResponses=A.PasswordException=A.PageActionEventType=A.OPS=A.MissingPDFException=A.IsLittleEndianCached=A.IsEvalSupportedCached=A.InvalidPDFException=A.ImageKind=A.IDENTITY_MATRIX=A.FormatError=A.FontType=A.FONT_IDENTITY_MATRIX=A.DocumentActionEventType=A.CMapCompressionType=A.BaseException=A.AnnotationType=A.AnnotationStateModelType=A.AnnotationReviewState=A.AnnotationReplyType=A.AnnotationMode=A.AnnotationMarkedState=A.AnnotationFlag=A.AnnotationFieldFlag=A.AnnotationBorderStyleType=A.AnnotationActionEventType=A.AbortException=void 0,A.arrayByteLength=q,A.arraysToBytes=$,A.assert=_,A.bytesToString=O,A.createPromiseCapability=$t,A.createValidAbsoluteUrl=h,A.escapeString=mt,A.getModificationDate=zt,A.getVerbosityLevel=W,A.info=z,A.isArrayBuffer=Tt,A.isArrayEqual=Ut,A.isAscii=vt,A.isSameOrigin=i,A.objectFromMap=tt,A.objectSize=nt,A.setVerbosityLevel=H,A.shadow=b,A.string32=K,A.stringToBytes=N,A.stringToPDFString=Ct,A.stringToUTF16BEString=At,A.stringToUTF8String=St,A.unreachable=Y,A.utf8StringToString=ft,A.warn=J,V(2);const o=[1,0,0,1,0,0];A.IDENTITY_MATRIX=o;const Z=[.001,0,0,.001,0,0];A.FONT_IDENTITY_MATRIX=Z;const G={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};A.RenderingIntentFlag=G;const Q={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};A.AnnotationMode=Q;const U={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};A.PermissionFlag=U;const x={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};A.TextRenderingMode=x;const e={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};A.ImageKind=e;const l={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};A.AnnotationType=l;const r={MARKED:"Marked",REVIEW:"Review"};A.AnnotationStateModelType=r;const f={MARKED:"Marked",UNMARKED:"Unmarked"};A.AnnotationMarkedState=f;const u={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};A.AnnotationReviewState=u;const k={GROUP:"Group",REPLY:"R"};A.AnnotationReplyType=k;const T={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};A.AnnotationFlag=T;const p={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};A.AnnotationFieldFlag=p;const j={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};A.AnnotationBorderStyleType=j;const L={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};A.AnnotationActionEventType=L;const R={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};A.DocumentActionEventType=R;const P={O:"PageOpen",C:"PageClose"};A.PageActionEventType=P;const s={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};A.StreamType=s;const a={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};A.FontType=a;const C={ERRORS:0,WARNINGS:1,INFOS:5};A.VerbosityLevel=C;const E={NONE:0,BINARY:1,STREAM:2};A.CMapCompressionType=E;const y={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};A.OPS=y;const M={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};A.UNSUPPORTED_FEATURES=M;const w={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};A.PasswordResponses=w;let D=C.WARNINGS;function H(X){Number.isInteger(X)&&(D=X)}function W(){return D}function z(X){D>=C.INFOS&&console.log(`Info: ${X}`)}function J(X){D>=C.WARNINGS&&console.log(`Warning: ${X}`)}function Y(X){throw new Error(X)}function _(X,I){X||Y(I)}function i(X,I){let B;try{if(B=new URL(X),!B.origin||B.origin==="null")return!1}catch{return!1}const rt=new URL(I,B);return B.origin===rt.origin}function n(X){if(!X)return!1;switch(X.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function h(X,I=null,B=null){if(!X)return null;try{if(B&&typeof X=="string"){if(B.addDefaultProtocol&&X.startsWith("www.")){const at=X.match(/\./g);at&&at.length>=2&&(X=`http://${X}`)}if(B.tryConvertEncoding)try{X=St(X)}catch{}}const rt=I?new URL(X,I):new URL(X);if(n(rt))return rt}catch{}return null}function b(X,I,B){return Object.defineProperty(X,I,{value:B,enumerable:!0,configurable:!0,writable:!1}),B}const S=function(){function I(B,rt){this.constructor===I&&Y("Cannot initialize BaseException."),this.message=B,this.name=rt}return I.prototype=new Error,I.constructor=I,I}();A.BaseException=S;class v extends S{constructor(I,B){super(I,"PasswordException");this.code=B}}A.PasswordException=v;class t extends S{constructor(I,B){super(I,"UnknownErrorException");this.details=B}}A.UnknownErrorException=t;class d extends S{constructor(I){super(I,"InvalidPDFException")}}A.InvalidPDFException=d;class g extends S{constructor(I){super(I,"MissingPDFException")}}A.MissingPDFException=g;class m extends S{constructor(I,B){super(I,"UnexpectedResponseException");this.status=B}}A.UnexpectedResponseException=m;class c extends S{constructor(I){super(I,"FormatError")}}A.FormatError=c;class F extends S{constructor(I){super(I,"AbortException")}}A.AbortException=F;function O(X){(typeof X!="object"||X===null||X.length===void 0)&&Y("Invalid argument for bytesToString");const I=X.length,B=8192;if(I<B)return String.fromCharCode.apply(null,X);const rt=[];for(let at=0;at<I;at+=B){const ht=Math.min(at+B,I),dt=X.subarray(at,ht);rt.push(String.fromCharCode.apply(null,dt))}return rt.join("")}function N(X){typeof X!="string"&&Y("Invalid argument for stringToBytes");const I=X.length,B=new Uint8Array(I);for(let rt=0;rt<I;++rt)B[rt]=X.charCodeAt(rt)&255;return B}function q(X){if(X.length!==void 0)return X.length;if(X.byteLength!==void 0)return X.byteLength;Y("Invalid argument for arrayByteLength")}function $(X){const I=X.length;if(I===1&&X[0]instanceof Uint8Array)return X[0];let B=0;for(let ht=0;ht<I;ht++)B+=q(X[ht]);let rt=0;const at=new Uint8Array(B);for(let ht=0;ht<I;ht++){let dt=X[ht];dt instanceof Uint8Array||(typeof dt=="string"?dt=N(dt):dt=new Uint8Array(dt));const xt=dt.byteLength;at.set(dt,rt),rt+=xt}return at}function K(X){return String.fromCharCode(X>>24&255,X>>16&255,X>>8&255,X&255)}function nt(X){return Object.keys(X).length}function tt(X){const I=Object.create(null);for(const[B,rt]of X)I[B]=rt;return I}function st(){const X=new Uint8Array(4);return X[0]=1,new Uint32Array(X.buffer,0,1)[0]===1}const lt={get value(){return b(this,"value",st())}};A.IsLittleEndianCached=lt;function it(){try{return new Function(""),!0}catch{return!1}}const ot={get value(){return b(this,"value",it())}};A.IsEvalSupportedCached=ot;const ct=[...Array(256).keys()].map(X=>X.toString(16).padStart(2,"0"));class ut{static makeHexColor(I,B,rt){return`#${ct[I]}${ct[B]}${ct[rt]}`}static transform(I,B){return[I[0]*B[0]+I[2]*B[1],I[1]*B[0]+I[3]*B[1],I[0]*B[2]+I[2]*B[3],I[1]*B[2]+I[3]*B[3],I[0]*B[4]+I[2]*B[5]+I[4],I[1]*B[4]+I[3]*B[5]+I[5]]}static applyTransform(I,B){const rt=I[0]*B[0]+I[1]*B[2]+B[4],at=I[0]*B[1]+I[1]*B[3]+B[5];return[rt,at]}static applyInverseTransform(I,B){const rt=B[0]*B[3]-B[1]*B[2],at=(I[0]*B[3]-I[1]*B[2]+B[2]*B[5]-B[4]*B[3])/rt,ht=(-I[0]*B[1]+I[1]*B[0]+B[4]*B[1]-B[5]*B[0])/rt;return[at,ht]}static getAxialAlignedBoundingBox(I,B){const rt=ut.applyTransform(I,B),at=ut.applyTransform(I.slice(2,4),B),ht=ut.applyTransform([I[0],I[3]],B),dt=ut.applyTransform([I[2],I[1]],B);return[Math.min(rt[0],at[0],ht[0],dt[0]),Math.min(rt[1],at[1],ht[1],dt[1]),Math.max(rt[0],at[0],ht[0],dt[0]),Math.max(rt[1],at[1],ht[1],dt[1])]}static inverseTransform(I){const B=I[0]*I[3]-I[1]*I[2];return[I[3]/B,-I[1]/B,-I[2]/B,I[0]/B,(I[2]*I[5]-I[4]*I[3])/B,(I[4]*I[1]-I[5]*I[0])/B]}static apply3dTransform(I,B){return[I[0]*B[0]+I[1]*B[1]+I[2]*B[2],I[3]*B[0]+I[4]*B[1]+I[5]*B[2],I[6]*B[0]+I[7]*B[1]+I[8]*B[2]]}static singularValueDecompose2dScale(I){const B=[I[0],I[2],I[1],I[3]],rt=I[0]*B[0]+I[1]*B[2],at=I[0]*B[1]+I[1]*B[3],ht=I[2]*B[0]+I[3]*B[2],dt=I[2]*B[1]+I[3]*B[3],xt=(rt+dt)/2,wt=Math.sqrt((rt+dt)**2-4*(rt*dt-ht*at))/2,Ft=xt+wt||1,bt=xt-wt||1;return[Math.sqrt(Ft),Math.sqrt(bt)]}static normalizeRect(I){const B=I.slice(0);return I[0]>I[2]&&(B[0]=I[2],B[2]=I[0]),I[1]>I[3]&&(B[1]=I[3],B[3]=I[1]),B}static intersect(I,B){function rt(xt,wt){return xt-wt}const at=[I[0],I[2],B[0],B[2]].sort(rt),ht=[I[1],I[3],B[1],B[3]].sort(rt),dt=[];if(I=ut.normalizeRect(I),B=ut.normalizeRect(B),at[0]===I[0]&&at[1]===B[0]||at[0]===B[0]&&at[1]===I[0])dt[0]=at[1],dt[2]=at[2];else return null;if(ht[0]===I[1]&&ht[1]===B[1]||ht[0]===B[1]&&ht[1]===I[1])dt[1]=ht[1],dt[3]=ht[2];else return null;return dt}static bezierBoundingBox(I,B,rt,at,ht,dt,xt,wt){const Ft=[],bt=[[],[]];let Rt,Et,Lt,gt,It,Nt,Bt,Wt;for(let qt=0;qt<2;++qt){if(qt===0?(Et=6*I-12*rt+6*ht,Rt=-3*I+9*rt-9*ht+3*xt,Lt=3*rt-3*I):(Et=6*B-12*at+6*dt,Rt=-3*B+9*at-9*dt+3*wt,Lt=3*at-3*B),Math.abs(Rt)<1e-12){if(Math.abs(Et)<1e-12)continue;gt=-Lt/Et,0<gt&&gt<1&&Ft.push(gt);continue}Bt=Et*Et-4*Lt*Rt,Wt=Math.sqrt(Bt),!(Bt<0)&&(It=(-Et+Wt)/(2*Rt),0<It&&It<1&&Ft.push(It),Nt=(-Et-Wt)/(2*Rt),0<Nt&&Nt<1&&Ft.push(Nt))}let Mt=Ft.length,yt;const Ot=Mt;for(;Mt--;)gt=Ft[Mt],yt=1-gt,bt[0][Mt]=yt*yt*yt*I+3*yt*yt*gt*rt+3*yt*gt*gt*ht+gt*gt*gt*xt,bt[1][Mt]=yt*yt*yt*B+3*yt*yt*gt*at+3*yt*gt*gt*dt+gt*gt*gt*wt;return bt[0][Ot]=I,bt[1][Ot]=B,bt[0][Ot+1]=xt,bt[1][Ot+1]=wt,bt[0].length=bt[1].length=Ot+2,[Math.min(...bt[0]),Math.min(...bt[1]),Math.max(...bt[0]),Math.max(...bt[1])]}}A.Util=ut;const _t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Ct(X){if(X[0]>="\xEF"){let B;if(X[0]==="\xFE"&&X[1]==="\xFF"?B="utf-16be":X[0]==="\xFF"&&X[1]==="\xFE"?B="utf-16le":X[0]==="\xEF"&&X[1]==="\xBB"&&X[2]==="\xBF"&&(B="utf-8"),B)try{const rt=new TextDecoder(B,{fatal:!0}),at=N(X);return rt.decode(at)}catch(rt){J(`stringToPDFString: "${rt}".`)}}const I=[];for(let B=0,rt=X.length;B<rt;B++){const at=_t[X.charCodeAt(B)];I.push(at?String.fromCharCode(at):X.charAt(B))}return I.join("")}function mt(X){return X.replace(/([()\\\n\r])/g,I=>I===`
`?"\\n":I==="\r"?"\\r":`\\${I}`)}function vt(X){return/^[\x00-\x7F]*$/.test(X)}function At(X){const I=["\xFE\xFF"];for(let B=0,rt=X.length;B<rt;B++){const at=X.charCodeAt(B);I.push(String.fromCharCode(at>>8&255),String.fromCharCode(at&255))}return I.join("")}function St(X){return decodeURIComponent(escape(X))}function ft(X){return unescape(encodeURIComponent(X))}function Tt(X){return typeof X=="object"&&X!==null&&X.byteLength!==void 0}function Ut(X,I){if(X.length!==I.length)return!1;for(let B=0,rt=X.length;B<rt;B++)if(X[B]!==I[B])return!1;return!0}function zt(X=new Date){return[X.getUTCFullYear().toString(),(X.getUTCMonth()+1).toString().padStart(2,"0"),X.getUTCDate().toString().padStart(2,"0"),X.getUTCHours().toString().padStart(2,"0"),X.getUTCMinutes().toString().padStart(2,"0"),X.getUTCSeconds().toString().padStart(2,"0")].join("")}function $t(){const X=Object.create(null);let I=!1;return Object.defineProperty(X,"settled",{get(){return I}}),X.promise=new Promise(function(B,rt){X.resolve=function(at){I=!0,B(at)},X.reject=function(at){I=!0,rt(at)}}),X}},(et,A,V)=>{V(3)},(et,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.isNodeJS=void 0;const V=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");A.isNodeJS=V},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var et,A,V,o,Z,G,Q,Ht;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(x){createPDFNetworkStream=x}function getDocument(x){const e=new PDFDocumentLoadingTask;let l;if(typeof x=="string"||x instanceof URL)l={url:x};else if((0,_util.isArrayBuffer)(x))l={data:x};else if(x instanceof PDFDataRangeTransport)l={range:x};else{if(typeof x!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!x.url&&!x.data&&!x.range)throw new Error("Invalid parameter object: need either .data, .range or .url");l=x}const r=Object.create(null);let f=null,u=null;for(const T in l){const p=l[T];switch(T){case"url":if(typeof window!="undefined")try{r[T]=new URL(p,window.location).href;continue}catch(j){(0,_util.warn)(`Cannot create valid URL: "${j}".`)}else if(typeof p=="string"||p instanceof URL){r[T]=p.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":f=p;continue;case"worker":u=p;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&p instanceof Buffer)r[T]=new Uint8Array(p);else{if(p instanceof Uint8Array)break;if(typeof p=="string")r[T]=(0,_util.stringToBytes)(p);else if(typeof p=="object"&&p!==null&&!isNaN(p.length))r[T]=new Uint8Array(p);else if((0,_util.isArrayBuffer)(p))r[T]=new Uint8Array(p);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}r[T]=p}if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=r.stopAtErrors!==!0,r.fontExtraProperties=r.fontExtraProperties===!0,r.pdfBug=r.pdfBug===!0,r.enableXfa=r.enableXfa===!0,(typeof r.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),typeof r.useWorkerFetch!="boolean"&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof r.isEvalSupported!="boolean"&&(r.isEvalSupported=!0),typeof r.disableFontFace!="boolean"&&(r.disableFontFace=_is_node.isNodeJS),typeof r.useSystemFonts!="boolean"&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),typeof r.ownerDocument=="undefined"&&(r.ownerDocument=globalThis.document),typeof r.disableRange!="boolean"&&(r.disableRange=!1),typeof r.disableStream!="boolean"&&(r.disableStream=!1),typeof r.disableAutoFetch!="boolean"&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!u){const T={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=T.port?_PDFWorker.fromPort(T):new _PDFWorker(T),e._worker=u}const k=e.docId;return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");const T=_fetchDocument(u,r,f,k),p=new Promise(function(j){let L;f?L=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},f):r.data||(L=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),j(L)});return Promise.all([T,p]).then(function([j,L]){if(e.destroyed)throw new Error("Loading aborted");const R=new _message_handler.MessageHandler(k,j,u.port),P=new WorkerTransport(R,e,L,r);e._transport=P,R.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(x,e,l,r){if(x.destroyed)throw new Error("Worker was destroyed");l&&(e.length=l.length,e.initialData=l.initialData,e.progressiveDone=l.progressiveDone,e.contentDispositionFilename=l.contentDispositionFilename);const f=await x.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.13.216",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(x.destroyed)throw new Error("Worker was destroyed");return f}class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.idCounters.doc++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var e;this.destroyed=!0,await((e=this._transport)==null?void 0:e.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,l,r=!1,f=null){this.length=e,this.initialData=l,this.progressiveDone=r,this.contentDispositionFilename=f,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,l){for(const r of this._rangeListeners)r(e,l)}onDataProgress(e,l){this._readyCapability.promise.then(()=>{for(const r of this._progressListeners)r(e,l)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const l of this._progressiveReadListeners)l(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,l){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,l){this._pdfInfo=e,this._transport=l,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,l,r,f,u=!1){this._pageIndex=e,this._pageInfo=l,this._ownerDocument=f,this._transport=r,this._stats=u?new _display_utils.StatTimer:null,this._pdfBug=u,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:l=this.rotate,offsetX:r=0,offsetY:f=0,dontFlip:u=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:l,offsetX:r,offsetY:f,dontFlip:u})}getAnnotations({intent:e="display"}={}){const l=this._transport.getRenderingIntent(e);let r=this._annotationPromises.get(l.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,l.renderingIntent),this._annotationPromises.set(l.cacheKey,r),r=r.then(f=>{for(const u of f)u.titleObj!==void 0&&Object.defineProperty(u,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),u.titleObj.str}}),u.contentsObj!==void 0&&Object.defineProperty(u,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),u.contentsObj.str}});return f})),r}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:l,intent:r="display",annotationMode:f=_util.AnnotationMode.ENABLE,transform:u=null,imageLayer:k=null,canvasFactory:T=null,background:p=null,optionalContentConfigPromise:j=null,annotationCanvasMap:L=null}){var M,w;((M=arguments[0])==null?void 0:M.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&f===_util.AnnotationMode.ENABLE&&(f=_util.AnnotationMode.ENABLE_FORMS)),((w=arguments[0])==null?void 0:w.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&f===_util.AnnotationMode.ENABLE&&(f=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const R=this._transport.getRenderingIntent(r,f);this.pendingCleanup=!1,j||(j=this._transport.getOptionalContentConfig());let P=this._intentStates.get(R.cacheKey);P||(P=Object.create(null),this._intentStates.set(R.cacheKey,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const s=T||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),a=!!(R.renderingIntent&_util.RenderingIntentFlag.PRINT);P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(R));const C=D=>{P.renderTasks.delete(E),(this.cleanupAfterRender||a)&&(this.pendingCleanup=!0),this._tryCleanup(),D?(E.capability.reject(D),this._abortOperatorList({intentState:P,reason:D instanceof Error?D:new Error(D)})):E.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},E=new InternalRenderTask({callback:C,params:{canvasContext:e,viewport:l,transform:u,imageLayer:k,background:p},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:L,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:s,useRequestAnimationFrame:!a,pdfBug:this._pdfBug});(P.renderTasks||(P.renderTasks=new Set)).add(E);const y=E.task;return Promise.all([P.displayReadyCapability.promise,j]).then(([D,H])=>{if(this.pendingCleanup){C();return}this._stats&&this._stats.time("Rendering"),E.initializeGraphics({transparency:D,optionalContentConfig:H}),E.operatorListChanged()}).catch(C),y}getOperatorList({intent:e="display",annotationMode:l=_util.AnnotationMode.ENABLE}={}){function r(){u.operatorList.lastChunk&&(u.opListReadCapability.resolve(u.operatorList),u.renderTasks.delete(k))}const f=this._transport.getRenderingIntent(e,l,!0);let u=this._intentStates.get(f.cacheKey);u||(u=Object.create(null),this._intentStates.set(f.cacheKey,u));let k;return u.opListReadCapability||(k=Object.create(null),k.operatorListChanged=r,u.opListReadCapability=(0,_util.createPromiseCapability)(),(u.renderTasks||(u.renderTasks=new Set)).add(k),u.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(f)),u.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:l=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:e!==!0,includeMarkedContent:l===!0},{highWaterMark:100,size(f){return f.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));const l=this.streamTextContent(e);return new Promise(function(r,f){function u(){k.read().then(function({value:p,done:j}){if(j){r(T);return}Object.assign(T.styles,p.styles),T.items.push(...p.items),u()},f)}const k=l.getReader(),T={items:[],styles:Object.create(null)};u()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const e=[];for(const l of this._intentStates.values())if(this._abortOperatorList({intentState:l,reason:new Error("Page was destroyed."),force:!0}),!l.opListReadCapability)for(const r of l.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:l,operatorList:r}of this._intentStates.values())if(l.size>0||!r.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(e,l){const r=this._intentStates.get(l);!r||(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}_renderPageChunk(e,l){for(let r=0,f=e.length;r<f;r++)l.operatorList.fnArray.push(e.fnArray[r]),l.operatorList.argsArray.push(e.argsArray[r]);l.operatorList.lastChunk=e.lastChunk;for(const r of l.renderTasks)r.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:l}){const f=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:l,annotationStorage:e&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),u=this._intentStates.get(l);u.streamReader=f;const k=()=>{f.read().then(({value:T,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(T,u),k())},T=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();this._tryCleanup()}if(u.displayReadyCapability)u.displayReadyCapability.reject(T);else if(u.opListReadCapability)u.opListReadCapability.reject(T);else throw T}})};k()}_abortOperatorList({intentState:e,reason:l,force:r=!1}){if(!!e.streamReader){if(!r){if(e.renderTasks.size>0)return;if(l instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:l,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(l.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[f,u]of this._intentStates)if(u===e){this._intentStates.delete(f);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,l){const r={data:structuredClone(e,l)};this._deferred.then(()=>{for(const f of this._listeners)f.call(this,r)})}addEventListener(e,l){this._listeners.push(l)}removeEventListener(e,l){const r=this._listeners.indexOf(l);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const x=(et=document==null?void 0:document.currentScript)==null?void 0:et.src;x&&(PDFWorkerUtil.fallbackWorkerSrc=x.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(x){const e=`importScripts("${x}");`;return URL.createObjectURL(new Blob([e]))}}class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:x=null,port:e=null,verbosity:l=(0,_util.getVerbosityLevel)()}={}){if(e&&_PDFWorker._workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=x,this.destroyed=!1,this.verbosity=l,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e){_PDFWorker._workerPorts.set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(x){this._port=x,this._messageHandler=new _message_handler.MessageHandler("main","worker",x),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let x=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,x)||(x=PDFWorkerUtil.createCDNWrapper(new URL(x,window.location).href));const e=new Worker(x),l=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",f),l.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},f=()=>{this._webWorker||r()};e.addEventListener("error",f),l.on("test",k=>{if(e.removeEventListener("error",f),this.destroyed){r();return}k?(this._messageHandler=l,this._port=e,this._webWorker=e,this._readyCapability.resolve(),l.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),l.destroy(),e.terminate())}),l.on("ready",k=>{if(e.removeEventListener("error",f),this.destroyed){r();return}try{u()}catch{this._setupFakeWorker()}});const u=()=>{const k=new Uint8Array([255]);try{l.send("test",k,[k.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),k[0]=0,l.send("test",k)}};u();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(x=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new LoopbackPort;this._port=e;const l=`fake${PDFWorkerUtil.fakeWorkerId++}`,r=new _message_handler.MessageHandler(l+"_worker",l,e);x.setup(r,e);const f=new _message_handler.MessageHandler(l,l+"_worker",e);this._messageHandler=f,this._readyCapability.resolve(),f.send("configure",{verbosity:this.verbosity})}).catch(x=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${x.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(x){if(!(x!=null&&x.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(x.port)?this._workerPorts.get(x.port):new _PDFWorker(x)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var x;try{return((x=globalThis.pdfjsWorker)==null?void 0:x.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(e,l,r,f){Pt(this,A,null);Pt(this,V,new Map);Pt(this,o,new Map);Pt(this,Z,null);this.messageHandler=e,this.loadingTask=l,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:l.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:f.ownerDocument,styleElement:f.styleElement}),this._params=f,f.useWorkerFetch||(this.CMapReaderFactory=new f.CMapReaderFactory({baseUrl:f.cMapUrl,isCompressed:f.cMapPacked}),this.StandardFontDataFactory=new f.StandardFontDataFactory({baseUrl:f.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return pt(this,A)}getRenderingIntent(e,l=_util.AnnotationMode.ENABLE,r=!1){let f=_util.RenderingIntentFlag.DISPLAY,u="";switch(e){case"any":f=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":f=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(l){case _util.AnnotationMode.DISABLE:f+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:f+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:f+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,u=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${l}`)}return r&&(f+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:f,cacheKey:`${f}_${u}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of pt(this,V).values())e.push(r._destroy());pt(this,V).clear(),pt(this,o).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const l=this.messageHandler.sendWithPromise("Terminate",null);return e.push(l),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),kt(this,Z,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:l}=this;e.on("GetReader",(r,f)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=u=>{this._lastProgress={loaded:u.loaded,total:u.total}},f.onPull=()=>{this._fullReader.read().then(function({value:u,done:k}){if(k){f.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(u),"GetReader - expected an ArrayBuffer."),f.enqueue(new Uint8Array(u),1,[u])}).catch(u=>{f.error(u)})},f.onCancel=u=>{this._fullReader.cancel(u),f.ready.catch(k=>{if(!this.destroyed)throw k})}}),e.on("ReaderHeadersReady",r=>{const f=(0,_util.createPromiseCapability)(),u=this._fullReader;return u.headersReady.then(()=>{var k;(!u.isStreamingSupported||!u.isRangeSupported)&&(this._lastProgress&&((k=l.onProgress)==null||k.call(l,this._lastProgress)),u.onProgress=T=>{var p;(p=l.onProgress)==null||p.call(l,{loaded:T.loaded,total:T.total})}),f.resolve({isStreamingSupported:u.isStreamingSupported,isRangeSupported:u.isRangeSupported,contentLength:u.contentLength})},f.reject),f.promise}),e.on("GetRangeReader",(r,f)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const u=this._networkStream.getRangeReader(r.begin,r.end);if(!u){f.close();return}f.onPull=()=>{u.read().then(function({value:k,done:T}){if(T){f.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(k),"GetRangeReader - expected an ArrayBuffer."),f.enqueue(new Uint8Array(k),1,[k])}).catch(k=>{f.error(k)})},f.onCancel=k=>{u.cancel(k),f.ready.catch(T=>{if(!this.destroyed)throw T})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,l._capability.resolve(new PDFDocumentProxy(r,this))}),e.on("DocException",function(r){let f;switch(r.name){case"PasswordException":f=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":f=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":f=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":f=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":f=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}l._capability.reject(f)}),e.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),l.onPassword){const f=u=>{u instanceof Error?this._passwordCapability.reject(u):this._passwordCapability.resolve({password:u})};try{l.onPassword(f,r.code)}catch(u){this._passwordCapability.reject(u)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),e.on("DataLoaded",r=>{var f;(f=l.onProgress)==null||f.call(l,{loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;pt(this,V).get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,f,u])=>{var k;if(!this.destroyed&&!this.commonObjs.has(r))switch(f){case"Font":const T=this._params;if("error"in u){const L=u.error;(0,_util.warn)(`Error during font loading: ${L}`),this.commonObjs.resolve(r,L);break}let p=null;T.pdfBug&&((k=globalThis.FontInspector)==null?void 0:k.enabled)&&(p={registerFont(L,R){globalThis.FontInspector.fontAdded(L,R)}});const j=new _font_loader.FontFaceObject(u,{isEvalSupported:T.isEvalSupported,disableFontFace:T.disableFontFace,ignoreErrors:T.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:p});this.fontLoader.bind(j).catch(L=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!T.fontExtraProperties&&j.data&&(j.data=null),this.commonObjs.resolve(r,j)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,u);break;default:throw new Error(`Got unknown common object type ${f}`)}}),e.on("obj",([r,f,u,k])=>{var p;if(this.destroyed)return;const T=pt(this,V).get(f);if(!T.objs.has(r))switch(u){case"Image":T.objs.resolve(r,k);const j=8e6;((p=k==null?void 0:k.data)==null?void 0:p.length)>j&&(T.cleanupAfterRender=!0);break;case"Pattern":T.objs.resolve(r,k);break;default:throw new Error(`Got unknown object type ${u}`)}}),e.on("DocProgress",r=>{var f;this.destroyed||(f=l.onProgress)==null||f.call(l,{loaded:r.loaded,total:r.total})}),e.on("DocStats",r=>{this.destroyed||kt(this,A,Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){var l,r;this.destroyed||(r=(l=this.loadingTask).onUnsupportedFeature)==null||r.call(l,e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const l=e-1,r=pt(this,o).get(l);if(r)return r;const f=this.messageHandler.sendWithPromise("GetPage",{pageIndex:l}).then(u=>{if(this.destroyed)throw new Error("Transport destroyed");const k=new PDFPageProxy(l,u,this,this._params.ownerDocument,this._params.pdfBug);return pt(this,V).set(l,k),k});return pt(this,o).set(l,f),f}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,l){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:l})}saveDocument(){var e,l;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(l=(e=this._fullReader)==null?void 0:e.filename)!=null?l:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return pt(this,Z)||kt(this,Z,this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>{var l,r,f,u;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:(r=(l=this._fullReader)==null?void 0:l.filename)!=null?r:null,contentLength:(u=(f=this._fullReader)==null?void 0:f.contentLength)!=null?u:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const l of pt(this,V).values())if(!l.cleanup())throw new Error(`startCleanup: Page ${l.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),kt(this,Z,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}A=new WeakMap,V=new WeakMap,o=new WeakMap,Z=new WeakMap;class PDFObjects{constructor(){Pt(this,Q);Pt(this,G,Object.create(null))}get(e,l=null){if(l){const f=Dt(this,Q,Ht).call(this,e);return f.capability.promise.then(()=>l(f.data)),null}const r=pt(this,G)[e];if(!(r!=null&&r.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const l=pt(this,G)[e];return(l==null?void 0:l.capability.settled)||!1}resolve(e,l=null){const r=Dt(this,Q,Ht).call(this,e);r.data=l,r.capability.resolve()}clear(){kt(this,G,Object.create(null))}}G=new WeakMap,Q=new WeakSet,Ht=function(e){const l=pt(this,G)[e];return l||(pt(this,G)[e]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(e){this._internalRenderTask=e,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:e,params:l,objs:r,commonObjs:f,annotationCanvasMap:u,operatorList:k,pageIndex:T,canvasFactory:p,useRequestAnimationFrame:j=!1,pdfBug:L=!1}){this.callback=e,this.params=l,this.objs=r,this.commonObjs=f,this.annotationCanvasMap=u,this.operatorListIdx=null,this.operatorList=k,this._pageIndex=T,this.canvasFactory=p,this._pdfBug=L,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=j===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=l.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:l}){var p;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&((p=globalThis.StepperManager)==null?void 0:p.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:r,viewport:f,transform:u,imageLayer:k,background:T}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,k,l,this.annotationCanvasMap),this.gfx.beginDrawing({transform:u,viewport:f,transparency:e,background:T}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback())))}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.StatTimer=A.RenderingCancelledException=A.PixelsPerInch=A.PageViewport=A.PDFDateString=A.DOMStandardFontDataFactory=A.DOMSVGFactory=A.DOMCanvasFactory=A.DOMCMapReaderFactory=void 0,A.deprecated=s,A.getFilenameFromUrl=p,A.getPdfFilenameFromUrl=j,A.getXfaPageViewport=E,A.isDataScheme=k,A.isPdfFile=T,A.isValidFetchUrl=R,A.loadScript=P;var o=V(6),Z=V(1);const G="http://www.w3.org/2000/svg",y=class{};let Q=y;jt(Q,"CSS",96),jt(Q,"PDF",72),jt(Q,"PDF_TO_CSS_UNITS",y.CSS/y.PDF),A.PixelsPerInch=Q;class U extends o.BaseCanvasFactory{constructor({ownerDocument:w=globalThis.document}={}){super();this._document=w}_createCanvas(w,D){const H=this._document.createElement("canvas");return H.width=w,H.height=D,H}}A.DOMCanvasFactory=U;async function x(M,w=!1){if(R(M,document.baseURI)){const D=await fetch(M);if(!D.ok)throw new Error(D.statusText);return w?new Uint8Array(await D.arrayBuffer()):(0,Z.stringToBytes)(await D.text())}return new Promise((D,H)=>{const W=new XMLHttpRequest;W.open("GET",M,!0),w&&(W.responseType="arraybuffer"),W.onreadystatechange=()=>{if(W.readyState===XMLHttpRequest.DONE){if(W.status===200||W.status===0){let z;if(w&&W.response?z=new Uint8Array(W.response):!w&&W.responseText&&(z=(0,Z.stringToBytes)(W.responseText)),z){D(z);return}}H(new Error(W.statusText))}},W.send(null)})}class e extends o.BaseCMapReaderFactory{_fetchData(w,D){return x(w,this.isCompressed).then(H=>({cMapData:H,compressionType:D}))}}A.DOMCMapReaderFactory=e;class l extends o.BaseStandardFontDataFactory{_fetchData(w){return x(w,!0)}}A.DOMStandardFontDataFactory=l;class r extends o.BaseSVGFactory{_createSVG(w){return document.createElementNS(G,w)}}A.DOMSVGFactory=r;class f{constructor({viewBox:w,scale:D,rotation:H,offsetX:W=0,offsetY:z=0,dontFlip:J=!1}){this.viewBox=w,this.scale=D,this.rotation=H,this.offsetX=W,this.offsetY=z;const Y=(w[2]+w[0])/2,_=(w[3]+w[1])/2;let i,n,h,b;switch(H%=360,H<0&&(H+=360),H){case 180:i=-1,n=0,h=0,b=1;break;case 90:i=0,n=1,h=1,b=0;break;case 270:i=0,n=-1,h=-1,b=0;break;case 0:i=1,n=0,h=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}J&&(h=-h,b=-b);let S,v,t,d;i===0?(S=Math.abs(_-w[1])*D+W,v=Math.abs(Y-w[0])*D+z,t=Math.abs(w[3]-w[1])*D,d=Math.abs(w[2]-w[0])*D):(S=Math.abs(Y-w[0])*D+W,v=Math.abs(_-w[1])*D+z,t=Math.abs(w[2]-w[0])*D,d=Math.abs(w[3]-w[1])*D),this.transform=[i*D,n*D,h*D,b*D,S-i*D*Y-h*D*_,v-n*D*Y-b*D*_],this.width=t,this.height=d}clone({scale:w=this.scale,rotation:D=this.rotation,offsetX:H=this.offsetX,offsetY:W=this.offsetY,dontFlip:z=!1}={}){return new f({viewBox:this.viewBox.slice(),scale:w,rotation:D,offsetX:H,offsetY:W,dontFlip:z})}convertToViewportPoint(w,D){return Z.Util.applyTransform([w,D],this.transform)}convertToViewportRectangle(w){const D=Z.Util.applyTransform([w[0],w[1]],this.transform),H=Z.Util.applyTransform([w[2],w[3]],this.transform);return[D[0],D[1],H[0],H[1]]}convertToPdfPoint(w,D){return Z.Util.applyInverseTransform([w,D],this.transform)}}A.PageViewport=f;class u extends Z.BaseException{constructor(w,D){super(w,"RenderingCancelledException");this.type=D}}A.RenderingCancelledException=u;function k(M){const w=M.length;let D=0;for(;D<w&&M[D].trim()==="";)D++;return M.substring(D,D+5).toLowerCase()==="data:"}function T(M){return typeof M=="string"&&/\.pdf$/i.test(M)}function p(M){const w=M.indexOf("#"),D=M.indexOf("?"),H=Math.min(w>0?w:M.length,D>0?D:M.length);return M.substring(M.lastIndexOf("/",H)+1,H)}function j(M,w="document.pdf"){if(typeof M!="string")return w;if(k(M))return(0,Z.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),w;const D=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,H=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,W=D.exec(M);let z=H.exec(W[1])||H.exec(W[2])||H.exec(W[3]);if(z&&(z=z[0],z.includes("%")))try{z=H.exec(decodeURIComponent(z))[0]}catch{}return z||w}class L{constructor(){this.started=Object.create(null),this.times=[]}time(w){w in this.started&&(0,Z.warn)(`Timer is already running for ${w}`),this.started[w]=Date.now()}timeEnd(w){w in this.started||(0,Z.warn)(`Timer has not been started for ${w}`),this.times.push({name:w,start:this.started[w],end:Date.now()}),delete this.started[w]}toString(){const w=[];let D=0;for(const H of this.times){const W=H.name;W.length>D&&(D=W.length)}for(const H of this.times){const W=H.end-H.start;w.push(`${H.name.padEnd(D)} ${W}ms
`)}return w.join("")}}A.StatTimer=L;function R(M,w){try{const{protocol:D}=w?new URL(M,w):new URL(M);return D==="http:"||D==="https:"}catch{return!1}}function P(M,w=!1){return new Promise((D,H)=>{const W=document.createElement("script");W.src=M,W.onload=function(z){w&&W.remove(),D(z)},W.onerror=function(){H(new Error(`Cannot load script at: ${W.src}`))},(document.head||document.documentElement).appendChild(W)})}function s(M){console.log("Deprecated API usage: "+M)}let a;class C{static toDateObject(w){if(!w||typeof w!="string")return null;a||(a=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const D=a.exec(w);if(!D)return null;const H=parseInt(D[1],10);let W=parseInt(D[2],10);W=W>=1&&W<=12?W-1:0;let z=parseInt(D[3],10);z=z>=1&&z<=31?z:1;let J=parseInt(D[4],10);J=J>=0&&J<=23?J:0;let Y=parseInt(D[5],10);Y=Y>=0&&Y<=59?Y:0;let _=parseInt(D[6],10);_=_>=0&&_<=59?_:0;const i=D[7]||"Z";let n=parseInt(D[8],10);n=n>=0&&n<=23?n:0;let h=parseInt(D[9],10)||0;return h=h>=0&&h<=59?h:0,i==="-"?(J+=n,Y+=h):i==="+"&&(J-=n,Y-=h),new Date(Date.UTC(H,W,z,J,Y,_))}}A.PDFDateString=C;function E(M,{scale:w=1,rotation:D=0}){const{width:H,height:W}=M.attributes.style,z=[0,0,parseInt(H),parseInt(W)];return new f({viewBox:z,scale:w,rotation:D})}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.BaseStandardFontDataFactory=A.BaseSVGFactory=A.BaseCanvasFactory=A.BaseCMapReaderFactory=void 0;var o=V(1);class Z{constructor(){this.constructor===Z&&(0,o.unreachable)("Cannot initialize BaseCanvasFactory.")}create(e,l){if(e<=0||l<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,l);return{canvas:r,context:r.getContext("2d")}}reset(e,l,r){if(!e.canvas)throw new Error("Canvas is not specified");if(l<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=l,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,l){(0,o.unreachable)("Abstract method `_createCanvas` called.")}}A.BaseCanvasFactory=Z;class G{constructor({baseUrl:e=null,isCompressed:l=!1}){this.constructor===G&&(0,o.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=e,this.isCompressed=l}async fetch({name:e}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!e)throw new Error("CMap name must be specified.");const l=this.baseUrl+e+(this.isCompressed?".bcmap":""),r=this.isCompressed?o.CMapCompressionType.BINARY:o.CMapCompressionType.NONE;return this._fetchData(l,r).catch(f=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${l}`)})}_fetchData(e,l){(0,o.unreachable)("Abstract method `_fetchData` called.")}}A.BaseCMapReaderFactory=G;class Q{constructor({baseUrl:e=null}){this.constructor===Q&&(0,o.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!e)throw new Error("Font filename must be specified.");const l=`${this.baseUrl}${e}`;return this._fetchData(l).catch(r=>{throw new Error(`Unable to load font data at: ${l}`)})}_fetchData(e){(0,o.unreachable)("Abstract method `_fetchData` called.")}}A.BaseStandardFontDataFactory=Q;class U{constructor(){this.constructor===U&&(0,o.unreachable)("Cannot initialize BaseSVGFactory.")}create(e,l){if(e<=0||l<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),r.setAttribute("width",`${e}px`),r.setAttribute("height",`${l}px`),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${l}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){(0,o.unreachable)("Abstract method `_createSVG` called.")}}A.BaseSVGFactory=U},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.FontLoader=A.FontFaceObject=void 0;var o=V(1);class Z{constructor({docId:x,onUnsupportedFeature:e,ownerDocument:l=globalThis.document,styleElement:r=null}){this.constructor===Z&&(0,o.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=e,this._document=l,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}insertRule(x){let e=this.styleElement;e||(e=this.styleElement=this._document.createElement("style"),e.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(e));const l=e.sheet;l.insertRule(x,l.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(x){if(x.attached||x.missingFile)return;if(x.attached=!0,this.isFontLoadingAPISupported){const l=x.createNativeFontFace();if(l){this.addNativeFontFace(l);try{await l.loaded}catch(r){throw this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,o.warn)(`Failed to load font '${l.family}': '${r}'.`),x.disableFontFace=!0,r}}return}const e=x.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(l=>{const r=this._queueLoadingCallback(l);this._prepareFontLoadEvent([e],[x],r)})}}_queueLoadingCallback(x){(0,o.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var e;const x=!!((e=this._document)!=null&&e.fonts);return(0,o.shadow)(this,"isFontLoadingAPISupported",x)}get isSyncFontLoadingSupported(){(0,o.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,o.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(x,e,l){(0,o.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let G;A.FontLoader=G,A.FontLoader=G=class extends Z{constructor(x){super(x);this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let x=!1;if(typeof navigator=="undefined")x=!0;else{const e=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(e==null?void 0:e[1])>=14&&(x=!0)}return(0,o.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){function e(){for((0,o.assert)(!r.done,"completeRequest() cannot be called twice."),r.done=!0;l.requests.length>0&&l.requests[0].done;){const f=l.requests.shift();setTimeout(f.callback,0)}}const l=this.loadingContext,r={id:`pdfjs-font-loading-${l.nextRequestId++}`,done:!1,complete:e,callback:x};return l.requests.push(r),r}get _loadTestFont(){const x=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,o.shadow)(this,"_loadTestFont",x())}_prepareFontLoadEvent(x,e,l){function r(H,W){return H.charCodeAt(W)<<24|H.charCodeAt(W+1)<<16|H.charCodeAt(W+2)<<8|H.charCodeAt(W+3)&255}function f(H,W,z,J){const Y=H.substring(0,W),_=H.substring(W+z);return Y+J+_}let u,k;const T=this._document.createElement("canvas");T.width=1,T.height=1;const p=T.getContext("2d");let j=0;function L(H,W){if(j++,j>30){(0,o.warn)("Load test font never loaded."),W();return}if(p.font="30px "+H,p.fillText(".",0,20),p.getImageData(0,0,1,1).data[3]>0){W();return}setTimeout(L.bind(null,H,W))}const R=`lt${Date.now()}${this.loadTestFontId++}`;let P=this._loadTestFont;P=f(P,976,R.length,R);const a=16,C=1482184792;let E=r(P,a);for(u=0,k=R.length-3;u<k;u+=4)E=E-C+r(R,u)|0;u<R.length&&(E=E-C+r(R+"XXX",u)|0),P=f(P,a,4,(0,o.string32)(E));const y=`url(data:font/opentype;base64,${btoa(P)});`,M=`@font-face {font-family:"${R}";src:${y}}`;this.insertRule(M);const w=[];for(const H of e)w.push(H.loadedName);w.push(R);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const H of w){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=H,D.appendChild(W)}this._document.body.appendChild(D),L(R,()=>{D.remove(),l.complete()})}};class Q{constructor(x,{isEvalSupported:e=!0,disableFontFace:l=!1,ignoreErrors:r=!1,onUnsupportedFeature:f,fontRegistry:u=null}){this.compiledGlyphs=Object.create(null);for(const k in x)this[k]=x[k];this.isEvalSupported=e!==!1,this.disableFontFace=l===!0,this.ignoreErrors=r===!0,this._onUnsupportedFeature=f,this.fontRegistry=u}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(!this.cssFontInfo)x=new FontFace(this.loadedName,this.data,{});else{const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}return this.fontRegistry&&this.fontRegistry.registerFont(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,o.bytesToString)(this.data),e=`url(data:${this.mimetype};base64,${btoa(x)});`;let l;if(!this.cssFontInfo)l=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),l=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,e),l}getPathGenerator(x,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let l;try{l=x.get(this.loadedName+"_path_"+e)}catch(r){if(!this.ignoreErrors)throw r;return this._onUnsupportedFeature({featureId:o.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,o.warn)(`getPathGenerator - ignoring character: "${r}".`),this.compiledGlyphs[e]=function(f,u){}}if(this.isEvalSupported&&o.IsEvalSupportedCached.value){const r=[];for(const f of l){const u=f.args!==void 0?f.args.join(","):"";r.push("c.",f.cmd,"(",u,`);
`)}return this.compiledGlyphs[e]=new Function("c","size",r.join(""))}return this.compiledGlyphs[e]=function(r,f){for(const u of l)u.cmd==="scale"&&(u.args=[f,-f]),r[u.cmd].apply(r,u.args)}}}A.FontFaceObject=Q},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.NodeStandardFontDataFactory=A.NodeCanvasFactory=A.NodeCMapReaderFactory=void 0;var o=V(6),Z=V(3),G=V(1);let Q=class{constructor(){(0,G.unreachable)("Not implemented: NodeCanvasFactory")}};A.NodeCanvasFactory=Q;let U=class{constructor(){(0,G.unreachable)("Not implemented: NodeCMapReaderFactory")}};A.NodeCMapReaderFactory=U;let x=class{constructor(){(0,G.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(A.NodeStandardFontDataFactory=x,Z.isNodeJS){const e=function(l){return new Promise((r,f)=>{require$$4.readFile(l,(k,T)=>{if(k||!T){f(new Error(k));return}r(new Uint8Array(T))})})};A.NodeCanvasFactory=Q=class extends o.BaseCanvasFactory{_createCanvas(l,r){return require$$4.createCanvas(l,r)}},A.NodeCMapReaderFactory=U=class extends o.BaseCMapReaderFactory{_fetchData(l,r){return e(l).then(f=>({cMapData:f,compressionType:r}))}},A.NodeStandardFontDataFactory=x=class extends o.BaseStandardFontDataFactory{_fetchData(l){return e(l)}}}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.AnnotationStorage=void 0;var o=V(1);class Z{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(Q,U){const x=this._storage.get(Q);return x===void 0?U:Object.assign(U,x)}setValue(Q,U){const x=this._storage.get(Q);let e=!1;if(x!==void 0)for(const[l,r]of Object.entries(U))x[l]!==r&&(e=!0,x[l]=r);else e=!0,this._storage.set(Q,U);e&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,o.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}A.AnnotationStorage=Z},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.CanvasGraphics=void 0;var o=V(1),Z=V(11),G=V(5);const Q=16,U=100,x=4096,e=15,l=10,r=1e3,f=16,u=1.000001;function k(_,i){if(_._removeMirroring)throw new Error("Context is already forwarding operations.");_.__originalSave=_.save,_.__originalRestore=_.restore,_.__originalRotate=_.rotate,_.__originalScale=_.scale,_.__originalTranslate=_.translate,_.__originalTransform=_.transform,_.__originalSetTransform=_.setTransform,_.__originalResetTransform=_.resetTransform,_.__originalClip=_.clip,_.__originalMoveTo=_.moveTo,_.__originalLineTo=_.lineTo,_.__originalBezierCurveTo=_.bezierCurveTo,_.__originalRect=_.rect,_.__originalClosePath=_.closePath,_.__originalBeginPath=_.beginPath,_._removeMirroring=()=>{_.save=_.__originalSave,_.restore=_.__originalRestore,_.rotate=_.__originalRotate,_.scale=_.__originalScale,_.translate=_.__originalTranslate,_.transform=_.__originalTransform,_.setTransform=_.__originalSetTransform,_.resetTransform=_.__originalResetTransform,_.clip=_.__originalClip,_.moveTo=_.__originalMoveTo,_.lineTo=_.__originalLineTo,_.bezierCurveTo=_.__originalBezierCurveTo,_.rect=_.__originalRect,_.closePath=_.__originalClosePath,_.beginPath=_.__originalBeginPath,delete _._removeMirroring},_.save=function(){i.save(),this.__originalSave()},_.restore=function(){i.restore(),this.__originalRestore()},_.translate=function(h,b){i.translate(h,b),this.__originalTranslate(h,b)},_.scale=function(h,b){i.scale(h,b),this.__originalScale(h,b)},_.transform=function(h,b,S,v,t,d){i.transform(h,b,S,v,t,d),this.__originalTransform(h,b,S,v,t,d)},_.setTransform=function(h,b,S,v,t,d){i.setTransform(h,b,S,v,t,d),this.__originalSetTransform(h,b,S,v,t,d)},_.resetTransform=function(){i.resetTransform(),this.__originalResetTransform()},_.rotate=function(h){i.rotate(h),this.__originalRotate(h)},_.clip=function(h){i.clip(h),this.__originalClip(h)},_.moveTo=function(n,h){i.moveTo(n,h),this.__originalMoveTo(n,h)},_.lineTo=function(n,h){i.lineTo(n,h),this.__originalLineTo(n,h)},_.bezierCurveTo=function(n,h,b,S,v,t){i.bezierCurveTo(n,h,b,S,v,t),this.__originalBezierCurveTo(n,h,b,S,v,t)},_.rect=function(n,h,b,S){i.rect(n,h,b,S),this.__originalRect(n,h,b,S)},_.closePath=function(){i.closePath(),this.__originalClosePath()},_.beginPath=function(){i.beginPath(),this.__originalBeginPath()}}function T(_){if(_._transformStack&&(_._transformStack=[]),!_.mozCurrentTransform){_._originalSave=_.save,_._originalRestore=_.restore,_._originalRotate=_.rotate,_._originalScale=_.scale,_._originalTranslate=_.translate,_._originalTransform=_.transform,_._originalSetTransform=_.setTransform,_._originalResetTransform=_.resetTransform,_._transformMatrix=_._transformMatrix||[1,0,0,1,0,0],_._transformStack=[];try{const i=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(_),"lineWidth");_._setLineWidth=i.set,_._getLineWidth=i.get,Object.defineProperty(_,"lineWidth",{set:function(h){this._setLineWidth(h*u)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(_,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(_,"mozCurrentTransformInverse",{get:function(){const[n,h,b,S,v,t]=this._transformMatrix,d=n*S-h*b,g=h*b-n*S;return[S/d,h/g,b/g,n/d,(S*v-b*t)/g,(h*v-n*t)/d]}}),_.save=function(){const n=this._transformMatrix;this._transformStack.push(n),this._transformMatrix=n.slice(0,6),this._originalSave()},_.restore=function(){this._transformStack.length===0&&(0,o.warn)("Tried to restore a ctx when the stack was already empty.");const n=this._transformStack.pop();n&&(this._transformMatrix=n,this._originalRestore())},_.translate=function(n,h){const b=this._transformMatrix;b[4]=b[0]*n+b[2]*h+b[4],b[5]=b[1]*n+b[3]*h+b[5],this._originalTranslate(n,h)},_.scale=function(n,h){const b=this._transformMatrix;b[0]*=n,b[1]*=n,b[2]*=h,b[3]*=h,this._originalScale(n,h)},_.transform=function(n,h,b,S,v,t){const d=this._transformMatrix;this._transformMatrix=[d[0]*n+d[2]*h,d[1]*n+d[3]*h,d[0]*b+d[2]*S,d[1]*b+d[3]*S,d[0]*v+d[2]*t+d[4],d[1]*v+d[3]*t+d[5]],_._originalTransform(n,h,b,S,v,t)},_.setTransform=function(n,h,b,S,v,t){this._transformMatrix=[n,h,b,S,v,t],_._originalSetTransform(n,h,b,S,v,t)},_.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],_._originalResetTransform()},_.rotate=function(n){const h=Math.cos(n),b=Math.sin(n),S=this._transformMatrix;this._transformMatrix=[S[0]*h+S[2]*b,S[1]*h+S[3]*b,S[0]*-b+S[2]*h,S[1]*-b+S[3]*h,S[4],S[5]],this._originalRotate(n)}}}class p{constructor(i){this.canvasFactory=i,this.cache=Object.create(null)}getCanvas(i,n,h,b){let S;return this.cache[i]!==void 0?(S=this.cache[i],this.canvasFactory.reset(S,n,h),S.context.setTransform(1,0,0,1,0,0)):(S=this.canvasFactory.create(n,h),this.cache[i]=S),b&&T(S.context),S}clear(){for(const i in this.cache){const n=this.cache[i];this.canvasFactory.destroy(n),delete this.cache[i]}}}function j(_){const n=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),h=_.width,b=_.height,S=h+1;let v,t,d,g;const m=new Uint8Array(S*(b+1)),c=h+7&-8,F=_.data,O=new Uint8Array(c*b);let N=0;for(v=0,t=F.length;v<t;v++){const tt=F[v];let st=128;for(;st>0;)O[N++]=tt&st?0:255,st>>=1}let q=0;for(N=0,O[N]!==0&&(m[0]=1,++q),d=1;d<h;d++)O[N]!==O[N+1]&&(m[d]=O[N]?2:1,++q),N++;for(O[N]!==0&&(m[d]=2,++q),v=1;v<b;v++){N=v*c,g=v*S,O[N-c]!==O[N]&&(m[g]=O[N]?1:8,++q);let tt=(O[N]?4:0)+(O[N-c]?8:0);for(d=1;d<h;d++)tt=(tt>>2)+(O[N+1]?4:0)+(O[N-c+1]?8:0),n[tt]&&(m[g+d]=n[tt],++q),N++;if(O[N-c]!==O[N]&&(m[g+d]=O[N]?2:4,++q),q>1e3)return null}for(N=c*(b-1),g=v*S,O[N]!==0&&(m[g]=8,++q),d=1;d<h;d++)O[N]!==O[N+1]&&(m[g+d]=O[N]?4:8,++q),N++;if(O[N]!==0&&(m[g+d]=4,++q),q>1e3)return null;const $=new Int32Array([0,S,-1,0,-S,0,0,0,1]),K=[];for(v=0;q&&v<=b;v++){let tt=v*S;const st=tt+h;for(;tt<st&&!m[tt];)tt++;if(tt===st)continue;const lt=[tt%S,v],it=tt;let ot=m[tt];do{const ct=$[ot];do tt+=ct;while(!m[tt]);const ut=m[tt];ut!==5&&ut!==10?(ot=ut,m[tt]=0):(ot=ut&51*ot>>4,m[tt]&=ot>>2|ot<<2),lt.push(tt%S,tt/S|0),m[tt]||--q}while(it!==tt);K.push(lt),--v}return function(tt){tt.save(),tt.scale(1/h,-1/b),tt.translate(0,-b),tt.beginPath();for(let st=0,lt=K.length;st<lt;st++){const it=K[st];tt.moveTo(it[0],it[1]);for(let ot=2,ct=it.length;ot<ct;ot+=2)tt.lineTo(it[ot],it[ot+1])}tt.fill(),tt.beginPath(),tt.restore()}}class L{constructor(i,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=o.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=o.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,i,n])}clone(){const i=Object.create(this);return i.clipBox=this.clipBox.slice(),i}setCurrentPoint(i,n){this.x=i,this.y=n}updatePathMinMax(i,n,h){[n,h]=o.Util.applyTransform([n,h],i),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,h),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,h)}updateCurvePathMinMax(i,n,h,b,S,v,t,d,g){const m=o.Util.bezierBoundingBox(n,h,b,S,v,t,d,g);this.updatePathMinMax(i,m[0],m[1]),this.updatePathMinMax(i,m[2],m[3])}getPathBoundingBox(i=Z.PathType.FILL,n=null){const h=[this.minX,this.minY,this.maxX,this.maxY];if(i===Z.PathType.STROKE){n||(0,o.unreachable)("Stroke bounding box must include transform.");const b=o.Util.singularValueDecompose2dScale(n),S=b[0]*this.lineWidth/2,v=b[1]*this.lineWidth/2;h[0]-=S,h[1]-=v,h[2]+=S,h[3]+=v}return h}updateClipFromPath(){const i=o.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(i||[0,0,0,0])}startNewPathAndClipBox(i){this.clipBox=i,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(i=Z.PathType.FILL,n=null){return o.Util.intersect(this.clipBox,this.getPathBoundingBox(i,n))}}function R(_,i,n=null){if(typeof ImageData!="undefined"&&i instanceof ImageData){_.putImageData(i,0,0);return}const h=i.height,b=i.width,S=h%f,v=(h-S)/f,t=S===0?v:v+1,d=_.createImageData(b,f);let g=0,m;const c=i.data,F=d.data;let O,N,q,$,K,nt,tt,st;if(n)switch(n.length){case 1:K=n[0],nt=n[0],tt=n[0],st=n[0];break;case 4:K=n[0],nt=n[1],tt=n[2],st=n[3];break}if(i.kind===o.ImageKind.GRAYSCALE_1BPP){const lt=c.byteLength,it=new Uint32Array(F.buffer,0,F.byteLength>>2),ot=it.length,ct=b+7>>3;let ut=4294967295,_t=o.IsLittleEndianCached.value?4278190080:255;for(st&&st[0]===255&&st[255]===0&&([ut,_t]=[_t,ut]),O=0;O<t;O++){for(q=O<v?f:S,m=0,N=0;N<q;N++){const Ct=lt-g;let mt=0;const vt=Ct>ct?b:Ct*8-7,At=vt&-8;let St=0,ft=0;for(;mt<At;mt+=8)ft=c[g++],it[m++]=ft&128?ut:_t,it[m++]=ft&64?ut:_t,it[m++]=ft&32?ut:_t,it[m++]=ft&16?ut:_t,it[m++]=ft&8?ut:_t,it[m++]=ft&4?ut:_t,it[m++]=ft&2?ut:_t,it[m++]=ft&1?ut:_t;for(;mt<vt;mt++)St===0&&(ft=c[g++],St=128),it[m++]=ft&St?ut:_t,St>>=1}for(;m<ot;)it[m++]=0;_.putImageData(d,0,O*f)}}else if(i.kind===o.ImageKind.RGBA_32BPP){const lt=!!(K||nt||tt);for(N=0,$=b*f*4,O=0;O<v;O++){if(F.set(c.subarray(g,g+$)),g+=$,lt)for(let it=0;it<$;it+=4)K&&(F[it+0]=K[F[it+0]]),nt&&(F[it+1]=nt[F[it+1]]),tt&&(F[it+2]=tt[F[it+2]]);_.putImageData(d,0,N),N+=f}if(O<t){if($=b*S*4,F.set(c.subarray(g,g+$)),lt)for(let it=0;it<$;it+=4)K&&(F[it+0]=K[F[it+0]]),nt&&(F[it+1]=nt[F[it+1]]),tt&&(F[it+2]=tt[F[it+2]]);_.putImageData(d,0,N)}}else if(i.kind===o.ImageKind.RGB_24BPP){const lt=!!(K||nt||tt);for(q=f,$=b*q,O=0;O<t;O++){for(O>=v&&(q=S,$=b*q),m=0,N=$;N--;)F[m++]=c[g++],F[m++]=c[g++],F[m++]=c[g++],F[m++]=255;if(lt)for(let it=0;it<m;it+=4)K&&(F[it+0]=K[F[it+0]]),nt&&(F[it+1]=nt[F[it+1]]),tt&&(F[it+2]=tt[F[it+2]]);_.putImageData(d,0,O*f)}}else throw new Error(`bad image kind: ${i.kind}`)}function P(_,i){const n=i.height,h=i.width,b=n%f,S=(n-b)/f,v=b===0?S:S+1,t=_.createImageData(h,f);let d=0;const g=i.data,m=t.data;for(let c=0;c<v;c++){const F=c<S?f:b;let O=3;for(let N=0;N<F;N++){let q,$=0;for(let K=0;K<h;K++)$||(q=g[d++],$=128),m[O]=q&$?0:255,O+=4,$>>=1}_.putImageData(t,0,c*f)}}function s(_,i){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let h=0,b=n.length;h<b;h++){const S=n[h];_[S]!==void 0&&(i[S]=_[S])}_.setLineDash!==void 0&&(i.setLineDash(_.getLineDash()),i.lineDashOffset=_.lineDashOffset)}function a(_){_.strokeStyle="#000000",_.fillStyle="#000000",_.fillRule="nonzero",_.globalAlpha=1,_.lineWidth=1,_.lineCap="butt",_.lineJoin="miter",_.miterLimit=10,_.globalCompositeOperation="source-over",_.font="10px sans-serif",_.setLineDash!==void 0&&(_.setLineDash([]),_.lineDashOffset=0)}function C(_,i,n,h){const b=_.length;for(let S=3;S<b;S+=4){const v=_[S];if(v===0)_[S-3]=i,_[S-2]=n,_[S-1]=h;else if(v<255){const t=255-v;_[S-3]=_[S-3]*v+i*t>>8,_[S-2]=_[S-2]*v+n*t>>8,_[S-1]=_[S-1]*v+h*t>>8}}}function E(_,i,n){const h=_.length,b=1/255;for(let S=3;S<h;S+=4){const v=n?n[_[S]]:_[S];i[S]=i[S]*v*b|0}}function y(_,i,n){const h=_.length;for(let b=3;b<h;b+=4){const S=_[b-3]*77+_[b-2]*152+_[b-1]*28;i[b]=n?i[b]*n[S>>8]>>8:i[b]*S>>16}}function M(_,i,n,h,b,S,v,t,d,g,m){const c=!!S,F=c?S[0]:0,O=c?S[1]:0,N=c?S[2]:0;let q;b==="Luminosity"?q=y:q=E;const K=Math.min(h,Math.ceil(1048576/n));for(let nt=0;nt<h;nt+=K){const tt=Math.min(K,h-nt),st=_.getImageData(t-g,nt+(d-m),n,tt),lt=i.getImageData(t,nt+d,n,tt);c&&C(st.data,F,O,N),q(st.data,lt.data,v),i.putImageData(lt,t,nt+d)}}function w(_,i,n,h){const b=h[0],S=h[1],v=h[2]-b,t=h[3]-S;v===0||t===0||(M(i.context,n,v,t,i.subtype,i.backdrop,i.transferMap,b,S,i.offsetX,i.offsetY),_.save(),_.globalAlpha=1,_.globalCompositeOperation="source-over",_.setTransform(1,0,0,1,0,0),_.drawImage(n.canvas,0,0),_.restore())}function D(_,i){const n=o.Util.singularValueDecompose2dScale(_);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const h=Math.fround((globalThis.devicePixelRatio||1)*G.PixelsPerInch.PDF_TO_CSS_UNITS);return i!==void 0?i:n[0]<=h||n[1]<=h}const H=["butt","round","square"],W=["miter","round","bevel"],z={},J={};class Y{constructor(i,n,h,b,S,v,t){this.ctx=i,this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=h,this.canvasFactory=b,this.imageLayer=S,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=v,this.cachedCanvases=new p(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=t,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,i&&T(i),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:i,viewport:n,transparency:h=!1,background:b=null}){const S=this.ctx.canvas.width,v=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=b||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,S,v),this.ctx.restore(),h){const t=this.cachedCanvases.getCanvas("transparent",S,v,!0);this.compositeCtx=this.ctx,this.transparentCanvas=t.canvas,this.ctx=t.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),a(this.ctx),i&&(this.ctx.transform.apply(this.ctx,i),this.outputScaleX=i[0],this.outputScaleY=i[0]),this.ctx.transform.apply(this.ctx,n.transform),this.viewportScale=n.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(i,n,h,b){const S=i.argsArray,v=i.fnArray;let t=n||0;const d=S.length;if(d===t)return t;const g=d-t>l&&typeof h=="function",m=g?Date.now()+e:0;let c=0;const F=this.commonObjs,O=this.objs;let N;for(;;){if(b!==void 0&&t===b.nextBreakPoint)return b.breakIt(t,h),t;if(N=v[t],N!==o.OPS.dependency)this[N].apply(this,S[t]);else for(const q of S[t]){const $=q.startsWith("g_")?F:O;if(!$.has(q))return $.get(q,h),t}if(t++,t===d)return t;if(g&&++c>l){if(Date.now()>m)return h(),t;c=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(i,n){const h=i.width,b=i.height;let S=Math.max(Math.hypot(n[0],n[1]),1),v=Math.max(Math.hypot(n[2],n[3]),1),t=h,d=b,g="prescale1",m,c;for(;S>2&&t>1||v>2&&d>1;){let F=t,O=d;S>2&&t>1&&(F=Math.ceil(t/2),S/=t/F),v>2&&d>1&&(O=Math.ceil(d/2),v/=d/O),m=this.cachedCanvases.getCanvas(g,F,O),c=m.context,c.clearRect(0,0,F,O),c.drawImage(i,0,0,t,d,0,0,F,O),i=m.canvas,t=F,d=O,g=g==="prescale1"?"prescale2":"prescale1"}return{img:i,paintWidth:t,paintHeight:d}}_createMaskCanvas(i){const n=this.ctx,h=i.width,b=i.height,S=this.current.fillColor,v=this.current.patternFill,t=this.cachedCanvases.getCanvas("maskCanvas",h,b),d=t.context;P(d,i);const g=n.mozCurrentTransform;let m=o.Util.transform(g,[1/h,0,0,-1/b,0,0]);m=o.Util.transform(m,[1,0,0,1,0,-b]);const c=o.Util.applyTransform([0,0],m),F=o.Util.applyTransform([h,b],m),O=o.Util.normalizeRect([c[0],c[1],F[0],F[1]]),N=Math.ceil(O[2]-O[0]),q=Math.ceil(O[3]-O[1]),$=this.cachedCanvases.getCanvas("fillCanvas",N,q,!0),K=$.context,nt=Math.min(c[0],F[0]),tt=Math.min(c[1],F[1]);K.translate(-nt,-tt),K.transform.apply(K,m);const st=this._scaleImage(t.canvas,K.mozCurrentTransformInverse);K.imageSmoothingEnabled=D(K.mozCurrentTransform,i.interpolate),K.drawImage(st.img,0,0,st.img.width,st.img.height,0,0,h,b),K.globalCompositeOperation="source-in";const lt=o.Util.transform(K.mozCurrentTransformInverse,[1,0,0,1,-nt,-tt]);return K.fillStyle=v?S.getPattern(n,this,lt,Z.PathType.FILL):S,K.fillRect(0,0,h,b),{canvas:$.canvas,offsetX:Math.round(nt),offsetY:Math.round(tt)}}setLineWidth(i){this.current.lineWidth=i,this.ctx.lineWidth=i}setLineCap(i){this.ctx.lineCap=H[i]}setLineJoin(i){this.ctx.lineJoin=W[i]}setMiterLimit(i){this.ctx.miterLimit=i}setDash(i,n){const h=this.ctx;h.setLineDash!==void 0&&(h.setLineDash(i),h.lineDashOffset=n)}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(let n=0,h=i.length;n<h;n++){const b=i[n],S=b[0],v=b[1];switch(S){case"LW":this.setLineWidth(v);break;case"LC":this.setLineCap(v);break;case"LJ":this.setLineJoin(v);break;case"ML":this.setMiterLimit(v);break;case"D":this.setDash(v[0],v[1]);break;case"RI":this.setRenderingIntent(v);break;case"FL":this.setFlatness(v);break;case"Font":this.setFont(v[0],v[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=v;break;case"SMask":this.current.activeSMask=v?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=v}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const i=this.inSMaskMode;this.current.activeSMask&&!i?this.beginSMaskMode():!this.current.activeSMask&&i&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const i=this.ctx.canvas.width,n=this.ctx.canvas.height,h="smaskGroupAt"+this.groupLevel,b=this.cachedCanvases.getCanvas(h,i,n,!0);this.suspendedCtx=this.ctx,this.ctx=b.context;const S=this.ctx;S.setTransform.apply(S,this.suspendedCtx.mozCurrentTransform),s(this.suspendedCtx,S),k(S,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),s(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(i){if(!this.current.activeSMask)return;i?(i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.ceil(i[2]),i[3]=Math.ceil(i[3])):i=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,h=this.suspendedCtx;w(h,n,this.ctx,i),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(s(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const i=this.current;this.stateStack.push(i),this.current=i.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),s(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(i,n,h,b,S,v){this.ctx.transform(i,n,h,b,S,v),this._cachedGetSinglePixelWidth=null}constructPath(i,n){const h=this.ctx,b=this.current;let S=b.x,v=b.y,t,d;for(let g=0,m=0,c=i.length;g<c;g++)switch(i[g]|0){case o.OPS.rectangle:S=n[m++],v=n[m++];const F=n[m++],O=n[m++],N=S+F,q=v+O;h.moveTo(S,v),F===0||O===0?h.lineTo(N,q):(h.lineTo(N,v),h.lineTo(N,q),h.lineTo(S,q)),b.updatePathMinMax(h.mozCurrentTransform,S,v),b.updatePathMinMax(h.mozCurrentTransform,N,q),h.closePath();break;case o.OPS.moveTo:S=n[m++],v=n[m++],h.moveTo(S,v),b.updatePathMinMax(h.mozCurrentTransform,S,v);break;case o.OPS.lineTo:S=n[m++],v=n[m++],h.lineTo(S,v),b.updatePathMinMax(h.mozCurrentTransform,S,v);break;case o.OPS.curveTo:t=S,d=v,S=n[m+4],v=n[m+5],h.bezierCurveTo(n[m],n[m+1],n[m+2],n[m+3],S,v),b.updateCurvePathMinMax(h.mozCurrentTransform,t,d,n[m],n[m+1],n[m+2],n[m+3],S,v),m+=6;break;case o.OPS.curveTo2:t=S,d=v,h.bezierCurveTo(S,v,n[m],n[m+1],n[m+2],n[m+3]),b.updateCurvePathMinMax(h.mozCurrentTransform,t,d,S,v,n[m],n[m+1],n[m+2],n[m+3]),S=n[m+2],v=n[m+3],m+=4;break;case o.OPS.curveTo3:t=S,d=v,S=n[m+2],v=n[m+3],h.bezierCurveTo(n[m],n[m+1],S,v,S,v),b.updateCurvePathMinMax(h.mozCurrentTransform,t,d,n[m],n[m+1],S,v,S,v),m+=4;break;case o.OPS.closePath:h.closePath();break}b.setCurrentPoint(S,v)}closePath(){this.ctx.closePath()}stroke(i){i=typeof i!="undefined"?i:!0;const n=this.ctx,h=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof h=="object"&&(h==null?void 0:h.getPattern)){const b=this.getSinglePixelWidth();n.save(),n.strokeStyle=h.getPattern(n,this,n.mozCurrentTransformInverse,Z.PathType.STROKE),n.lineWidth=Math.max(b,this.current.lineWidth),n.stroke(),n.restore()}else{const b=this.getSinglePixelWidth();b<0&&-b>=this.current.lineWidth?(n.save(),n.resetTransform(),n.lineWidth=Math.floor(this._combinedScaleFactor),n.stroke(),n.restore()):(n.lineWidth=Math.max(b,this.current.lineWidth),n.stroke())}i&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(i){i=typeof i!="undefined"?i:!0;const n=this.ctx,h=this.current.fillColor,b=this.current.patternFill;let S=!1;b&&(n.save(),n.fillStyle=h.getPattern(n,this,n.mozCurrentTransformInverse,Z.PathType.FILL),S=!0);const v=this.current.getClippedPathBoundingBox();this.contentVisible&&v!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),S&&n.restore(),i&&this.consumePath(v)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=z}eoClip(){this.pendingClip=J}beginText(){this.current.textMatrix=o.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const i=this.pendingTextPaths,n=this.ctx;if(i===void 0){n.beginPath();return}n.save(),n.beginPath();for(let h=0;h<i.length;h++){const b=i[h];n.setTransform.apply(n,b.transform),n.translate(b.x,b.y),b.addToPath(n,b.fontSize)}n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(i){this.current.charSpacing=i}setWordSpacing(i){this.current.wordSpacing=i}setHScale(i){this.current.textHScale=i/100}setLeading(i){this.current.leading=-i}setFont(i,n){const h=this.commonObjs.get(i),b=this.current;if(!h)throw new Error(`Can't find font for ${i}`);if(b.fontMatrix=h.fontMatrix||o.FONT_IDENTITY_MATRIX,(b.fontMatrix[0]===0||b.fontMatrix[3]===0)&&(0,o.warn)("Invalid font matrix for font "+i),n<0?(n=-n,b.fontDirection=-1):b.fontDirection=1,this.current.font=h,this.current.fontSize=n,h.isType3Font)return;const S=h.loadedName||"sans-serif";let v="normal";h.black?v="900":h.bold&&(v="bold");const t=h.italic?"italic":"normal",d=`"${S}", ${h.fallbackName}`;let g=n;n<Q?g=Q:n>U&&(g=U),this.current.fontSizeScale=n/g,this.ctx.font=`${t} ${v} ${g}px ${d}`}setTextRenderingMode(i){this.current.textRenderingMode=i}setTextRise(i){this.current.textRise=i}moveText(i,n){this.current.x=this.current.lineX+=i,this.current.y=this.current.lineY+=n}setLeadingMoveText(i,n){this.setLeading(-n),this.moveText(i,n)}setTextMatrix(i,n,h,b,S,v){this.current.textMatrix=[i,n,h,b,S,v],this.current.textMatrixScale=Math.hypot(i,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(i,n,h,b,S){const v=this.ctx,t=this.current,d=t.font,g=t.textRenderingMode,m=t.fontSize/t.fontSizeScale,c=g&o.TextRenderingMode.FILL_STROKE_MASK,F=!!(g&o.TextRenderingMode.ADD_TO_PATH_FLAG),O=t.patternFill&&!d.missingFile;let N;(d.disableFontFace||F||O)&&(N=d.getPathGenerator(this.commonObjs,i)),d.disableFontFace||O?(v.save(),v.translate(n,h),v.beginPath(),N(v,m),b&&v.setTransform.apply(v,b),(c===o.TextRenderingMode.FILL||c===o.TextRenderingMode.FILL_STROKE)&&v.fill(),(c===o.TextRenderingMode.STROKE||c===o.TextRenderingMode.FILL_STROKE)&&(S&&(v.resetTransform(),v.lineWidth=Math.floor(this._combinedScaleFactor)),v.stroke()),v.restore()):((c===o.TextRenderingMode.FILL||c===o.TextRenderingMode.FILL_STROKE)&&v.fillText(i,n,h),(c===o.TextRenderingMode.STROKE||c===o.TextRenderingMode.FILL_STROKE)&&(S?(v.save(),v.moveTo(n,h),v.resetTransform(),v.lineWidth=Math.floor(this._combinedScaleFactor),v.strokeText(i,0,0),v.restore()):v.strokeText(i,n,h))),F&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:v.mozCurrentTransform,x:n,y:h,fontSize:m,addToPath:N})}get isFontSubpixelAAEnabled(){const{context:i}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);i.scale(1.5,1),i.fillText("I",0,10);const n=i.getImageData(0,0,10,10).data;let h=!1;for(let b=3;b<n.length;b+=4)if(n[b]>0&&n[b]<255){h=!0;break}return(0,o.shadow)(this,"isFontSubpixelAAEnabled",h)}showText(i){const n=this.current,h=n.font;if(h.isType3Font)return this.showType3Text(i);const b=n.fontSize;if(b===0)return;const S=this.ctx,v=n.fontSizeScale,t=n.charSpacing,d=n.wordSpacing,g=n.fontDirection,m=n.textHScale*g,c=i.length,F=h.vertical,O=F?1:-1,N=h.defaultVMetrics,q=b*n.fontMatrix[0],$=n.textRenderingMode===o.TextRenderingMode.FILL&&!h.disableFontFace&&!n.patternFill;S.save(),S.transform.apply(S,n.textMatrix),S.translate(n.x,n.y+n.textRise),g>0?S.scale(m,-1):S.scale(m,1);let K;if(n.patternFill){S.save();const ot=n.fillColor.getPattern(S,this,S.mozCurrentTransformInverse,Z.PathType.FILL);K=S.mozCurrentTransform,S.restore(),S.fillStyle=ot}let nt=n.lineWidth,tt=!1;const st=n.textMatrixScale;if(st===0||nt===0){const ot=n.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;(ot===o.TextRenderingMode.STROKE||ot===o.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,nt=this.getSinglePixelWidth(),tt=nt<0)}else nt/=st;v!==1&&(S.scale(v,v),nt/=v),S.lineWidth=nt;let lt=0,it;for(it=0;it<c;++it){const ot=i[it];if(typeof ot=="number"){lt+=O*ot*b/1e3;continue}let ct=!1;const ut=(ot.isSpace?d:0)+t,_t=ot.fontChar,Ct=ot.accent;let mt,vt,At=ot.width;if(F){const ft=ot.vmetric||N,Tt=-(ot.vmetric?ft[1]:At*.5)*q,Ut=ft[2]*q;At=ft?-ft[0]:At,mt=Tt/v,vt=(lt+Ut)/v}else mt=lt/v,vt=0;if(h.remeasure&&At>0){const ft=S.measureText(_t).width*1e3/b*v;if(At<ft&&this.isFontSubpixelAAEnabled){const Tt=At/ft;ct=!0,S.save(),S.scale(Tt,1),mt/=Tt}else At!==ft&&(mt+=(At-ft)/2e3*b/v)}if(this.contentVisible&&(ot.isInFont||h.missingFile)){if($&&!Ct)S.fillText(_t,mt,vt);else if(this.paintChar(_t,mt,vt,K,tt),Ct){const ft=mt+b*Ct.offset.x/v,Tt=vt-b*Ct.offset.y/v;this.paintChar(Ct.fontChar,ft,Tt,K,tt)}}let St;F?St=At*q-ut*g:St=At*q+ut*g,lt+=St,ct&&S.restore()}F?n.y-=lt:n.x+=lt*m,S.restore(),this.compose()}showType3Text(i){const n=this.ctx,h=this.current,b=h.font,S=h.fontSize,v=h.fontDirection,t=b.vertical?1:-1,d=h.charSpacing,g=h.wordSpacing,m=h.textHScale*v,c=h.fontMatrix||o.FONT_IDENTITY_MATRIX,F=i.length,O=h.textRenderingMode===o.TextRenderingMode.INVISIBLE;let N,q,$,K;if(!(O||S===0)){for(this._cachedGetSinglePixelWidth=null,n.save(),n.transform.apply(n,h.textMatrix),n.translate(h.x,h.y),n.scale(m,v),N=0;N<F;++N){if(q=i[N],typeof q=="number"){K=t*q*S/1e3,this.ctx.translate(K,0),h.x+=K*m;continue}const nt=(q.isSpace?g:0)+d,tt=b.charProcOperatorList[q.operatorListId];if(!tt){(0,o.warn)(`Type3 character "${q.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=q,this.save(),n.scale(S,S),n.transform.apply(n,c),this.executeOperatorList(tt),this.restore()),$=o.Util.applyTransform([q.width,0],c)[0]*S+nt,n.translate($,0),h.x+=$*m}n.restore(),this.processingType3=null}}setCharWidth(i,n){}setCharWidthAndBounds(i,n,h,b,S,v){this.ctx.rect(h,b,S-h,v-b),this.clip(),this.endPath()}getColorN_Pattern(i){let n;if(i[0]==="TilingPattern"){const h=i[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice(),S={createCanvasGraphics:v=>new Y(v,this.commonObjs,this.objs,this.canvasFactory)};n=new Z.TilingPattern(i,h,this.ctx,S,b)}else n=this._getPattern(i[1],i[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(i,n,h){const b=o.Util.makeHexColor(i,n,h);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(i,n,h){const b=o.Util.makeHexColor(i,n,h);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(i,n=null){let h;return this.cachedPatterns.has(i)?h=this.cachedPatterns.get(i):(h=(0,Z.getShadingPattern)(this.objs.get(i)),this.cachedPatterns.set(i,h)),n&&(h.matrix=n),h}shadingFill(i){if(!this.contentVisible)return;const n=this.ctx;this.save();const h=this._getPattern(i);n.fillStyle=h.getPattern(n,this,n.mozCurrentTransformInverse,Z.PathType.SHADING);const b=n.mozCurrentTransformInverse;if(b){const S=n.canvas,v=S.width,t=S.height,d=o.Util.applyTransform([0,0],b),g=o.Util.applyTransform([0,t],b),m=o.Util.applyTransform([v,0],b),c=o.Util.applyTransform([v,t],b),F=Math.min(d[0],g[0],m[0],c[0]),O=Math.min(d[1],g[1],m[1],c[1]),N=Math.max(d[0],g[0],m[0],c[0]),q=Math.max(d[1],g[1],m[1],c[1]);this.ctx.fillRect(F,O,N-F,q-O)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,o.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,o.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(i,n){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(i)&&i.length===6&&this.transform.apply(this,i),this.baseTransform=this.ctx.mozCurrentTransform,n)){const h=n[2]-n[0],b=n[3]-n[1];this.ctx.rect(n[0],n[1],h,b),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,n[0],n[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,n[2],n[3]),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(i){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;i.isolated||(0,o.info)("TODO: Support non-isolated groups."),i.knockout&&(0,o.warn)("Knockout groups not supported.");const h=n.mozCurrentTransform;if(i.matrix&&n.transform.apply(n,i.matrix),!i.bbox)throw new Error("Bounding box is required.");let b=o.Util.getAxialAlignedBoundingBox(i.bbox,n.mozCurrentTransform);const S=[0,0,n.canvas.width,n.canvas.height];b=o.Util.intersect(b,S)||[0,0,0,0];const v=Math.floor(b[0]),t=Math.floor(b[1]);let d=Math.max(Math.ceil(b[2])-v,1),g=Math.max(Math.ceil(b[3])-t,1),m=1,c=1;d>x&&(m=d/x,d=x),g>x&&(c=g/x,g=x),this.current.startNewPathAndClipBox([0,0,d,g]);let F="groupAt"+this.groupLevel;i.smask&&(F+="_smask_"+this.smaskCounter++%2);const O=this.cachedCanvases.getCanvas(F,d,g,!0),N=O.context;N.scale(1/m,1/c),N.translate(-v,-t),N.transform.apply(N,h),i.smask?this.smaskStack.push({canvas:O.canvas,context:N,offsetX:v,offsetY:t,scaleX:m,scaleY:c,subtype:i.smask.subtype,backdrop:i.smask.backdrop,transferMap:i.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(v,t),n.scale(m,c),n.save()),s(n,N),this.ctx=N,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(i){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,h=this.groupStack.pop();if(this.ctx=h,this.ctx.imageSmoothingEnabled=!1,i.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,b);const S=o.Util.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],b);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(S)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(i,n,h,b,S){if(this.save(),Array.isArray(n)&&n.length===4){const v=n[2]-n[0],t=n[3]-n[1];if(S&&this.annotationCanvasMap){h=h.slice(),h[4]-=n[0],h[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=v,n[3]=t;const[d,g]=o.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:m}=this,c=Math.ceil(v*this.outputScaleX*m),F=Math.ceil(t*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(c,F);const{canvas:O,context:N}=this.annotationCanvas;O.style.width=`calc(${v}px * var(--viewport-scale-factor))`,O.style.height=`calc(${t}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(i,O),this.annotationCanvas.savedCtx=this.ctx,this.ctx=N,this.ctx.setTransform(d,0,0,-g,0,t*g),T(this.ctx),a(this.ctx)}else a(this.ctx),this.ctx.rect(n[0],n[1],v,t),this.clip(),this.endPath()}this.current=new L(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,h),this.transform.apply(this,b)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(i){if(!this.contentVisible)return;const n=this.ctx,h=i.width,b=i.height,S=this.processingType3;if(S&&S.compiled===void 0&&(h<=r&&b<=r?S.compiled=j({data:i.data,width:h,height:b}):S.compiled=null),S!=null&&S.compiled){S.compiled(n);return}const v=this._createMaskCanvas(i),t=v.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(t,v.offsetX,v.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(i,n,h=0,b=0,S,v){if(!this.contentVisible)return;const t=this.ctx;t.save();const d=t.mozCurrentTransform;t.transform(n,h,b,S,0,0);const g=this._createMaskCanvas(i);t.setTransform(1,0,0,1,0,0);for(let m=0,c=v.length;m<c;m+=2){const F=o.Util.transform(d,[n,h,b,S,v[m],v[m+1]]),[O,N]=o.Util.applyTransform([0,0],F);t.drawImage(g.canvas,O,N)}t.restore(),this.compose()}paintImageMaskXObjectGroup(i){if(!this.contentVisible)return;const n=this.ctx,h=this.current.fillColor,b=this.current.patternFill;for(let S=0,v=i.length;S<v;S++){const t=i[S],d=t.width,g=t.height,m=this.cachedCanvases.getCanvas("maskCanvas",d,g),c=m.context;c.save(),P(c,t),c.globalCompositeOperation="source-in",c.fillStyle=b?h.getPattern(c,this,n.mozCurrentTransformInverse,Z.PathType.FILL):h,c.fillRect(0,0,d,g),c.restore(),n.save(),n.transform.apply(n,t.transform),n.scale(1,-1),n.drawImage(m.canvas,0,0,d,g,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(i){if(!this.contentVisible)return;const n=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);if(!n){(0,o.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(i,n,h,b){if(!this.contentVisible)return;const S=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);if(!S){(0,o.warn)("Dependent image isn't ready yet");return}const v=S.width,t=S.height,d=[];for(let g=0,m=b.length;g<m;g+=2)d.push({transform:[n,0,0,h,b[g],b[g+1]],x:0,y:0,w:v,h:t});this.paintInlineImageXObjectGroup(S,d)}paintInlineImageXObject(i){if(!this.contentVisible)return;const n=i.width,h=i.height,b=this.ctx;this.save(),b.scale(1/n,-1/h);let S;if(typeof HTMLElement=="function"&&i instanceof HTMLElement||!i.data)S=i;else{const t=this.cachedCanvases.getCanvas("inlineImage",n,h),d=t.context;R(d,i,this.current.transferMaps),S=t.canvas}const v=this._scaleImage(S,b.mozCurrentTransformInverse);if(b.imageSmoothingEnabled=D(b.mozCurrentTransform,i.interpolate),b.drawImage(v.img,0,0,v.paintWidth,v.paintHeight,0,-h,n,h),this.imageLayer){const t=this.getCanvasPosition(0,-h);this.imageLayer.appendImage({imgData:i,left:t[0],top:t[1],width:n/b.mozCurrentTransformInverse[0],height:h/b.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(i,n){if(!this.contentVisible)return;const h=this.ctx,b=i.width,S=i.height,v=this.cachedCanvases.getCanvas("inlineImage",b,S),t=v.context;R(t,i,this.current.transferMaps);for(let d=0,g=n.length;d<g;d++){const m=n[d];if(h.save(),h.transform.apply(h,m.transform),h.scale(1,-1),h.drawImage(v.canvas,m.x,m.y,m.w,m.h,0,-1,1,1),this.imageLayer){const c=this.getCanvasPosition(m.x,m.y);this.imageLayer.appendImage({imgData:i,left:c[0],top:c[1],width:b,height:S})}h.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(i){}markPointProps(i,n){}beginMarkedContent(i){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(i,n){i==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(i){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const n=this.ctx;this.pendingClip&&(this.pendingClip===J?n.clip("evenodd"):n.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(this._cachedGetSinglePixelWidth===null){const i=this.ctx.mozCurrentTransform,n=Math.abs(i[0]*i[3]-i[2]*i[1]),h=i[0]**2+i[2]**2,b=i[1]**2+i[3]**2,S=Math.sqrt(Math.max(h,b))/n;h!==b&&this._combinedScaleFactor*S>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*S):n>Number.EPSILON?this._cachedGetSinglePixelWidth=S:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}getCanvasPosition(i,n){const h=this.ctx.mozCurrentTransform;return[h[0]*i+h[2]*n+h[4],h[1]*i+h[3]*n+h[5]]}isContentVisible(){for(let i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}}A.CanvasGraphics=Y;for(const _ in o.OPS)Y.prototype[_]!==void 0&&(Y.prototype[o.OPS[_]]=Y.prototype[_])},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.TilingPattern=A.PathType=void 0,A.getShadingPattern=f;var o=V(1);const Z={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};A.PathType=Z;function G(T,p){if(!p||typeof Path2D=="undefined")return;const j=p[2]-p[0],L=p[3]-p[1],R=new Path2D;R.rect(p[0],p[1],j,L),T.clip(R)}class Q{constructor(){this.constructor===Q&&(0,o.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,o.unreachable)("Abstract method `getPattern` called.")}}class U extends Q{constructor(p){super();this._type=p[1],this._bbox=p[2],this._colorStops=p[3],this._p0=p[4],this._p1=p[5],this._r0=p[6],this._r1=p[7],this.matrix=null}_createGradient(p){let j;this._type==="axial"?j=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(j=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const L of this._colorStops)j.addColorStop(L[0],L[1]);return j}getPattern(p,j,L,R){let P;if(R===Z.STROKE||R===Z.FILL){const s=j.current.getClippedPathBoundingBox(R,p.mozCurrentTransform)||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,C=Math.ceil(s[3]-s[1])||1,E=j.cachedCanvases.getCanvas("pattern",a,C,!0),y=E.context;y.clearRect(0,0,y.canvas.width,y.canvas.height),y.beginPath(),y.rect(0,0,y.canvas.width,y.canvas.height),y.translate(-s[0],-s[1]),L=o.Util.transform(L,[1,0,0,1,s[0],s[1]]),y.transform.apply(y,j.baseTransform),this.matrix&&y.transform.apply(y,this.matrix),G(y,this._bbox),y.fillStyle=this._createGradient(y),y.fill(),P=p.createPattern(E.canvas,"no-repeat");const M=new DOMMatrix(L);try{P.setTransform(M)}catch(w){(0,o.warn)(`RadialAxialShadingPattern.getPattern: "${w==null?void 0:w.message}".`)}}else G(p,this._bbox),P=this._createGradient(p);return P}}function x(T,p,j,L,R,P,s,a){const C=p.coords,E=p.colors,y=T.data,M=T.width*4;let w;C[j+1]>C[L+1]&&(w=j,j=L,L=w,w=P,P=s,s=w),C[L+1]>C[R+1]&&(w=L,L=R,R=w,w=s,s=a,a=w),C[j+1]>C[L+1]&&(w=j,j=L,L=w,w=P,P=s,s=w);const D=(C[j]+p.offsetX)*p.scaleX,H=(C[j+1]+p.offsetY)*p.scaleY,W=(C[L]+p.offsetX)*p.scaleX,z=(C[L+1]+p.offsetY)*p.scaleY,J=(C[R]+p.offsetX)*p.scaleX,Y=(C[R+1]+p.offsetY)*p.scaleY;if(H>=Y)return;const _=E[P],i=E[P+1],n=E[P+2],h=E[s],b=E[s+1],S=E[s+2],v=E[a],t=E[a+1],d=E[a+2],g=Math.round(H),m=Math.round(Y);let c,F,O,N,q,$,K,nt;for(let tt=g;tt<=m;tt++){if(tt<z){let ct;tt<H?ct=0:ct=(H-tt)/(H-z),c=D-(D-W)*ct,F=_-(_-h)*ct,O=i-(i-b)*ct,N=n-(n-S)*ct}else{let ct;tt>Y?ct=1:z===Y?ct=0:ct=(z-tt)/(z-Y),c=W-(W-J)*ct,F=h-(h-v)*ct,O=b-(b-t)*ct,N=S-(S-d)*ct}let st;tt<H?st=0:tt>Y?st=1:st=(H-tt)/(H-Y),q=D-(D-J)*st,$=_-(_-v)*st,K=i-(i-t)*st,nt=n-(n-d)*st;const lt=Math.round(Math.min(c,q)),it=Math.round(Math.max(c,q));let ot=M*tt+lt*4;for(let ct=lt;ct<=it;ct++)st=(c-ct)/(c-q),st<0?st=0:st>1&&(st=1),y[ot++]=F-(F-$)*st|0,y[ot++]=O-(O-K)*st|0,y[ot++]=N-(N-nt)*st|0,y[ot++]=255}}function e(T,p,j){const L=p.coords,R=p.colors;let P,s;switch(p.type){case"lattice":const a=p.verticesPerRow,C=Math.floor(L.length/a)-1,E=a-1;for(P=0;P<C;P++){let y=P*a;for(let M=0;M<E;M++,y++)x(T,j,L[y],L[y+1],L[y+a],R[y],R[y+1],R[y+a]),x(T,j,L[y+a+1],L[y+1],L[y+a],R[y+a+1],R[y+1],R[y+a])}break;case"triangles":for(P=0,s=L.length;P<s;P+=3)x(T,j,L[P],L[P+1],L[P+2],R[P],R[P+1],R[P+2]);break;default:throw new Error("illegal figure")}}class l extends Q{constructor(p){super();this._coords=p[2],this._colors=p[3],this._figures=p[4],this._bounds=p[5],this._bbox=p[7],this._background=p[8],this.matrix=null}_createMeshCanvas(p,j,L){const a=Math.floor(this._bounds[0]),C=Math.floor(this._bounds[1]),E=Math.ceil(this._bounds[2])-a,y=Math.ceil(this._bounds[3])-C,M=Math.min(Math.ceil(Math.abs(E*p[0]*1.1)),3e3),w=Math.min(Math.ceil(Math.abs(y*p[1]*1.1)),3e3),D=E/M,H=y/w,W={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-C,scaleX:1/D,scaleY:1/H},z=M+2*2,J=w+2*2,Y=L.getCanvas("mesh",z,J,!1),_=Y.context,i=_.createImageData(M,w);if(j){const h=i.data;for(let b=0,S=h.length;b<S;b+=4)h[b]=j[0],h[b+1]=j[1],h[b+2]=j[2],h[b+3]=255}for(const h of this._figures)e(i,h,W);return _.putImageData(i,2,2),{canvas:Y.canvas,offsetX:a-2*D,offsetY:C-2*H,scaleX:D,scaleY:H}}getPattern(p,j,L,R){G(p,this._bbox);let P;if(R===Z.SHADING)P=o.Util.singularValueDecompose2dScale(p.mozCurrentTransform);else if(P=o.Util.singularValueDecompose2dScale(j.baseTransform),this.matrix){const a=o.Util.singularValueDecompose2dScale(this.matrix);P=[P[0]*a[0],P[1]*a[1]]}const s=this._createMeshCanvas(P,R===Z.SHADING?null:this._background,j.cachedCanvases);return R!==Z.SHADING&&(p.setTransform.apply(p,j.baseTransform),this.matrix&&p.transform.apply(p,this.matrix)),p.translate(s.offsetX,s.offsetY),p.scale(s.scaleX,s.scaleY),p.createPattern(s.canvas,"no-repeat")}}class r extends Q{getPattern(){return"hotpink"}}function f(T){switch(T[0]){case"RadialAxial":return new U(T);case"Mesh":return new l(T);case"Dummy":return new r}throw new Error(`Unknown IR type: ${T[0]}`)}const u={COLORED:1,UNCOLORED:2};class k{static get MAX_PATTERN_SIZE(){return(0,o.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(p,j,L,R,P){this.operatorList=p[2],this.matrix=p[3]||[1,0,0,1,0,0],this.bbox=p[4],this.xstep=p[5],this.ystep=p[6],this.paintType=p[7],this.tilingType=p[8],this.color=j,this.ctx=L,this.canvasGraphicsFactory=R,this.baseTransform=P}createPatternCanvas(p){const j=this.operatorList,L=this.bbox,R=this.xstep,P=this.ystep,s=this.paintType,a=this.tilingType,C=this.color,E=this.canvasGraphicsFactory;(0,o.info)("TilingType: "+a);const y=L[0],M=L[1],w=L[2],D=L[3],H=o.Util.singularValueDecompose2dScale(this.matrix),W=o.Util.singularValueDecompose2dScale(this.baseTransform),z=[H[0]*W[0],H[1]*W[1]],J=this.getSizeAndScale(R,this.ctx.canvas.width,z[0]),Y=this.getSizeAndScale(P,this.ctx.canvas.height,z[1]),_=p.cachedCanvases.getCanvas("pattern",J.size,Y.size,!0),i=_.context,n=E.createCanvasGraphics(i);n.groupLevel=p.groupLevel,this.setFillAndStrokeStyleToContext(n,s,C);let h=y,b=M,S=w,v=D;return y<0&&(h=0,S+=Math.abs(y)),M<0&&(b=0,v+=Math.abs(M)),i.translate(-(J.scale*h),-(Y.scale*b)),n.transform(J.scale,0,0,Y.scale,0,0),i.save(),this.clipBbox(n,h,b,S,v),n.baseTransform=n.ctx.mozCurrentTransform.slice(),n.executeOperatorList(j),n.endDrawing(),{canvas:_.canvas,scaleX:J.scale,scaleY:Y.scale,offsetX:h,offsetY:b}}getSizeAndScale(p,j,L){p=Math.abs(p);const R=Math.max(k.MAX_PATTERN_SIZE,j);let P=Math.ceil(p*L);return P>=R?P=R:L=P/p,{scale:L,size:P}}clipBbox(p,j,L,R,P){const s=R-j,a=P-L;p.ctx.rect(j,L,s,a),p.clip(),p.endPath()}setFillAndStrokeStyleToContext(p,j,L){const R=p.ctx,P=p.current;switch(j){case u.COLORED:const s=this.ctx;R.fillStyle=s.fillStyle,R.strokeStyle=s.strokeStyle,P.fillColor=s.fillStyle,P.strokeColor=s.strokeStyle;break;case u.UNCOLORED:const a=o.Util.makeHexColor(L[0],L[1],L[2]);R.fillStyle=a,R.strokeStyle=a,P.fillColor=a,P.strokeColor=a;break;default:throw new o.FormatError(`Unsupported paint type: ${j}`)}}getPattern(p,j,L,R){let P=L;R!==Z.SHADING&&(P=o.Util.transform(P,j.baseTransform),this.matrix&&(P=o.Util.transform(P,this.matrix)));const s=this.createPatternCanvas(j);let a=new DOMMatrix(P);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const C=p.createPattern(s.canvas,"repeat");try{C.setTransform(a)}catch(E){(0,o.warn)(`TilingPattern.getPattern: "${E==null?void 0:E.message}".`)}return C}}A.TilingPattern=k},(et,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.GlobalWorkerOptions=void 0;const V=Object.create(null);A.GlobalWorkerOptions=V,V.workerPort=V.workerPort===void 0?null:V.workerPort,V.workerSrc=V.workerSrc===void 0?"":V.workerSrc},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.MessageHandler=void 0;var o=V(1);const Z={UNKNOWN:0,DATA:1,ERROR:2},G={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Q(x){switch(x instanceof Error||typeof x=="object"&&x!==null||(0,o.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new o.AbortException(x.message);case"MissingPDFException":return new o.MissingPDFException(x.message);case"PasswordException":return new o.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new o.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new o.UnknownErrorException(x.message,x.details);default:return new o.UnknownErrorException(x.message,x.toString())}}class U{constructor(e,l,r){this.sourceName=e,this.targetName=l,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=f=>{const u=f.data;if(u.targetName!==this.sourceName)return;if(u.stream){this._processStreamMessage(u);return}if(u.callback){const T=u.callbackId,p=this.callbackCapabilities[T];if(!p)throw new Error(`Cannot resolve callback ${T}`);if(delete this.callbackCapabilities[T],u.callback===Z.DATA)p.resolve(u.data);else if(u.callback===Z.ERROR)p.reject(Q(u.reason));else throw new Error("Unexpected callback case");return}const k=this.actionHandler[u.action];if(!k)throw new Error(`Unknown action from worker: ${u.action}`);if(u.callbackId){const T=this.sourceName,p=u.sourceName;new Promise(function(j){j(k(u.data))}).then(function(j){r.postMessage({sourceName:T,targetName:p,callback:Z.DATA,callbackId:u.callbackId,data:j})},function(j){r.postMessage({sourceName:T,targetName:p,callback:Z.ERROR,callbackId:u.callbackId,reason:Q(j)})});return}if(u.streamId){this._createStreamSink(u);return}k(u.data)},r.addEventListener("message",this._onComObjOnMessage)}on(e,l){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=l}send(e,l,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:l},r)}sendWithPromise(e,l,r){const f=this.callbackId++,u=(0,o.createPromiseCapability)();this.callbackCapabilities[f]=u;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:f,data:l},r)}catch(k){u.reject(k)}return u.promise}sendWithStream(e,l,r,f){const u=this.streamId++,k=this.sourceName,T=this.targetName,p=this.comObj;return new ReadableStream({start:j=>{const L=(0,o.createPromiseCapability)();return this.streamControllers[u]={controller:j,startCall:L,pullCall:null,cancelCall:null,isClosed:!1},p.postMessage({sourceName:k,targetName:T,action:e,streamId:u,data:l,desiredSize:j.desiredSize},f),L.promise},pull:j=>{const L=(0,o.createPromiseCapability)();return this.streamControllers[u].pullCall=L,p.postMessage({sourceName:k,targetName:T,stream:G.PULL,streamId:u,desiredSize:j.desiredSize}),L.promise},cancel:j=>{(0,o.assert)(j instanceof Error,"cancel must have a valid reason");const L=(0,o.createPromiseCapability)();return this.streamControllers[u].cancelCall=L,this.streamControllers[u].isClosed=!0,p.postMessage({sourceName:k,targetName:T,stream:G.CANCEL,streamId:u,reason:Q(j)}),L.promise}},r)}_createStreamSink(e){const l=e.streamId,r=this.sourceName,f=e.sourceName,u=this.comObj,k=this,T=this.actionHandler[e.action],p={enqueue(j,L=1,R){if(this.isCancelled)return;const P=this.desiredSize;this.desiredSize-=L,P>0&&this.desiredSize<=0&&(this.sinkCapability=(0,o.createPromiseCapability)(),this.ready=this.sinkCapability.promise),u.postMessage({sourceName:r,targetName:f,stream:G.ENQUEUE,streamId:l,chunk:j},R)},close(){this.isCancelled||(this.isCancelled=!0,u.postMessage({sourceName:r,targetName:f,stream:G.CLOSE,streamId:l}),delete k.streamSinks[l])},error(j){(0,o.assert)(j instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,u.postMessage({sourceName:r,targetName:f,stream:G.ERROR,streamId:l,reason:Q(j)}))},sinkCapability:(0,o.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[l]=p,new Promise(function(j){j(T(e.data,p))}).then(function(){u.postMessage({sourceName:r,targetName:f,stream:G.START_COMPLETE,streamId:l,success:!0})},function(j){u.postMessage({sourceName:r,targetName:f,stream:G.START_COMPLETE,streamId:l,reason:Q(j)})})}_processStreamMessage(e){const l=e.streamId,r=this.sourceName,f=e.sourceName,u=this.comObj,k=this.streamControllers[l],T=this.streamSinks[l];switch(e.stream){case G.START_COMPLETE:e.success?k.startCall.resolve():k.startCall.reject(Q(e.reason));break;case G.PULL_COMPLETE:e.success?k.pullCall.resolve():k.pullCall.reject(Q(e.reason));break;case G.PULL:if(!T){u.postMessage({sourceName:r,targetName:f,stream:G.PULL_COMPLETE,streamId:l,success:!0});break}T.desiredSize<=0&&e.desiredSize>0&&T.sinkCapability.resolve(),T.desiredSize=e.desiredSize,new Promise(function(p){p(T.onPull&&T.onPull())}).then(function(){u.postMessage({sourceName:r,targetName:f,stream:G.PULL_COMPLETE,streamId:l,success:!0})},function(p){u.postMessage({sourceName:r,targetName:f,stream:G.PULL_COMPLETE,streamId:l,reason:Q(p)})});break;case G.ENQUEUE:if((0,o.assert)(k,"enqueue should have stream controller"),k.isClosed)break;k.controller.enqueue(e.chunk);break;case G.CLOSE:if((0,o.assert)(k,"close should have stream controller"),k.isClosed)break;k.isClosed=!0,k.controller.close(),this._deleteStreamController(k,l);break;case G.ERROR:(0,o.assert)(k,"error should have stream controller"),k.controller.error(Q(e.reason)),this._deleteStreamController(k,l);break;case G.CANCEL_COMPLETE:e.success?k.cancelCall.resolve():k.cancelCall.reject(Q(e.reason)),this._deleteStreamController(k,l);break;case G.CANCEL:if(!T)break;new Promise(function(p){p(T.onCancel&&T.onCancel(Q(e.reason)))}).then(function(){u.postMessage({sourceName:r,targetName:f,stream:G.CANCEL_COMPLETE,streamId:l,success:!0})},function(p){u.postMessage({sourceName:r,targetName:f,stream:G.CANCEL_COMPLETE,streamId:l,reason:Q(p)})}),T.sinkCapability.reject(Q(e.reason)),T.isCancelled=!0,delete this.streamSinks[l];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(e,l){await Promise.allSettled([e.startCall&&e.startCall.promise,e.pullCall&&e.pullCall.promise,e.cancelCall&&e.cancelCall.promise]),delete this.streamControllers[l]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}A.MessageHandler=U},(et,A,V)=>{var G,Q;Object.defineProperty(A,"__esModule",{value:!0}),A.Metadata=void 0;var o=V(1);class Z{constructor({parsedData:x,rawData:e}){Pt(this,G,void 0);Pt(this,Q,void 0);kt(this,G,x),kt(this,Q,e)}getRaw(){return pt(this,Q)}get(x){var e;return(e=pt(this,G).get(x))!=null?e:null}getAll(){return(0,o.objectFromMap)(pt(this,G))}has(x){return pt(this,G).has(x)}}G=new WeakMap,Q=new WeakMap,A.Metadata=Z},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.OptionalContentConfig=void 0;var o=V(1);class Z{constructor(U,x){this.visible=!0,this.name=U,this.intent=x}}class G{constructor(U){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,U!==null){this.name=U.name,this.creator=U.creator,this._order=U.order;for(const x of U.groups)this._groups.set(x.id,new Z(x.name,x.intent));if(U.baseState==="OFF")for(const x of this._groups)x.visible=!1;for(const x of U.on)this._groups.get(x).visible=!0;for(const x of U.off)this._groups.get(x).visible=!1}}_evaluateVisibilityExpression(U){const x=U.length;if(x<2)return!0;const e=U[0];for(let l=1;l<x;l++){const r=U[l];let f;if(Array.isArray(r))f=this._evaluateVisibilityExpression(r);else if(this._groups.has(r))f=this._groups.get(r).visible;else return(0,o.warn)(`Optional content group not found: ${r}`),!0;switch(e){case"And":if(!f)return!1;break;case"Or":if(f)return!0;break;case"Not":return!f;default:return!0}}return e==="And"}isVisible(U){if(this._groups.size===0)return!0;if(!U)return(0,o.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return this._groups.has(U.id)?this._groups.get(U.id).visible:((0,o.warn)(`Optional content group not found: ${U.id}`),!0);if(U.type==="OCMD"){if(U.expression)return this._evaluateVisibilityExpression(U.expression);if(!U.policy||U.policy==="AnyOn"){for(const x of U.ids){if(!this._groups.has(x))return(0,o.warn)(`Optional content group not found: ${x}`),!0;if(this._groups.get(x).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const x of U.ids){if(!this._groups.has(x))return(0,o.warn)(`Optional content group not found: ${x}`),!0;if(!this._groups.get(x).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const x of U.ids){if(!this._groups.has(x))return(0,o.warn)(`Optional content group not found: ${x}`),!0;if(!this._groups.get(x).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const x of U.ids){if(!this._groups.has(x))return(0,o.warn)(`Optional content group not found: ${x}`),!0;if(this._groups.get(x).visible)return!1}return!0}return(0,o.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,o.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,x=!0){if(!this._groups.has(U)){(0,o.warn)(`Optional content group not found: ${U}`);return}this._groups.get(U).visible=!!x}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,o.objectFromMap)(this._groups):null}getGroup(U){return this._groups.get(U)||null}}A.OptionalContentConfig=G},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFDataTransportStream=void 0;var o=V(1),Z=V(5);class G{constructor(e,l){(0,o.assert)(l,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=e.progressiveDone||!1,this._contentDispositionFilename=e.contentDispositionFilename||null;const r=e.initialData;if((r==null?void 0:r.length)>0){const f=new Uint8Array(r).buffer;this._queuedChunks.push(f)}this._pdfDataRangeTransport=l,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._contentLength=e.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((f,u)=>{this._onReceiveData({begin:f,chunk:u})}),this._pdfDataRangeTransport.addProgressListener((f,u)=>{this._onProgress({loaded:f,total:u})}),this._pdfDataRangeTransport.addProgressiveReadListener(f=>{this._onReceiveData({chunk:f})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(e){const l=new Uint8Array(e.chunk).buffer;if(e.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(l):this._queuedChunks.push(l);else{const r=this._rangeReaders.some(function(f){return f._begin!==e.begin?!1:(f._enqueue(l),!0)});(0,o.assert)(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,l;return(l=(e=this._fullRequestReader)==null?void 0:e._loaded)!=null?l:0}_onProgress(e){if(e.total===void 0){const l=this._rangeReaders[0];l!=null&&l.onProgress&&l.onProgress({loaded:e.loaded})}else{const l=this._fullRequestReader;l!=null&&l.onProgress&&l.onProgress({loaded:e.loaded,total:e.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const l=this._rangeReaders.indexOf(e);l>=0&&this._rangeReaders.splice(l,1)}getFullReader(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Q(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,l){if(l<=this._progressiveDataLength)return null;const r=new U(this,e,l);return this._pdfDataRangeTransport.requestDataRange(e,l),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const l of this._rangeReaders.slice(0))l.cancel(e);this._pdfDataRangeTransport.abort()}}A.PDFDataTransportStream=G;class Q{constructor(e,l,r=!1,f=null){this._stream=e,this._done=r||!1,this._filename=(0,Z.isPdfFile)(f)?f:null,this._queuedChunks=l||[],this._loaded=0;for(const u of this._queuedChunks)this._loaded+=u.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=(0,o.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class U{constructor(e,l,r){this._stream=e,this._begin=l,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const l=this._queuedChunk;return this._queuedChunk=null,{value:l,done:!1}}if(this._done)return{value:void 0,done:!0};const e=(0,o.createPromiseCapability)();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const l of this._requests)l.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(et,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XfaText=void 0;class V{static textContent(Z){const G=[],Q={items:G,styles:Object.create(null)};function U(x){var r;if(!x)return;let e=null;const l=x.name;if(l==="#text")e=x.value;else if(V.shouldBuildText(l))(r=x==null?void 0:x.attributes)!=null&&r.textContent?e=x.attributes.textContent:x.value&&(e=x.value);else return;if(e!==null&&G.push({str:e}),!!x.children)for(const f of x.children)U(f)}return U(Z),Q}static shouldBuildText(Z){return!(Z==="textarea"||Z==="input"||Z==="option"||Z==="select")}}A.XfaText=V},(et,A,V)=>{var b,Vt;Object.defineProperty(A,"__esModule",{value:!0}),A.AnnotationLayer=void 0;var o=V(1),Z=V(5),G=V(9),Q=V(19),U=V(20);const x=1e3,e=new WeakSet;function l(v){return{width:v[2]-v[0],height:v[3]-v[1]}}class r{static create(t){switch(t.data.annotationType){case o.AnnotationType.LINK:return new u(t);case o.AnnotationType.TEXT:return new k(t);case o.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new p(t);case"Btn":return t.data.radioButton?new L(t):t.data.checkBox?new j(t):new R(t);case"Ch":return new P(t)}return new T(t);case o.AnnotationType.POPUP:return new s(t);case o.AnnotationType.FREETEXT:return new C(t);case o.AnnotationType.LINE:return new E(t);case o.AnnotationType.SQUARE:return new y(t);case o.AnnotationType.CIRCLE:return new M(t);case o.AnnotationType.POLYLINE:return new w(t);case o.AnnotationType.CARET:return new H(t);case o.AnnotationType.INK:return new W(t);case o.AnnotationType.POLYGON:return new D(t);case o.AnnotationType.HIGHLIGHT:return new z(t);case o.AnnotationType.UNDERLINE:return new J(t);case o.AnnotationType.SQUIGGLY:return new Y(t);case o.AnnotationType.STRIKEOUT:return new _(t);case o.AnnotationType.STAMP:return new i(t);case o.AnnotationType.FILEATTACHMENT:return new n(t);default:return new f(t)}}}class f{constructor(t,{isRenderable:d=!1,ignoreBorder:g=!1,createQuadrilaterals:m=!1}={}){this.isRenderable=d,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,d&&(this.container=this._createContainer(g)),m&&(this.quadrilaterals=this._createQuadrilaterals(g))}_createContainer(t=!1){const d=this.data,g=this.page,m=this.viewport,c=document.createElement("section");let{width:F,height:O}=l(d.rect);c.setAttribute("data-annotation-id",d.id);const N=o.Util.normalizeRect([d.rect[0],g.view[3]-d.rect[1]+g.view[1],d.rect[2],g.view[3]-d.rect[3]+g.view[1]]);if(d.hasOwnCanvas){const q=m.transform.slice(),[$,K]=o.Util.singularValueDecompose2dScale(q);F=Math.ceil(F*$),O=Math.ceil(O*K),N[0]*=$,N[1]*=K;for(let nt=0;nt<4;nt++)q[nt]=Math.sign(q[nt]);c.style.transform=`matrix(${q.join(",")})`}else c.style.transform=`matrix(${m.transform.join(",")})`;if(c.style.transformOrigin=`${-N[0]}px ${-N[1]}px`,!t&&d.borderStyle.width>0){c.style.borderWidth=`${d.borderStyle.width}px`,d.borderStyle.style!==o.AnnotationBorderStyleType.UNDERLINE&&(F-=2*d.borderStyle.width,O-=2*d.borderStyle.width);const q=d.borderStyle.horizontalCornerRadius,$=d.borderStyle.verticalCornerRadius;if(q>0||$>0){const nt=`${q}px / ${$}px`;c.style.borderRadius=nt}switch(d.borderStyle.style){case o.AnnotationBorderStyleType.SOLID:c.style.borderStyle="solid";break;case o.AnnotationBorderStyleType.DASHED:c.style.borderStyle="dashed";break;case o.AnnotationBorderStyleType.BEVELED:(0,o.warn)("Unimplemented border style: beveled");break;case o.AnnotationBorderStyleType.INSET:(0,o.warn)("Unimplemented border style: inset");break;case o.AnnotationBorderStyleType.UNDERLINE:c.style.borderBottomStyle="solid";break}d.borderColor||d.color||null?c.style.borderColor=o.Util.makeHexColor(d.color[0]|0,d.color[1]|0,d.color[2]|0):c.style.borderWidth=0}return c.style.left=`${N[0]}px`,c.style.top=`${N[1]}px`,d.hasOwnCanvas?c.style.width=c.style.height="auto":(c.style.width=`${F}px`,c.style.height=`${O}px`),c}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const d=[],g=this.data.rect;for(const m of this.data.quadPoints)this.data.rect=[m[2].x,m[2].y,m[1].x,m[1].y],d.push(this._createContainer(t));return this.data.rect=g,d}_createPopup(t,d){let g=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,g=this.quadrilaterals[0]),t||(t=document.createElement("div"),t.style.height=g.style.height,t.style.width=g.style.width,g.appendChild(t));const c=new a({container:g,trigger:t,color:d.color,titleObj:d.titleObj,modificationDate:d.modificationDate,contentsObj:d.contentsObj,richText:d.richText,hideWrapper:!0}).render();c.style.left=g.style.width,g.appendChild(c)}_renderQuadrilaterals(t){for(const d of this.quadrilaterals)d.className=t;return this.quadrilaterals}render(){(0,o.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,d=null){const g=[];if(this._fieldObjects){const m=this._fieldObjects[t];if(m)for(const{page:c,id:F,exportValues:O}of m){if(c===-1||F===d)continue;const N=typeof O=="string"?O:null,q=document.getElementById(F);if(q&&!e.has(q)){(0,o.warn)(`_getElementsByName - element not allowed: ${F}`);continue}g.push({id:F,exportValue:N,domElement:q})}return g}for(const m of document.getElementsByName(t)){const{id:c,exportValue:F}=m;c!==d&&(!e.has(m)||g.push({id:c,exportValue:F,domElement:m}))}return g}static get platform(){const t=typeof navigator!="undefined"?navigator.platform:"";return(0,o.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class u extends f{constructor(t,d=null){const g=!!(t.data.url||t.data.dest||t.data.action||t.data.isTooltipOnly||t.data.resetForm||t.data.actions&&(t.data.actions.Action||t.data.actions["Mouse Up"]||t.data.actions["Mouse Down"]));super(t,{isRenderable:g,ignoreBorder:!!(d!=null&&d.ignoreBorder),createQuadrilaterals:!0})}render(){var m;const{data:t,linkService:d}=this,g=document.createElement("a");if(t.url)d.addLinkAttributes||(0,o.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(m=d.addLinkAttributes)==null||m.call(d,g,t.url,t.newWindow);else if(t.action)this._bindNamedAction(g,t.action);else if(t.dest)this._bindLink(g,t.dest);else{let c=!1;t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(c=!0,this._bindJSAction(g,t)),t.resetForm?this._bindResetFormAction(g,t.resetForm):c||this._bindLink(g,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((c,F)=>{const O=F===0?g:g.cloneNode();return c.appendChild(O),c}):(this.container.className="linkAnnotation",this.container.appendChild(g),this.container)}_bindLink(t,d){t.href=this.linkService.getDestinationHash(d),t.onclick=()=>(d&&this.linkService.goToDestination(d),!1),(d||d==="")&&(t.className="internalLink")}_bindNamedAction(t,d){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(d),!1),t.className="internalLink"}_bindJSAction(t,d){t.href=this.linkService.getAnchorUrl("");const g=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const m of Object.keys(d.actions)){const c=g.get(m);!c||(t[c]=()=>{var F;return(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d.id,name:m}}),!1})}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,d){const g=t.onclick;if(g||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects){(0,o.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),g||(t.onclick=()=>!1);return}t.onclick=()=>{var $;g&&g();const{fields:m,refs:c,include:F}=d,O=[];if(m.length!==0||c.length!==0){const K=new Set(c);for(const nt of m){const tt=this._fieldObjects[nt]||[];for(const{id:st}of tt)K.add(st)}for(const nt of Object.values(this._fieldObjects))for(const tt of nt)K.has(tt.id)===F&&O.push(tt)}else for(const K of Object.values(this._fieldObjects))O.push(...K);const N=this.annotationStorage,q=[];for(const K of O){const{id:nt}=K;switch(q.push(nt),K.type){case"text":{const st=K.defaultValue||"";N.setValue(nt,{value:st,valueAsString:st});break}case"checkbox":case"radiobutton":{const st=K.defaultValue===K.exportValues;N.setValue(nt,{value:st});break}case"combobox":case"listbox":{const st=K.defaultValue||"";N.setValue(nt,{value:st});break}default:continue}const tt=document.getElementById(nt);!tt||!e.has(tt)||tt.dispatchEvent(new Event("resetform"))}return this.enableScripting&&(($=this.linkService.eventBus)==null||$.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:q,name:"ResetForm"}})),!1}}}class k extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.appendChild(t),this.container}}class T extends f{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:d,isMac:g}=f.platform;return d&&t.ctrlKey||g&&t.metaKey}_setEventListener(t,d,g,m){d.includes("mouse")?t.addEventListener(d,c=>{var F;(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:g,value:m(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):t.addEventListener(d,c=>{var F;(F=this.linkService.eventBus)==null||F.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:g,value:m(c)}})})}_setEventListeners(t,d,g){var m;for(const[c,F]of d)(F==="Action"||((m=this.data.actions)==null?void 0:m[F]))&&this._setEventListener(t,c,F,g)}_setBackgroundColor(t){const d=this.data.backgroundColor||null;t.style.backgroundColor=d===null?"transparent":o.Util.makeHexColor(d[0],d[1],d[2])}_dispatchEventFromSandbox(t,d){const g=(c,F,O)=>{const N=O.detail[c];O.target.style[F]=Q.ColorConverters[`${N[0]}_HTML`](N.slice(1))},m={display:c=>{const F=c.detail.display%2===1;c.target.style.visibility=F?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:F,print:c.detail.display===0||c.detail.display===3})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{c.target.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{c.detail.required?c.target.setAttribute("required",""):c.target.removeAttribute("required")},bgColor:c=>{g("bgColor","backgroundColor",c)},fillColor:c=>{g("fillColor","backgroundColor",c)},fgColor:c=>{g("fgColor","color",c)},textColor:c=>{g("textColor","color",c)},borderColor:c=>{g("borderColor","borderColor",c)},strokeColor:c=>{g("strokeColor","borderColor",c)}};for(const c of Object.keys(d.detail)){const F=t[c]||m[c];F&&F(d)}}}class p extends T{constructor(t){const d=t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:d})}setPropertyOnSiblings(t,d,g,m){const c=this.annotationStorage;for(const F of this._getElementsByName(t.name,t.id))F.domElement&&(F.domElement[d]=g),c.setValue(F.id,{[m]:g})}render(){var m;const t=this.annotationStorage,d=this.data.id;this.container.className="textWidgetAnnotation";let g=null;if(this.renderForms){const c=t.getValue(d,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),F=c.valueAsString||c.value||"",O={userValue:null,formattedValue:null};this.data.multiLine?(g=document.createElement("textarea"),g.textContent=F):(g=document.createElement("input"),g.type="text",g.setAttribute("value",F)),e.add(g),g.disabled=this.data.readOnly,g.name=this.data.fieldName,g.tabIndex=x,O.userValue=F,g.setAttribute("id",d),g.addEventListener("input",q=>{t.setValue(d,{value:q.target.value}),this.setPropertyOnSiblings(g,"value",q.target.value,"value")}),g.addEventListener("resetform",q=>{const $=this.data.defaultFieldValue||"";g.value=O.userValue=$,delete O.formattedValue});let N=q=>{O.formattedValue&&(q.target.value=O.formattedValue),q.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){g.addEventListener("focus",$=>{O.userValue&&($.target.value=O.userValue)}),g.addEventListener("updatefromsandbox",$=>{const K={value(nt){O.userValue=nt.detail.value||"",t.setValue(d,{value:O.userValue.toString()}),O.formattedValue||(nt.target.value=O.userValue)},valueAsString(nt){O.formattedValue=nt.detail.valueAsString||"",nt.target!==document.activeElement&&(nt.target.value=O.formattedValue),t.setValue(d,{formattedValue:O.formattedValue})},selRange(nt){const[tt,st]=nt.detail.selRange;tt>=0&&st<nt.target.value.length&&nt.target.setSelectionRange(tt,st)}};this._dispatchEventFromSandbox(K,$)}),g.addEventListener("keydown",$=>{var nt;let K=-1;$.key==="Escape"?K=0:$.key==="Enter"?K=2:$.key==="Tab"&&(K=3),K!==-1&&(O.userValue=$.target.value,(nt=this.linkService.eventBus)==null||nt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:$.target.value,willCommit:!0,commitKey:K,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}}))});const q=N;N=null,g.addEventListener("blur",$=>{var K;O.userValue=$.target.value,this._mouseState.isDown&&((K=this.linkService.eventBus)==null||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:$.target.value,willCommit:!0,commitKey:1,selStart:$.target.selectionStart,selEnd:$.target.selectionEnd}})),q($)}),(m=this.data.actions)!=null&&m.Keystroke&&g.addEventListener("beforeinput",$=>{var it;O.formattedValue="";const{data:K,target:nt}=$,{value:tt,selectionStart:st,selectionEnd:lt}=nt;(it=this.linkService.eventBus)==null||it.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:tt,change:K,willCommit:!1,selStart:st,selEnd:lt}})}),this._setEventListeners(g,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],$=>$.target.value)}if(N&&g.addEventListener("blur",N),this.data.maxLen!==null&&(g.maxLength=this.data.maxLen),this.data.comb){const $=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;g.classList.add("comb"),g.style.letterSpacing=`calc(${$}px - 1ch)`}}else g=document.createElement("div"),g.textContent=this.data.fieldValue,g.style.verticalAlign="middle",g.style.display="table-cell";return this._setTextStyle(g),this._setBackgroundColor(g),this.container.appendChild(g),this.container}_setTextStyle(t){const d=["left","center","right"],{fontSize:g,fontColor:m}=this.data.defaultAppearanceData,c=t.style;g&&(c.fontSize=`${g}px`),c.color=o.Util.makeHexColor(m[0],m[1],m[2]),this.data.textAlignment!==null&&(c.textAlign=d[this.data.textAlignment])}}class j extends T{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,d=this.data,g=d.id;let m=t.getValue(g,{value:d.exportValue===d.fieldValue}).value;typeof m=="string"&&(m=m!=="Off",t.setValue(g,{value:m})),this.container.className="buttonWidgetAnnotation checkBox";const c=document.createElement("input");return e.add(c),c.disabled=d.readOnly,c.type="checkbox",c.name=d.fieldName,m&&c.setAttribute("checked",!0),c.setAttribute("id",g),c.setAttribute("exportValue",d.exportValue),c.tabIndex=x,c.addEventListener("change",F=>{const{name:O,checked:N}=F.target;for(const q of this._getElementsByName(O,g)){const $=N&&q.exportValue===d.exportValue;q.domElement&&(q.domElement.checked=$),t.setValue(q.id,{value:$})}t.setValue(g,{value:N})}),c.addEventListener("resetform",F=>{const O=d.defaultFieldValue||"Off";F.target.checked=O===d.exportValue}),this.enableScripting&&this.hasJSActions&&(c.addEventListener("updatefromsandbox",F=>{const O={value(N){N.target.checked=N.detail.value!=="Off",t.setValue(g,{value:N.target.checked})}};this._dispatchEventFromSandbox(O,F)}),this._setEventListeners(c,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],F=>F.target.checked)),this._setBackgroundColor(c),this.container.appendChild(c),this.container}}class L extends T{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,d=this.data,g=d.id;let m=t.getValue(g,{value:d.fieldValue===d.buttonValue}).value;typeof m=="string"&&(m=m!==d.buttonValue,t.setValue(g,{value:m}));const c=document.createElement("input");if(e.add(c),c.disabled=d.readOnly,c.type="radio",c.name=d.fieldName,m&&c.setAttribute("checked",!0),c.setAttribute("id",g),c.tabIndex=x,c.addEventListener("change",F=>{const{name:O,checked:N}=F.target;for(const q of this._getElementsByName(O,g))t.setValue(q.id,{value:!1});t.setValue(g,{value:N})}),c.addEventListener("resetform",F=>{const O=d.defaultFieldValue;F.target.checked=O!=null&&O===d.buttonValue}),this.enableScripting&&this.hasJSActions){const F=d.buttonValue;c.addEventListener("updatefromsandbox",O=>{const N={value:q=>{const $=F===q.detail.value;for(const K of this._getElementsByName(q.target.name)){const nt=$&&K.id===g;K.domElement&&(K.domElement.checked=nt),t.setValue(K.id,{value:nt})}}};this._dispatchEventFromSandbox(N,O)}),this._setEventListeners(c,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],O=>O.target.checked)}return this._setBackgroundColor(c),this.container.appendChild(c),this.container}}class R extends u{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();return t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText),t}}class P extends T{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,d=this.data.id;t.getValue(d,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:g}=this.data.defaultAppearanceData;g||(g=9);const m=`calc(${g}px * var(--zoom-factor))`,c=document.createElement("select");e.add(c),c.disabled=this.data.readOnly,c.name=this.data.fieldName,c.setAttribute("id",d),c.tabIndex=x,c.style.fontSize=`${g}px`,this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",N=>{const q=this.data.defaultFieldValue;for(const $ of c.options)$.selected=$.value===q});for(const N of this.data.options){const q=document.createElement("option");q.textContent=N.displayValue,q.value=N.exportValue,this.data.combo&&(q.style.fontSize=m),this.data.fieldValue.includes(N.exportValue)&&q.setAttribute("selected",!0),c.appendChild(q)}const F=(N,q)=>{const $=q?"value":"textContent",K=N.target.options;return N.target.multiple?Array.prototype.filter.call(K,nt=>nt.selected).map(nt=>nt[$]):K.selectedIndex===-1?null:K[K.selectedIndex][$]},O=N=>{const q=N.target.options;return Array.prototype.map.call(q,$=>({displayValue:$.textContent,exportValue:$.value}))};return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",N=>{const q={value($){const K=$.detail.value,nt=new Set(Array.isArray(K)?K:[K]);for(const tt of c.options)tt.selected=nt.has(tt.value);t.setValue(d,{value:F($,!0)})},multipleSelection($){c.multiple=!0},remove($){const K=c.options,nt=$.detail.remove;K[nt].selected=!1,c.remove(nt),K.length>0&&Array.prototype.findIndex.call(K,st=>st.selected)===-1&&(K[0].selected=!0),t.setValue(d,{value:F($,!0),items:O($)})},clear($){for(;c.length!==0;)c.remove(0);t.setValue(d,{value:null,items:[]})},insert($){const{index:K,displayValue:nt,exportValue:tt}=$.detail.insert,st=document.createElement("option");st.textContent=nt,st.value=tt,c.insertBefore(st,c.children[K]),t.setValue(d,{value:F($,!0),items:O($)})},items($){const{items:K}=$.detail;for(;c.length!==0;)c.remove(0);for(const nt of K){const{displayValue:tt,exportValue:st}=nt,lt=document.createElement("option");lt.textContent=tt,lt.value=st,c.appendChild(lt)}c.options.length>0&&(c.options[0].selected=!0),t.setValue(d,{value:F($,!0),items:O($)})},indices($){const K=new Set($.detail.indices);for(const nt of $.target.options)nt.selected=K.has(nt.index);t.setValue(d,{value:F($,!0)})},editable($){$.target.disabled=!$.detail.editable}};this._dispatchEventFromSandbox(q,N)}),c.addEventListener("input",N=>{var K;const q=F(N,!0),$=F(N,!1);t.setValue(d,{value:q}),(K=this.linkService.eventBus)==null||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:d,name:"Keystroke",value:$,changeEx:q,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],N=>N.target.checked)):c.addEventListener("input",function(N){t.setValue(d,{value:F(N)})}),this._setBackgroundColor(c),this.container.appendChild(c),this.container}}class s extends f{constructor(t){var g,m,c;const d=!!(((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d})}render(){const t=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",t.includes(this.data.parentType))return this.container;const d=`[data-annotation-id="${this.data.parentId}"]`,g=this.layer.querySelectorAll(d);if(g.length===0)return this.container;const m=new a({container:this.container,trigger:Array.from(g),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),c=this.page,F=o.Util.normalizeRect([this.data.parentRect[0],c.view[3]-this.data.parentRect[1]+c.view[1],this.data.parentRect[2],c.view[3]-this.data.parentRect[3]+c.view[1]]),O=F[0]+this.data.parentRect[2]-this.data.parentRect[0],N=F[1];return this.container.style.transformOrigin=`${-O}px ${-N}px`,this.container.style.left=`${O}px`,this.container.style.top=`${N}px`,this.container.appendChild(m.render()),this.container}}class a{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){var O,N;const d=document.createElement("div");d.className="popupWrapper",this.hideElement=this.hideWrapper?d:this.container,this.hideElement.hidden=!0;const g=document.createElement("div");g.className="popup";const m=this.color;if(m){const q=.7*(255-m[0])+m[0],$=.7*(255-m[1])+m[1],K=.7*(255-m[2])+m[2];g.style.backgroundColor=o.Util.makeHexColor(q|0,$|0,K|0)}const c=document.createElement("h1");c.dir=this.titleObj.dir,c.textContent=this.titleObj.str,g.appendChild(c);const F=Z.PDFDateString.toDateObject(this.modificationDate);if(F){const q=document.createElement("span");q.className="popupDate",q.textContent="{{date}}, {{time}}",q.dataset.l10nId="annotation_date_string",q.dataset.l10nArgs=JSON.stringify({date:F.toLocaleDateString(),time:F.toLocaleTimeString()}),g.appendChild(q)}if(((O=this.richText)==null?void 0:O.str)&&(!((N=this.contentsObj)!=null&&N.str)||this.contentsObj.str===this.richText.str))U.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:g}),g.lastChild.className="richText popupContent";else{const q=this._formatContents(this.contentsObj);g.appendChild(q)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const q of this.trigger)q.addEventListener("click",this._toggle.bind(this)),q.addEventListener("mouseover",this._show.bind(this,!1)),q.addEventListener("mouseout",this._hide.bind(this,!1));return g.addEventListener("click",this._hide.bind(this,!0)),d.appendChild(g),d}_formatContents({str:t,dir:d}){const g=document.createElement("p");g.className="popupContent",g.dir=d;const m=t.split(/(?:\r\n?|\n)/);for(let c=0,F=m.length;c<F;++c){const O=m[c];g.appendChild(document.createTextNode(O)),c<F-1&&g.appendChild(document.createElement("br"))}return g}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class C extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class E extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:d,height:g}=l(t.rect),m=this.svgFactory.create(d,g),c=this.svgFactory.createElement("svg:line");return c.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),c.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),c.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),c.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),c.setAttribute("stroke-width",t.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),m.appendChild(c),this.container.append(m),this._createPopup(c,t),this.container}}class y extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:d,height:g}=l(t.rect),m=this.svgFactory.create(d,g),c=t.borderStyle.width,F=this.svgFactory.createElement("svg:rect");return F.setAttribute("x",c/2),F.setAttribute("y",c/2),F.setAttribute("width",d-c),F.setAttribute("height",g-c),F.setAttribute("stroke-width",c||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),m.appendChild(F),this.container.append(m),this._createPopup(F,t),this.container}}class M extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:d,height:g}=l(t.rect),m=this.svgFactory.create(d,g),c=t.borderStyle.width,F=this.svgFactory.createElement("svg:ellipse");return F.setAttribute("cx",d/2),F.setAttribute("cy",g/2),F.setAttribute("rx",d/2-c/2),F.setAttribute("ry",g/2-c/2),F.setAttribute("stroke-width",c||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),m.appendChild(F),this.container.append(m),this._createPopup(F,t),this.container}}class w extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0});this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:d,height:g}=l(t.rect),m=this.svgFactory.create(d,g);let c=[];for(const O of t.vertices){const N=O.x-t.rect[0],q=t.rect[3]-O.y;c.push(N+","+q)}c=c.join(" ");const F=this.svgFactory.createElement(this.svgElementName);return F.setAttribute("points",c),F.setAttribute("stroke-width",t.borderStyle.width||1),F.setAttribute("stroke","transparent"),F.setAttribute("fill","transparent"),m.appendChild(F),this.container.append(m),this._createPopup(F,t),this.container}}class D extends w{constructor(t){super(t);this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class H extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0});this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:d,height:g}=l(t.rect),m=this.svgFactory.create(d,g);for(const c of t.inkLists){let F=[];for(const N of c){const q=N.x-t.rect[0],$=t.rect[3]-N.y;F.push(`${q},${$}`)}F=F.join(" ");const O=this.svgFactory.createElement(this.svgElementName);O.setAttribute("points",F),O.setAttribute("stroke-width",t.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),this._createPopup(O,t),m.appendChild(O)}return this.container.append(m),this.container}}class z extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class J extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Y extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class _ extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class i extends f{constructor(t){var g,m,c;const d=!!(t.data.hasPopup||((g=t.data.titleObj)==null?void 0:g.str)||((m=t.data.contentsObj)==null?void 0:m.str)||((c=t.data.richText)==null?void 0:c.str));super(t,{isRenderable:d,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class n extends f{constructor(t){super(t,{isRenderable:!0});var m;const{filename:d,content:g}=this.data.file;this.filename=(0,Z.getFilenameFromUrl)(d),this.content=g,(m=this.linkService.eventBus)==null||m.dispatch("fileattachmentannotation",{source:this,id:(0,o.stringToPDFString)(d),filename:d,content:g})}render(){var d,g;this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.style.height=this.container.style.height,t.style.width=this.container.style.width,t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((d=this.data.titleObj)==null?void 0:d.str)||((g=this.data.contentsObj)==null?void 0:g.str)||this.data.richText)&&this._createPopup(t,this.data),this.container.appendChild(t),this.container}_download(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.container,this.content,this.filename)}}class h{static render(t){const d=[],g=[];for(const c of t.annotations){if(!c)continue;const{width:F,height:O}=l(c.rect);if(!(F<=0||O<=0)){if(c.annotationType===o.AnnotationType.POPUP){g.push(c);continue}d.push(c)}}g.length&&d.push(...g);const m=t.div;for(const c of d){const F=r.create({data:c,layer:m,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new Z.DOMSVGFactory,annotationStorage:t.annotationStorage||new G.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(F.isRenderable){const O=F.render();if(c.hidden&&(O.style.visibility="hidden"),Array.isArray(O))for(const N of O)m.appendChild(N);else F instanceof s?m.prepend(O):m.appendChild(O)}}Dt(this,b,Vt).call(this,m,t.annotationCanvasMap)}static update(t){const{page:d,viewport:g,annotations:m,annotationCanvasMap:c,div:F}=t,O=g.transform,N=`matrix(${O.join(",")})`;let q,$;for(const K of m){const nt=F.querySelectorAll(`[data-annotation-id="${K.id}"]`);if(nt)for(const tt of nt)if(K.hasOwnCanvas){const st=o.Util.normalizeRect([K.rect[0],d.view[3]-K.rect[1]+d.view[1],K.rect[2],d.view[3]-K.rect[3]+d.view[1]]);if(!$){q=Math.abs(O[0]||O[1]);const ot=O.slice();for(let ct=0;ct<4;ct++)ot[ct]=Math.sign(ot[ct]);$=`matrix(${ot.join(",")})`}const lt=st[0]*q,it=st[1]*q;tt.style.left=`${lt}px`,tt.style.top=`${it}px`,tt.style.transformOrigin=`${-lt}px ${-it}px`,tt.style.transform=$}else tt.style.transform=N}Dt(this,b,Vt).call(this,F,c),F.hidden=!1}}b=new WeakSet,Vt=function(t,d){if(!!d){for(const[g,m]of d){const c=t.querySelector(`[data-annotation-id="${g}"]`);if(!c)continue;const{firstChild:F}=c;F.nodeName==="CANVAS"?c.replaceChild(m,F):c.insertBefore(m,F)}d.clear()}},Pt(h,b),A.AnnotationLayer=h},(et,A)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.ColorConverters=void 0;function V(Z){return Math.floor(Math.max(0,Math.min(1,Z))*255).toString(16).padStart(2,"0")}class o{static CMYK_G([G,Q,U,x]){return["G",1-Math.min(1,.3*G+.59*U+.11*Q+x)]}static G_CMYK([G]){return["CMYK",0,0,0,1-G]}static G_RGB([G]){return["RGB",G,G,G]}static G_HTML([G]){const Q=V(G);return`#${Q}${Q}${Q}`}static RGB_G([G,Q,U]){return["G",.3*G+.59*Q+.11*U]}static RGB_HTML([G,Q,U]){const x=V(G),e=V(Q),l=V(U);return`#${x}${e}${l}`}static T_HTML(){return"#00000000"}static CMYK_RGB([G,Q,U,x]){return["RGB",1-Math.min(1,G+x),1-Math.min(1,U+x),1-Math.min(1,Q+x)]}static CMYK_HTML(G){return this.RGB_HTML(this.CMYK_RGB(G))}static RGB_CMYK([G,Q,U]){const x=1-G,e=1-Q,l=1-U,r=Math.min(x,e,l);return["CMYK",x,e,l,r]}}A.ColorConverters=o},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.XfaLayer=void 0;var o=V(1),Z=V(17);class G{static setupStorage(U,x,e,l,r){const f=l.getValue(x,{value:null});switch(e.name){case"textarea":if(f.value!==null&&(U.textContent=f.value),r==="print")break;U.addEventListener("input",u=>{l.setValue(x,{value:u.target.value})});break;case"input":if(e.attributes.type==="radio"||e.attributes.type==="checkbox"){if(f.value===e.attributes.xfaOn?U.setAttribute("checked",!0):f.value===e.attributes.xfaOff&&U.removeAttribute("checked"),r==="print")break;U.addEventListener("change",u=>{l.setValue(x,{value:u.target.checked?u.target.getAttribute("xfaOn"):u.target.getAttribute("xfaOff")})})}else{if(f.value!==null&&U.setAttribute("value",f.value),r==="print")break;U.addEventListener("input",u=>{l.setValue(x,{value:u.target.value})})}break;case"select":if(f.value!==null)for(const u of e.children)u.attributes.value===f.value&&(u.attributes.selected=!0);U.addEventListener("input",u=>{const k=u.target.options,T=k.selectedIndex===-1?"":k[k.selectedIndex].value;l.setValue(x,{value:T})});break}}static setAttributes({html:U,element:x,storage:e=null,intent:l,linkService:r}){var k;const{attributes:f}=x,u=U instanceof HTMLAnchorElement;f.type==="radio"&&(f.name=`${f.name}-${l}`);for(const[T,p]of Object.entries(f))if(!(p==null||T==="dataId"))if(T!=="style")if(T==="textContent")U.textContent=p;else if(T==="class")p.length&&U.setAttribute(T,p.join(" "));else{if(u&&(T==="href"||T==="newWindow"))continue;U.setAttribute(T,p)}else Object.assign(U.style,p);u&&(r.addLinkAttributes||(0,o.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(k=r.addLinkAttributes)==null||k.call(r,U,f.href,f.newWindow)),e&&f.dataId&&this.setupStorage(U,f.dataId,x,e)}static render(U){var p;const x=U.annotationStorage,e=U.linkService,l=U.xfaHtml,r=U.intent||"display",f=document.createElement(l.name);l.attributes&&this.setAttributes({html:f,element:l,intent:r,linkService:e});const u=[[l,-1,f]],k=U.div;if(k.appendChild(f),U.viewport){const j=`matrix(${U.viewport.transform.join(",")})`;k.style.transform=j}r!=="richText"&&k.setAttribute("class","xfaLayer xfaFont");const T=[];for(;u.length>0;){const[j,L,R]=u[u.length-1];if(L+1===j.children.length){u.pop();continue}const P=j.children[++u[u.length-1][1]];if(P===null)continue;const{name:s}=P;if(s==="#text"){const C=document.createTextNode(P.value);T.push(C),R.appendChild(C);continue}let a;if((p=P==null?void 0:P.attributes)!=null&&p.xmlns?a=document.createElementNS(P.attributes.xmlns,s):a=document.createElement(s),R.appendChild(a),P.attributes&&this.setAttributes({html:a,element:P,storage:x,intent:r,linkService:e}),P.children&&P.children.length>0)u.push([P,-1,a]);else if(P.value){const C=document.createTextNode(P.value);Z.XfaText.shouldBuildText(s)&&T.push(C),a.appendChild(C)}}for(const j of k.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))j.setAttribute("readOnly",!0);return{textDivs:T}}static update(U){const x=`matrix(${U.viewport.transform.join(",")})`;U.div.style.transform=x,U.div.hidden=!1}}A.XfaLayer=G},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.renderTextLayer=j;var o=V(1);const Z=1e5,G=30,Q=.8,U=new Map,x=/^\s+$/g;function e(L,R){const P=U.get(L);if(P)return P;R.save(),R.font=`${G}px ${L}`;const s=R.measureText("");let a=s.fontBoundingBoxAscent,C=Math.abs(s.fontBoundingBoxDescent);if(a){R.restore();const y=a/(a+C);return U.set(L,y),y}R.strokeStyle="red",R.clearRect(0,0,G,G),R.strokeText("g",0,0);let E=R.getImageData(0,0,G,G).data;C=0;for(let y=E.length-1-3;y>=0;y-=4)if(E[y]>0){C=Math.ceil(y/4/G);break}R.clearRect(0,0,G,G),R.strokeText("A",0,G),E=R.getImageData(0,0,G,G).data,a=0;for(let y=0,M=E.length;y<M;y+=4)if(E[y]>0){a=G-Math.floor(y/4/G);break}if(R.restore(),a){const y=a/(a+C);return U.set(L,y),y}return U.set(L,Q),Q}function l(L,R,P,s){const a=document.createElement("span"),C=L._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL};L._textDivs.push(a);const E=o.Util.transform(L._viewport.transform,R.transform);let y=Math.atan2(E[1],E[0]);const M=P[R.fontName];M.vertical&&(y+=Math.PI/2);const w=Math.hypot(E[2],E[3]),D=w*e(M.fontFamily,s);let H,W;y===0?(H=E[4],W=E[5]-D):(H=E[4]+D*Math.sin(y),W=E[5]-D*Math.cos(y)),a.style.left=`${H}px`,a.style.top=`${W}px`,a.style.fontSize=`${w}px`,a.style.fontFamily=M.fontFamily,a.setAttribute("role","presentation"),a.textContent=R.str,a.dir=R.dir,L._fontInspectorEnabled&&(a.dataset.fontName=R.fontName),y!==0&&(C.angle=y*(180/Math.PI));let z=!1;if(R.str.length>1||L._enhanceTextSelection&&x.test(R.str))z=!0;else if(R.str!==" "&&R.transform[0]!==R.transform[3]){const J=Math.abs(R.transform[0]),Y=Math.abs(R.transform[3]);J!==Y&&Math.max(J,Y)/Math.min(J,Y)>1.5&&(z=!0)}if(z&&(M.vertical?C.canvasWidth=R.height*L._viewport.scale:C.canvasWidth=R.width*L._viewport.scale),L._textDivProperties.set(a,C),L._textContentStream&&L._layoutText(a),L._enhanceTextSelection&&C.hasText){let J=1,Y=0;y!==0&&(J=Math.cos(y),Y=Math.sin(y));const _=(M.vertical?R.height:R.width)*L._viewport.scale,i=w;let n,h;y!==0?(n=[J,Y,-Y,J,H,W],h=o.Util.getAxialAlignedBoundingBox([0,0,_,i],n)):h=[H,W,H+_,W+i],L._bounds.push({left:h[0],top:h[1],right:h[2],bottom:h[3],div:a,size:[_,i],m:n})}}function r(L){if(L._canceled)return;const R=L._textDivs,P=L._capability,s=R.length;if(s>Z){L._renderingDone=!0,P.resolve();return}if(!L._textContentStream)for(let a=0;a<s;a++)L._layoutText(R[a]);L._renderingDone=!0,P.resolve()}function f(L,R,P){let s=0;for(let a=0;a<P;a++){const C=L[R++];C>0&&(s=s?Math.min(C,s):C)}return s}function u(L){const R=L._bounds,P=L._viewport,s=k(P.width,P.height,R);for(let a=0;a<s.length;a++){const C=R[a].div,E=L._textDivProperties.get(C);if(E.angle===0){E.paddingLeft=R[a].left-s[a].left,E.paddingTop=R[a].top-s[a].top,E.paddingRight=s[a].right-R[a].right,E.paddingBottom=s[a].bottom-R[a].bottom,L._textDivProperties.set(C,E);continue}const y=s[a],M=R[a],w=M.m,D=w[0],H=w[1],W=[[0,0],[0,M.size[1]],[M.size[0],0],M.size],z=new Float64Array(64);for(let Y=0,_=W.length;Y<_;Y++){const i=o.Util.applyTransform(W[Y],w);z[Y+0]=D&&(y.left-i[0])/D,z[Y+4]=H&&(y.top-i[1])/H,z[Y+8]=D&&(y.right-i[0])/D,z[Y+12]=H&&(y.bottom-i[1])/H,z[Y+16]=H&&(y.left-i[0])/-H,z[Y+20]=D&&(y.top-i[1])/D,z[Y+24]=H&&(y.right-i[0])/-H,z[Y+28]=D&&(y.bottom-i[1])/D,z[Y+32]=D&&(y.left-i[0])/-D,z[Y+36]=H&&(y.top-i[1])/-H,z[Y+40]=D&&(y.right-i[0])/-D,z[Y+44]=H&&(y.bottom-i[1])/-H,z[Y+48]=H&&(y.left-i[0])/H,z[Y+52]=D&&(y.top-i[1])/-D,z[Y+56]=H&&(y.right-i[0])/H,z[Y+60]=D&&(y.bottom-i[1])/-D}const J=1+Math.min(Math.abs(D),Math.abs(H));E.paddingLeft=f(z,32,16)/J,E.paddingTop=f(z,48,16)/J,E.paddingRight=f(z,0,16)/J,E.paddingBottom=f(z,16,16)/J,L._textDivProperties.set(C,E)}}function k(L,R,P){const s=P.map(function(C,E){return{x1:C.left,y1:C.top,x2:C.right,y2:C.bottom,index:E,x1New:void 0,x2New:void 0}});T(L,s);const a=new Array(P.length);for(const C of s){const E=C.index;a[E]={left:C.x1New,top:0,right:C.x2New,bottom:0}}P.map(function(C,E){const y=a[E],M=s[E];M.x1=C.top,M.y1=L-y.right,M.x2=C.bottom,M.y2=L-y.left,M.index=E,M.x1New=void 0,M.x2New=void 0}),T(R,s);for(const C of s){const E=C.index;a[E].top=C.x1New,a[E].bottom=C.x2New}return a}function T(L,R){R.sort(function(a,C){return a.x1-C.x1||a.index-C.index});const s=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const a of R){let C=0;for(;C<s.length&&s[C].end<=a.y1;)C++;let E=s.length-1;for(;E>=0&&s[E].start>=a.y2;)E--;let y,M,w,D,H=-1/0;for(w=C;w<=E;w++){y=s[w],M=y.boundary;let J;M.x2>a.x1?J=M.index>a.index?M.x1New:a.x1:M.x2New===void 0?J=(M.x2+a.x1)/2:J=M.x2New,J>H&&(H=J)}for(a.x1New=H,w=C;w<=E;w++)y=s[w],M=y.boundary,M.x2New===void 0?M.x2>a.x1?M.index>a.index&&(M.x2New=M.x2):M.x2New=H:M.x2New>H&&(M.x2New=Math.max(H,M.x2));const W=[];let z=null;for(w=C;w<=E;w++){y=s[w],M=y.boundary;const J=M.x2>a.x2?M:a;z===J?W[W.length-1].end=y.end:(W.push({start:y.start,end:y.end,boundary:J}),z=J)}for(s[C].start<a.y1&&(W[0].start=a.y1,W.unshift({start:s[C].start,end:a.y1,boundary:s[C].boundary})),a.y2<s[E].end&&(W[W.length-1].end=a.y2,W.push({start:a.y2,end:s[E].end,boundary:s[E].boundary})),w=C;w<=E;w++){if(y=s[w],M=y.boundary,M.x2New!==void 0)continue;let J=!1;for(D=C-1;!J&&D>=0&&s[D].start>=M.y1;D--)J=s[D].boundary===M;for(D=E+1;!J&&D<s.length&&s[D].end<=M.y2;D++)J=s[D].boundary===M;for(D=0;!J&&D<W.length;D++)J=W[D].boundary===M;J||(M.x2New=H)}Array.prototype.splice.apply(s,[C,E-C+1].concat(W))}for(const a of s){const C=a.boundary;C.x2New===void 0&&(C.x2New=Math.max(L,C.x2))}}class p{constructor({textContent:R,textContentStream:P,container:s,viewport:a,textDivs:C,textContentItemsStr:E,enhanceTextSelection:y}){var M;this._textContent=R,this._textContentStream=P,this._container=s,this._document=s.ownerDocument,this._viewport=a,this._textDivs=C||[],this._textContentItemsStr=E||[],this._enhanceTextSelection=!!y,this._fontInspectorEnabled=!!((M=globalThis.FontInspector)!=null&&M.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,o.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new o.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(R,P){for(let s=0,a=R.length;s<a;s++){if(R[s].str===void 0){if(R[s].type==="beginMarkedContentProps"||R[s].type==="beginMarkedContent"){const C=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),R[s].id!==null&&this._container.setAttribute("id",`${R[s].id}`),C.appendChild(this._container)}else R[s].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(R[s].str),l(this,R[s],P,this._layoutTextCtx)}}_layoutText(R){const P=this._textDivProperties.get(R);let s="";if(P.canvasWidth!==0&&P.hasText){const{fontSize:a,fontFamily:C}=R.style;(a!==this._layoutTextLastFontSize||C!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${a} ${C}`,this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=C);const{width:E}=this._layoutTextCtx.measureText(R.textContent);if(E>0){const y=P.canvasWidth/E;this._enhanceTextSelection&&(P.scale=y),s=`scaleX(${y})`}}if(P.angle!==0&&(s=`rotate(${P.angle}deg) ${s}`),s.length>0&&(this._enhanceTextSelection&&(P.originalTransform=s),R.style.transform=s),P.hasText&&this._container.appendChild(R),P.hasEOL){const a=document.createElement("br");a.setAttribute("role","presentation"),this._container.appendChild(a)}}_render(R=0){const P=(0,o.createPromiseCapability)();let s=Object.create(null);const a=this._document.createElement("canvas");if(a.height=a.width=G,a.mozOpaque=!0,this._layoutTextCtx=a.getContext("2d",{alpha:!1}),this._textContent){const C=this._textContent.items,E=this._textContent.styles;this._processItems(C,E),P.resolve()}else if(this._textContentStream){const C=()=>{this._reader.read().then(({value:E,done:y})=>{if(y){P.resolve();return}Object.assign(s,E.styles),this._processItems(E.items,s),C()},P.reject)};this._reader=this._textContentStream.getReader(),C()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');P.promise.then(()=>{s=null,R?this._renderTimer=setTimeout(()=>{r(this),this._renderTimer=null},R):r(this)},this._capability.reject)}expandTextDivs(R=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(u(this),this._bounds=null);const P=[],s=[];for(let a=0,C=this._textDivs.length;a<C;a++){const E=this._textDivs[a],y=this._textDivProperties.get(E);!y.hasText||(R?(P.length=0,s.length=0,y.originalTransform&&P.push(y.originalTransform),y.paddingTop>0?(s.push(`${y.paddingTop}px`),P.push(`translateY(${-y.paddingTop}px)`)):s.push(0),y.paddingRight>0?s.push(`${y.paddingRight/y.scale}px`):s.push(0),y.paddingBottom>0?s.push(`${y.paddingBottom}px`):s.push(0),y.paddingLeft>0?(s.push(`${y.paddingLeft/y.scale}px`),P.push(`translateX(${-y.paddingLeft/y.scale}px)`)):s.push(0),E.style.padding=s.join(" "),P.length&&(E.style.transform=P.join(" "))):(E.style.padding=null,E.style.transform=y.originalTransform))}}}function j(L){const R=new p({textContent:L.textContent,textContentStream:L.textContentStream,container:L.container,viewport:L.viewport,textDivs:L.textDivs,textContentItemsStr:L.textContentItemsStr,enhanceTextSelection:L.enhanceTextSelection});return R._render(L.timeout),R}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.SVGGraphics=void 0;var o=V(1),Z=V(5),G=V(3);let Q=class{constructor(){(0,o.unreachable)("Not implemented: SVGGraphics")}};A.SVGGraphics=Q;{let T=function(s){let a=[];const C=[];for(const E of s){if(E.fn==="save"){a.push({fnId:92,fn:"group",items:[]}),C.push(a),a=a[a.length-1].items;continue}E.fn==="restore"?a=C.pop():a.push(E)}return a},p=function(s){if(Number.isInteger(s))return s.toString();const a=s.toFixed(10);let C=a.length-1;if(a[C]!=="0")return a;do C--;while(a[C]==="0");return a.substring(0,a[C]==="."?C:C+1)},j=function(s){if(s[4]===0&&s[5]===0){if(s[1]===0&&s[2]===0)return s[0]===1&&s[3]===1?"":`scale(${p(s[0])} ${p(s[3])})`;if(s[0]===s[3]&&s[1]===-s[2]){const a=Math.acos(s[0])*180/Math.PI;return`rotate(${p(a)})`}}else if(s[0]===1&&s[1]===0&&s[2]===0&&s[3]===1)return`translate(${p(s[4])} ${p(s[5])})`;return`matrix(${p(s[0])} ${p(s[1])} ${p(s[2])} ${p(s[3])} ${p(s[4])} ${p(s[5])})`};const U={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",e="http://www.w3.org/1999/xlink",l=["butt","round","square"],r=["miter","round","bevel"],f=function(s,a="",C=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!C)return URL.createObjectURL(new Blob([s],{type:a}));const E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let y=`data:${a};base64,`;for(let M=0,w=s.length;M<w;M+=3){const D=s[M]&255,H=s[M+1]&255,W=s[M+2]&255,z=D>>2,J=(D&3)<<4|H>>4,Y=M+1<w?(H&15)<<2|W>>6:64,_=M+2<w?W&63:64;y+=E[z]+E[J]+E[Y]+E[_]}return y},u=function(){const s=new Uint8Array([137,80,78,71,13,10,26,10]),a=12,C=new Int32Array(256);for(let W=0;W<256;W++){let z=W;for(let J=0;J<8;J++)z&1?z=3988292384^z>>1&2147483647:z=z>>1&2147483647;C[W]=z}function E(W,z,J){let Y=-1;for(let _=z;_<J;_++){const i=(Y^W[_])&255,n=C[i];Y=Y>>>8^n}return Y^-1}function y(W,z,J,Y){let _=Y;const i=z.length;J[_]=i>>24&255,J[_+1]=i>>16&255,J[_+2]=i>>8&255,J[_+3]=i&255,_+=4,J[_]=W.charCodeAt(0)&255,J[_+1]=W.charCodeAt(1)&255,J[_+2]=W.charCodeAt(2)&255,J[_+3]=W.charCodeAt(3)&255,_+=4,J.set(z,_),_+=z.length;const n=E(J,Y+4,_);J[_]=n>>24&255,J[_+1]=n>>16&255,J[_+2]=n>>8&255,J[_+3]=n&255}function M(W,z,J){let Y=1,_=0;for(let i=z;i<J;++i)Y=(Y+(W[i]&255))%65521,_=(_+Y)%65521;return _<<16|Y}function w(W){if(!G.isNodeJS)return D(W);try{let z;parseInt(process.versions.node)>=8?z=W:z=Buffer.from(W);const J=require("zlib").deflateSync(z,{level:9});return J instanceof Uint8Array?J:new Uint8Array(J)}catch(z){(0,o.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+z)}return D(W)}function D(W){let z=W.length;const J=65535,Y=Math.ceil(z/J),_=new Uint8Array(2+z+Y*5+4);let i=0;_[i++]=120,_[i++]=156;let n=0;for(;z>J;)_[i++]=0,_[i++]=255,_[i++]=255,_[i++]=0,_[i++]=0,_.set(W.subarray(n,n+J),i),i+=J,n+=J,z-=J;_[i++]=1,_[i++]=z&255,_[i++]=z>>8&255,_[i++]=~z&65535&255,_[i++]=(~z&65535)>>8&255,_.set(W.subarray(n),i),i+=W.length-n;const h=M(W,0,W.length);return _[i++]=h>>24&255,_[i++]=h>>16&255,_[i++]=h>>8&255,_[i++]=h&255,_}function H(W,z,J,Y){const _=W.width,i=W.height;let n,h,b;const S=W.data;switch(z){case o.ImageKind.GRAYSCALE_1BPP:h=0,n=1,b=_+7>>3;break;case o.ImageKind.RGB_24BPP:h=2,n=8,b=_*3;break;case o.ImageKind.RGBA_32BPP:h=6,n=8,b=_*4;break;default:throw new Error("invalid format")}const v=new Uint8Array((1+b)*i);let t=0,d=0;for(let N=0;N<i;++N)v[t++]=0,v.set(S.subarray(d,d+b),t),d+=b,t+=b;if(z===o.ImageKind.GRAYSCALE_1BPP&&Y){t=0;for(let N=0;N<i;N++){t++;for(let q=0;q<b;q++)v[t++]^=255}}const g=new Uint8Array([_>>24&255,_>>16&255,_>>8&255,_&255,i>>24&255,i>>16&255,i>>8&255,i&255,n,h,0,0,0]),m=w(v),c=s.length+a*3+g.length+m.length,F=new Uint8Array(c);let O=0;return F.set(s,O),O+=s.length,y("IHDR",g,F,O),O+=a+g.length,y("IDATA",m,F,O),O+=a+m.length,y("IEND",new Uint8Array(0),F,O),f(F,"image/png",J)}return function(z,J,Y){const _=z.kind===void 0?o.ImageKind.GRAYSCALE_1BPP:z.kind;return H(z,_,J,Y)}}();class k{constructor(){this.fontSizeScale=1,this.fontWeight=U.fontWeight,this.fontSize=0,this.textMatrix=o.IDENTITY_MATRIX,this.fontMatrix=o.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=o.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=U.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,C){this.x=a,this.y=C}}let L=0,R=0,P=0;A.SVGGraphics=Q=class{constructor(s,a,C=!1){this.svgFactory=new Z.DOMSVGFactory,this.current=new k,this.transformMatrix=o.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=s,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!C,this._operatorIdMapping=[];for(const E in o.OPS)this._operatorIdMapping[o.OPS[E]]=E}save(){this.transformStack.push(this.transformMatrix);const s=this.current;this.extraStack.push(s),this.current=s.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(s){this.save(),this.executeOpTree(s),this.restore()}loadDependencies(s){const a=s.fnArray,C=s.argsArray;for(let E=0,y=a.length;E<y;E++)if(a[E]===o.OPS.dependency)for(const M of C[E]){const w=M.startsWith("g_")?this.commonObjs:this.objs,D=new Promise(H=>{w.get(M,H)});this.current.dependencies.push(D)}return Promise.all(this.current.dependencies)}transform(s,a,C,E,y,M){const w=[s,a,C,E,y,M];this.transformMatrix=o.Util.transform(this.transformMatrix,w),this.tgrp=null}getSVG(s,a){this.viewport=a;const C=this._initialize(a);return this.loadDependencies(s).then(()=>(this.transformMatrix=o.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(s)),C))}convertOpList(s){const a=this._operatorIdMapping,C=s.argsArray,E=s.fnArray,y=[];for(let M=0,w=E.length;M<w;M++){const D=E[M];y.push({fnId:D,fn:a[D],args:C[M]})}return T(y)}executeOpTree(s){for(const a of s){const C=a.fn,E=a.fnId,y=a.args;switch(E|0){case o.OPS.beginText:this.beginText();break;case o.OPS.dependency:break;case o.OPS.setLeading:this.setLeading(y);break;case o.OPS.setLeadingMoveText:this.setLeadingMoveText(y[0],y[1]);break;case o.OPS.setFont:this.setFont(y);break;case o.OPS.showText:this.showText(y[0]);break;case o.OPS.showSpacedText:this.showText(y[0]);break;case o.OPS.endText:this.endText();break;case o.OPS.moveText:this.moveText(y[0],y[1]);break;case o.OPS.setCharSpacing:this.setCharSpacing(y[0]);break;case o.OPS.setWordSpacing:this.setWordSpacing(y[0]);break;case o.OPS.setHScale:this.setHScale(y[0]);break;case o.OPS.setTextMatrix:this.setTextMatrix(y[0],y[1],y[2],y[3],y[4],y[5]);break;case o.OPS.setTextRise:this.setTextRise(y[0]);break;case o.OPS.setTextRenderingMode:this.setTextRenderingMode(y[0]);break;case o.OPS.setLineWidth:this.setLineWidth(y[0]);break;case o.OPS.setLineJoin:this.setLineJoin(y[0]);break;case o.OPS.setLineCap:this.setLineCap(y[0]);break;case o.OPS.setMiterLimit:this.setMiterLimit(y[0]);break;case o.OPS.setFillRGBColor:this.setFillRGBColor(y[0],y[1],y[2]);break;case o.OPS.setStrokeRGBColor:this.setStrokeRGBColor(y[0],y[1],y[2]);break;case o.OPS.setStrokeColorN:this.setStrokeColorN(y);break;case o.OPS.setFillColorN:this.setFillColorN(y);break;case o.OPS.shadingFill:this.shadingFill(y[0]);break;case o.OPS.setDash:this.setDash(y[0],y[1]);break;case o.OPS.setRenderingIntent:this.setRenderingIntent(y[0]);break;case o.OPS.setFlatness:this.setFlatness(y[0]);break;case o.OPS.setGState:this.setGState(y[0]);break;case o.OPS.fill:this.fill();break;case o.OPS.eoFill:this.eoFill();break;case o.OPS.stroke:this.stroke();break;case o.OPS.fillStroke:this.fillStroke();break;case o.OPS.eoFillStroke:this.eoFillStroke();break;case o.OPS.clip:this.clip("nonzero");break;case o.OPS.eoClip:this.clip("evenodd");break;case o.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case o.OPS.paintImageXObject:this.paintImageXObject(y[0]);break;case o.OPS.paintInlineImageXObject:this.paintInlineImageXObject(y[0]);break;case o.OPS.paintImageMaskXObject:this.paintImageMaskXObject(y[0]);break;case o.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(y[0],y[1]);break;case o.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case o.OPS.closePath:this.closePath();break;case o.OPS.closeStroke:this.closeStroke();break;case o.OPS.closeFillStroke:this.closeFillStroke();break;case o.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case o.OPS.nextLine:this.nextLine();break;case o.OPS.transform:this.transform(y[0],y[1],y[2],y[3],y[4],y[5]);break;case o.OPS.constructPath:this.constructPath(y[0],y[1]);break;case o.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,o.warn)(`Unimplemented operator ${C}`);break}}}setWordSpacing(s){this.current.wordSpacing=s}setCharSpacing(s){this.current.charSpacing=s}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(s,a,C,E,y,M){const w=this.current;w.textMatrix=w.lineMatrix=[s,a,C,E,y,M],w.textMatrixScale=Math.hypot(s,a),w.x=w.lineX=0,w.y=w.lineY=0,w.xcoords=[],w.ycoords=[],w.tspan=this.svgFactory.createElement("svg:tspan"),w.tspan.setAttributeNS(null,"font-family",w.fontFamily),w.tspan.setAttributeNS(null,"font-size",`${p(w.fontSize)}px`),w.tspan.setAttributeNS(null,"y",p(-w.y)),w.txtElement=this.svgFactory.createElement("svg:text"),w.txtElement.appendChild(w.tspan)}beginText(){const s=this.current;s.x=s.lineX=0,s.y=s.lineY=0,s.textMatrix=o.IDENTITY_MATRIX,s.lineMatrix=o.IDENTITY_MATRIX,s.textMatrixScale=1,s.tspan=this.svgFactory.createElement("svg:tspan"),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtgrp=this.svgFactory.createElement("svg:g"),s.xcoords=[],s.ycoords=[]}moveText(s,a){const C=this.current;C.x=C.lineX+=s,C.y=C.lineY+=a,C.xcoords=[],C.ycoords=[],C.tspan=this.svgFactory.createElement("svg:tspan"),C.tspan.setAttributeNS(null,"font-family",C.fontFamily),C.tspan.setAttributeNS(null,"font-size",`${p(C.fontSize)}px`),C.tspan.setAttributeNS(null,"y",p(-C.y))}showText(s){const a=this.current,C=a.font,E=a.fontSize;if(E===0)return;const y=a.fontSizeScale,M=a.charSpacing,w=a.wordSpacing,D=a.fontDirection,H=a.textHScale*D,W=C.vertical,z=W?1:-1,J=C.defaultVMetrics,Y=E*a.fontMatrix[0];let _=0;for(const h of s){if(h===null){_+=D*w;continue}else if(typeof h=="number"){_+=z*h*E/1e3;continue}const b=(h.isSpace?w:0)+M,S=h.fontChar;let v,t,d=h.width;if(W){let m;const c=h.vmetric||J;m=h.vmetric?c[1]:d*.5,m=-m*Y;const F=c[2]*Y;d=c?-c[0]:d,v=m/y,t=(_+F)/y}else v=_/y,t=0;(h.isInFont||C.missingFile)&&(a.xcoords.push(a.x+v),W&&a.ycoords.push(-a.y+t),a.tspan.textContent+=S);let g;W?g=d*Y-b*D:g=d*Y+b*D,_+=g}a.tspan.setAttributeNS(null,"x",a.xcoords.map(p).join(" ")),W?a.tspan.setAttributeNS(null,"y",a.ycoords.map(p).join(" ")):a.tspan.setAttributeNS(null,"y",p(-a.y)),W?a.y-=_:a.x+=_*H,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${p(a.fontSize)}px`),a.fontStyle!==U.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==U.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const i=a.textRenderingMode&o.TextRenderingMode.FILL_STROKE_MASK;if(i===o.TextRenderingMode.FILL||i===o.TextRenderingMode.FILL_STROKE?(a.fillColor!==U.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.textRenderingMode===o.TextRenderingMode.ADD_TO_PATH?a.tspan.setAttributeNS(null,"fill","transparent"):a.tspan.setAttributeNS(null,"fill","none"),i===o.TextRenderingMode.STROKE||i===o.TextRenderingMode.FILL_STROKE){const h=1/(a.textMatrixScale||1);this._setStrokeAttributes(a.tspan,h)}let n=a.textMatrix;a.textRise!==0&&(n=n.slice(),n[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${j(n)} scale(${p(H)}, -1)`),a.txtElement.setAttributeNS(x,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}setLeadingMoveText(s,a){this.setLeading(-a),this.moveText(s,a)}addFontStyle(s){if(!s.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const a=f(s.data,s.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${s.loadedName}"; src: url(${a}); }
`}setFont(s){const a=this.current,C=this.commonObjs.get(s[0]);let E=s[1];a.font=C,this.embedFonts&&!C.missingFile&&!this.embeddedFonts[C.loadedName]&&(this.addFontStyle(C),this.embeddedFonts[C.loadedName]=C),a.fontMatrix=C.fontMatrix||o.FONT_IDENTITY_MATRIX;let y="normal";C.black?y="900":C.bold&&(y="bold");const M=C.italic?"italic":"normal";E<0?(E=-E,a.fontDirection=-1):a.fontDirection=1,a.fontSize=E,a.fontFamily=C.loadedName,a.fontWeight=y,a.fontStyle=M,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",p(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){var a;const s=this.current;s.textRenderingMode&o.TextRenderingMode.ADD_TO_PATH_FLAG&&((a=s.txtElement)==null?void 0:a.hasChildNodes())&&(s.element=s.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(s){s>0&&(this.current.lineWidth=s)}setLineCap(s){this.current.lineCap=l[s]}setLineJoin(s){this.current.lineJoin=r[s]}setMiterLimit(s){this.current.miterLimit=s}setStrokeAlpha(s){this.current.strokeAlpha=s}setStrokeRGBColor(s,a,C){this.current.strokeColor=o.Util.makeHexColor(s,a,C)}setFillAlpha(s){this.current.fillAlpha=s}setFillRGBColor(s,a,C){this.current.fillColor=o.Util.makeHexColor(s,a,C),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(s){this.current.strokeColor=this._makeColorN_Pattern(s)}setFillColorN(s){this.current.fillColor=this._makeColorN_Pattern(s)}shadingFill(s){const a=this.viewport.width,C=this.viewport.height,E=o.Util.inverseTransform(this.transformMatrix),y=o.Util.applyTransform([0,0],E),M=o.Util.applyTransform([0,C],E),w=o.Util.applyTransform([a,0],E),D=o.Util.applyTransform([a,C],E),H=Math.min(y[0],M[0],w[0],D[0]),W=Math.min(y[1],M[1],w[1],D[1]),z=Math.max(y[0],M[0],w[0],D[0]),J=Math.max(y[1],M[1],w[1],D[1]),Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x",H),Y.setAttributeNS(null,"y",W),Y.setAttributeNS(null,"width",z-H),Y.setAttributeNS(null,"height",J-W),Y.setAttributeNS(null,"fill",this._makeShadingPattern(s)),this.current.fillAlpha<1&&Y.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Y)}_makeColorN_Pattern(s){return s[0]==="TilingPattern"?this._makeTilingPattern(s):this._makeShadingPattern(s)}_makeTilingPattern(s){const a=s[1],C=s[2],E=s[3]||o.IDENTITY_MATRIX,[y,M,w,D]=s[4],H=s[5],W=s[6],z=s[7],J=`shading${P++}`,[Y,_,i,n]=o.Util.normalizeRect([...o.Util.applyTransform([y,M],E),...o.Util.applyTransform([w,D],E)]),[h,b]=o.Util.singularValueDecompose2dScale(E),S=H*h,v=W*b,t=this.svgFactory.createElement("svg:pattern");t.setAttributeNS(null,"id",J),t.setAttributeNS(null,"patternUnits","userSpaceOnUse"),t.setAttributeNS(null,"width",S),t.setAttributeNS(null,"height",v),t.setAttributeNS(null,"x",`${Y}`),t.setAttributeNS(null,"y",`${_}`);const d=this.svg,g=this.transformMatrix,m=this.current.fillColor,c=this.current.strokeColor,F=this.svgFactory.create(i-Y,n-_);if(this.svg=F,this.transformMatrix=E,z===2){const O=o.Util.makeHexColor(...a);this.current.fillColor=O,this.current.strokeColor=O}return this.executeOpTree(this.convertOpList(C)),this.svg=d,this.transformMatrix=g,this.current.fillColor=m,this.current.strokeColor=c,t.appendChild(F.childNodes[0]),this.defs.appendChild(t),`url(#${J})`}_makeShadingPattern(s){switch(typeof s=="string"&&(s=this.objs.get(s)),s[0]){case"RadialAxial":const a=`shading${P++}`,C=s[3];let E;switch(s[1]){case"axial":const y=s[4],M=s[5];E=this.svgFactory.createElement("svg:linearGradient"),E.setAttributeNS(null,"id",a),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"x1",y[0]),E.setAttributeNS(null,"y1",y[1]),E.setAttributeNS(null,"x2",M[0]),E.setAttributeNS(null,"y2",M[1]);break;case"radial":const w=s[4],D=s[5],H=s[6],W=s[7];E=this.svgFactory.createElement("svg:radialGradient"),E.setAttributeNS(null,"id",a),E.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),E.setAttributeNS(null,"cx",D[0]),E.setAttributeNS(null,"cy",D[1]),E.setAttributeNS(null,"r",W),E.setAttributeNS(null,"fx",w[0]),E.setAttributeNS(null,"fy",w[1]),E.setAttributeNS(null,"fr",H);break;default:throw new Error(`Unknown RadialAxial type: ${s[1]}`)}for(const y of C){const M=this.svgFactory.createElement("svg:stop");M.setAttributeNS(null,"offset",y[0]),M.setAttributeNS(null,"stop-color",y[1]),E.appendChild(M)}return this.defs.appendChild(E),`url(#${a})`;case"Mesh":return(0,o.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${s[0]}`)}}setDash(s,a){this.current.dashArray=s,this.current.dashPhase=a}constructPath(s,a){const C=this.current;let E=C.x,y=C.y,M=[],w=0;for(const D of s)switch(D|0){case o.OPS.rectangle:E=a[w++],y=a[w++];const H=a[w++],W=a[w++],z=E+H,J=y+W;M.push("M",p(E),p(y),"L",p(z),p(y),"L",p(z),p(J),"L",p(E),p(J),"Z");break;case o.OPS.moveTo:E=a[w++],y=a[w++],M.push("M",p(E),p(y));break;case o.OPS.lineTo:E=a[w++],y=a[w++],M.push("L",p(E),p(y));break;case o.OPS.curveTo:E=a[w+4],y=a[w+5],M.push("C",p(a[w]),p(a[w+1]),p(a[w+2]),p(a[w+3]),p(E),p(y)),w+=6;break;case o.OPS.curveTo2:M.push("C",p(E),p(y),p(a[w]),p(a[w+1]),p(a[w+2]),p(a[w+3])),E=a[w+2],y=a[w+3],w+=4;break;case o.OPS.curveTo3:E=a[w+2],y=a[w+3],M.push("C",p(a[w]),p(a[w+1]),p(E),p(y),p(E),p(y)),w+=4;break;case o.OPS.closePath:M.push("Z");break}M=M.join(" "),C.path&&s.length>0&&s[0]!==o.OPS.rectangle&&s[0]!==o.OPS.moveTo?M=C.path.getAttributeNS(null,"d")+M:(C.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(C.path)),C.path.setAttributeNS(null,"d",M),C.path.setAttributeNS(null,"fill","none"),C.element=C.path,C.setCurrentPoint(E,y)}endPath(){const s=this.current;if(s.path=null,!this.pendingClip)return;if(!s.element){this.pendingClip=null;return}const a=`clippath${L++}`,C=this.svgFactory.createElement("svg:clipPath");C.setAttributeNS(null,"id",a),C.setAttributeNS(null,"transform",j(this.transformMatrix));const E=s.element.cloneNode(!0);if(this.pendingClip==="evenodd"?E.setAttributeNS(null,"clip-rule","evenodd"):E.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,C.appendChild(E),this.defs.appendChild(C),s.activeClipUrl){s.clipGroup=null;for(const y of this.extraStack)y.clipGroup=null;C.setAttributeNS(null,"clip-path",s.activeClipUrl)}s.activeClipUrl=`url(#${a})`,this.tgrp=null}clip(s){this.pendingClip=s}closePath(){const s=this.current;if(s.path){const a=`${s.path.getAttributeNS(null,"d")}Z`;s.path.setAttributeNS(null,"d",a)}}setLeading(s){this.current.leading=-s}setTextRise(s){this.current.textRise=s}setTextRenderingMode(s){this.current.textRenderingMode=s}setHScale(s){this.current.textHScale=s/100}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(const[a,C]of s)switch(a){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C);break;case"CA":this.setStrokeAlpha(C);break;case"ca":this.setFillAlpha(C);break;default:(0,o.warn)(`Unimplemented graphic state operator ${a}`);break}}fill(){const s=this.current;s.element&&(s.element.setAttributeNS(null,"fill",s.fillColor),s.element.setAttributeNS(null,"fill-opacity",s.fillAlpha),this.endPath())}stroke(){const s=this.current;s.element&&(this._setStrokeAttributes(s.element),s.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(s,a=1){const C=this.current;let E=C.dashArray;a!==1&&E.length>0&&(E=E.map(function(y){return a*y})),s.setAttributeNS(null,"stroke",C.strokeColor),s.setAttributeNS(null,"stroke-opacity",C.strokeAlpha),s.setAttributeNS(null,"stroke-miterlimit",p(C.miterLimit)),s.setAttributeNS(null,"stroke-linecap",C.lineCap),s.setAttributeNS(null,"stroke-linejoin",C.lineJoin),s.setAttributeNS(null,"stroke-width",p(a*C.lineWidth)+"px"),s.setAttributeNS(null,"stroke-dasharray",E.map(p).join(" ")),s.setAttributeNS(null,"stroke-dashoffset",p(a*C.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width","1px"),s.setAttributeNS(null,"height","1px"),s.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(s)}paintImageXObject(s){const a=s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s);if(!a){(0,o.warn)(`Dependent image with object ID ${s} is not ready yet`);return}this.paintInlineImageXObject(a)}paintInlineImageXObject(s,a){const C=s.width,E=s.height,y=u(s,this.forceDataSchema,!!a),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",p(C)),M.setAttributeNS(null,"height",p(E)),this.current.element=M,this.clip("nonzero");const w=this.svgFactory.createElement("svg:image");w.setAttributeNS(e,"xlink:href",y),w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y",p(-E)),w.setAttributeNS(null,"width",p(C)+"px"),w.setAttributeNS(null,"height",p(E)+"px"),w.setAttributeNS(null,"transform",`scale(${p(1/C)} ${p(-1/E)})`),a?a.appendChild(w):this._ensureTransformGroup().appendChild(w)}paintImageMaskXObject(s){const a=this.current,C=s.width,E=s.height,y=a.fillColor;a.maskId=`mask${R++}`;const M=this.svgFactory.createElement("svg:mask");M.setAttributeNS(null,"id",a.maskId);const w=this.svgFactory.createElement("svg:rect");w.setAttributeNS(null,"x","0"),w.setAttributeNS(null,"y","0"),w.setAttributeNS(null,"width",p(C)),w.setAttributeNS(null,"height",p(E)),w.setAttributeNS(null,"fill",y),w.setAttributeNS(null,"mask",`url(#${a.maskId})`),this.defs.appendChild(M),this._ensureTransformGroup().appendChild(w),this.paintInlineImageXObject(s,M)}paintFormXObjectBegin(s,a){if(Array.isArray(s)&&s.length===6&&this.transform(s[0],s[1],s[2],s[3],s[4],s[5]),a){const C=a[2]-a[0],E=a[3]-a[1],y=this.svgFactory.createElement("svg:rect");y.setAttributeNS(null,"x",a[0]),y.setAttributeNS(null,"y",a[1]),y.setAttributeNS(null,"width",p(C)),y.setAttributeNS(null,"height",p(E)),this.current.element=y,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(s){const a=this.svgFactory.create(s.width,s.height),C=this.svgFactory.createElement("svg:defs");a.appendChild(C),this.defs=C;const E=this.svgFactory.createElement("svg:g");return E.setAttributeNS(null,"transform",j(s.transform)),a.appendChild(E),this.svg=E,a}_ensureClipGroup(){if(!this.current.clipGroup){const s=this.svgFactory.createElement("svg:g");s.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(s),this.current.clipGroup=s}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",j(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFNodeStream=void 0;var o=V(1),Z=V(24);const G=require$$4,Q=require$$4,U=require$$4,x=require$$4,e=/^file:\/\/\/[a-zA-Z]:\//;function l(R){const P=x.parse(R);return P.protocol==="file:"||P.host?P:/^[a-z]:[/\\]/i.test(R)?x.parse(`file:///${R}`):(P.host||(P.protocol="file:"),P)}class r{constructor(P){this.source=P,this.url=l(P.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&P.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var P,s;return(s=(P=this._fullRequestReader)==null?void 0:P._loaded)!=null?s:0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new j(this):new T(this),this._fullRequestReader}getRangeReader(P,s){if(s<=this._progressiveDataLength)return null;const a=this.isFsUrl?new L(this,P,s):new p(this,P,s);return this._rangeRequestReaders.push(a),a}cancelAllRequests(P){this._fullRequestReader&&this._fullRequestReader.cancel(P);for(const s of this._rangeRequestReaders.slice(0))s.cancel(P)}}A.PDFNodeStream=r;class f{constructor(P){this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=P.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)(),this._headersCapability=(0,o.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const P=this._readableStream.read();return P===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=P.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(P).buffer,done:!1})}cancel(P){if(!this._readableStream){this._error(P);return}this._readableStream.destroy(P)}_error(P){this._storedError=P,this._readCapability.resolve()}_setReadableStream(P){this._readableStream=P,P.on("readable",()=>{this._readCapability.resolve()}),P.on("end",()=>{P.destroy(),this._done=!0,this._readCapability.resolve()}),P.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new o.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class u{constructor(P){this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,o.createPromiseCapability)();const s=P.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const P=this._readableStream.read();return P===null?(this._readCapability=(0,o.createPromiseCapability)(),this.read()):(this._loaded+=P.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(P).buffer,done:!1})}cancel(P){if(!this._readableStream){this._error(P);return}this._readableStream.destroy(P)}_error(P){this._storedError=P,this._readCapability.resolve()}_setReadableStream(P){this._readableStream=P,P.on("readable",()=>{this._readCapability.resolve()}),P.on("end",()=>{P.destroy(),this._done=!0,this._readCapability.resolve()}),P.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function k(R,P){return{protocol:R.protocol,auth:R.auth,host:R.hostname,port:R.port,path:R.path,method:"GET",headers:P}}class T extends f{constructor(P){super(P);const s=a=>{if(a.statusCode===404){const M=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M,this._headersCapability.reject(M);return}this._headersCapability.resolve(),this._setReadableStream(a);const C=M=>this._readableStream.headers[M.toLowerCase()],{allowRangeRequests:E,suggestedLength:y}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:C,isHttp:P.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=E,this._contentLength=y||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(C)};this._request=null,this._url.protocol==="http:"?this._request=Q.request(k(this._url,P.httpHeaders),s):this._request=U.request(k(this._url,P.httpHeaders),s),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class p extends u{constructor(P,s,a){super(P);this._httpHeaders={};for(const E in P.httpHeaders){const y=P.httpHeaders[E];typeof y!="undefined"&&(this._httpHeaders[E]=y)}this._httpHeaders.Range=`bytes=${s}-${a-1}`;const C=E=>{if(E.statusCode===404){const y=new o.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=y;return}this._setReadableStream(E)};this._request=null,this._url.protocol==="http:"?this._request=Q.request(k(this._url,this._httpHeaders),C):this._request=U.request(k(this._url,this._httpHeaders),C),this._request.on("error",E=>{this._storedError=E}),this._request.end()}}class j extends f{constructor(P){super(P);let s=decodeURIComponent(this._url.path);e.test(this._url.href)&&(s=s.replace(/^\//,"")),G.lstat(s,(a,C)=>{if(a){a.code==="ENOENT"&&(a=new o.MissingPDFException(`Missing PDF "${s}".`)),this._storedError=a,this._headersCapability.reject(a);return}this._contentLength=C.size,this._setReadableStream(G.createReadStream(s)),this._headersCapability.resolve()})}}class L extends u{constructor(P,s,a){super(P);let C=decodeURIComponent(this._url.path);e.test(this._url.href)&&(C=C.replace(/^\//,"")),this._setReadableStream(G.createReadStream(C,{start:s,end:a-1}))}}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.createResponseStatusError=x,A.extractFilenameFromHeader=U,A.validateRangeRequestCapabilities=Q,A.validateResponseStatus=e;var o=V(1),Z=V(25),G=V(5);function Q({getResponseHeader:l,isHttp:r,rangeChunkSize:f,disableRange:u}){(0,o.assert)(f>0,"Range chunk size must be larger than zero");const k={allowRangeRequests:!1,suggestedLength:void 0},T=parseInt(l("Content-Length"),10);return!Number.isInteger(T)||(k.suggestedLength=T,T<=2*f)||u||!r||l("Accept-Ranges")!=="bytes"||(l("Content-Encoding")||"identity")!=="identity"||(k.allowRangeRequests=!0),k}function U(l){const r=l("Content-Disposition");if(r){let f=(0,Z.getFilenameFromContentDispositionHeader)(r);if(f.includes("%"))try{f=decodeURIComponent(f)}catch{}if((0,G.isPdfFile)(f))return f}return null}function x(l,r){return l===404||l===0&&r.startsWith("file:")?new o.MissingPDFException('Missing PDF "'+r+'".'):new o.UnexpectedResponseException(`Unexpected server response (${l}) while retrieving PDF "${r}".`,l)}function e(l){return l===200||l===206}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.getFilenameFromContentDispositionHeader=Z;var o=V(1);function Z(G){let Q=!0,U=x("filename\\*","i").exec(G);if(U){U=U[1];let T=f(U);return T=unescape(T),T=u(T),T=k(T),l(T)}if(U=r(G),U){const T=k(U);return l(T)}if(U=x("filename","i").exec(G),U){U=U[1];let T=f(U);return T=k(T),l(T)}function x(T,p){return new RegExp("(?:^|;)\\s*"+T+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function e(T,p){if(T){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const j=new TextDecoder(T,{fatal:!0}),L=(0,o.stringToBytes)(p);p=j.decode(L),Q=!1}catch{}}return p}function l(T){return Q&&/[\x80-\xff]/.test(T)&&(T=e("utf-8",T),Q&&(T=e("iso-8859-1",T))),T}function r(T){const p=[];let j;const L=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(j=L.exec(T))!==null;){let[,P,s,a]=j;if(P=parseInt(P,10),P in p){if(P===0)break;continue}p[P]=[s,a]}const R=[];for(let P=0;P<p.length&&P in p;++P){let[s,a]=p[P];a=f(a),s&&(a=unescape(a),P===0&&(a=u(a))),R.push(a)}return R.join("")}function f(T){if(T.startsWith('"')){const p=T.slice(1).split('\\"');for(let j=0;j<p.length;++j){const L=p[j].indexOf('"');L!==-1&&(p[j]=p[j].slice(0,L),p.length=j+1),p[j]=p[j].replace(/\\(.)/g,"$1")}T=p.join('"')}return T}function u(T){const p=T.indexOf("'");if(p===-1)return T;const j=T.slice(0,p),R=T.slice(p+1).replace(/^[^']*'/,"");return e(j,R)}function k(T){return!T.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(T)?T:T.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,j,L,R){if(L==="q"||L==="Q")return R=R.replace(/_/g," "),R=R.replace(/=([0-9a-fA-F]{2})/g,function(P,s){return String.fromCharCode(parseInt(s,16))}),e(j,R);try{R=atob(R)}catch{}return e(j,R)})}return""}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFNetworkStream=void 0;var o=V(1),Z=V(24);const G=200,Q=206;function U(f){const u=f.response;return typeof u!="string"?u:(0,o.stringToBytes)(u).buffer}class x{constructor(u,k={}){this.url=u,this.isHttp=/^https?:/i.test(u),this.httpHeaders=this.isHttp&&k.httpHeaders||Object.create(null),this.withCredentials=k.withCredentials||!1,this.getXhr=k.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(u,k,T){const p={begin:u,end:k};for(const j in T)p[j]=T[j];return this.request(p)}requestFull(u){return this.request(u)}request(u){const k=this.getXhr(),T=this.currXhrId++,p=this.pendingRequests[T]={xhr:k};k.open("GET",this.url),k.withCredentials=this.withCredentials;for(const j in this.httpHeaders){const L=this.httpHeaders[j];typeof L!="undefined"&&k.setRequestHeader(j,L)}return this.isHttp&&"begin"in u&&"end"in u?(k.setRequestHeader("Range",`bytes=${u.begin}-${u.end-1}`),p.expectedStatus=Q):p.expectedStatus=G,k.responseType="arraybuffer",u.onError&&(k.onerror=function(j){u.onError(k.status)}),k.onreadystatechange=this.onStateChange.bind(this,T),k.onprogress=this.onProgress.bind(this,T),p.onHeadersReceived=u.onHeadersReceived,p.onDone=u.onDone,p.onError=u.onError,p.onProgress=u.onProgress,k.send(null),T}onProgress(u,k){var p;const T=this.pendingRequests[u];!T||(p=T.onProgress)==null||p.call(T,k)}onStateChange(u,k){var P,s,a;const T=this.pendingRequests[u];if(!T)return;const p=T.xhr;if(p.readyState>=2&&T.onHeadersReceived&&(T.onHeadersReceived(),delete T.onHeadersReceived),p.readyState!==4||!(u in this.pendingRequests))return;if(delete this.pendingRequests[u],p.status===0&&this.isHttp){(P=T.onError)==null||P.call(T,p.status);return}const j=p.status||G;if(!(j===G&&T.expectedStatus===Q)&&j!==T.expectedStatus){(s=T.onError)==null||s.call(T,p.status);return}const R=U(p);if(j===Q){const C=p.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(C);T.onDone({begin:parseInt(E[1],10),chunk:R})}else R?T.onDone({begin:0,chunk:R}):(a=T.onError)==null||a.call(T,p.status)}getRequestXhr(u){return this.pendingRequests[u].xhr}isPendingRequest(u){return u in this.pendingRequests}abortRequest(u){const k=this.pendingRequests[u].xhr;delete this.pendingRequests[u],k.abort()}}class e{constructor(u){this._source=u,this._manager=new x(u.url,{httpHeaders:u.httpHeaders,withCredentials:u.withCredentials}),this._rangeChunkSize=u.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(u){const k=this._rangeRequestReaders.indexOf(u);k>=0&&this._rangeRequestReaders.splice(k,1)}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new l(this._manager,this._source),this._fullRequestReader}getRangeReader(u,k){const T=new r(this._manager,u,k);return T.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(T),T}cancelAllRequests(u){var k;(k=this._fullRequestReader)==null||k.cancel(u);for(const T of this._rangeRequestReaders.slice(0))T.cancel(u)}}A.PDFNetworkStream=e;class l{constructor(u,k){this._manager=u;const T={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=k.url,this._fullRequestId=u.requestFull(T),this._headersReceivedCapability=(0,o.createPromiseCapability)(),this._disableRange=k.disableRange||!1,this._contentLength=k.length,this._rangeChunkSize=k.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const u=this._fullRequestId,k=this._manager.getRequestXhr(u),T=L=>k.getResponseHeader(L),{allowRangeRequests:p,suggestedLength:j}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});p&&(this._isRangeSupported=!0),this._contentLength=j||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(T),this._isRangeSupported&&this._manager.abortRequest(u),this._headersReceivedCapability.resolve()}_onDone(u){if(u&&(this._requests.length>0?this._requests.shift().resolve({value:u.chunk,done:!1}):this._cachedChunks.push(u.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(u){this._storedError=(0,Z.createResponseStatusError)(u,this._url),this._headersReceivedCapability.reject(this._storedError);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(u){var k;(k=this.onProgress)==null||k.call(this,{loaded:u.loaded,total:u.lengthComputable?u.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const u=(0,o.createPromiseCapability)();return this._requests.push(u),u.promise}cancel(u){this._done=!0,this._headersReceivedCapability.reject(u);for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class r{constructor(u,k,T){this._manager=u;const p={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=u.url,this._requestId=u.requestRange(k,T,p),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var u;(u=this.onClosed)==null||u.call(this,this)}_onDone(u){const k=u.chunk;this._requests.length>0?this._requests.shift().resolve({value:k,done:!1}):this._queuedChunk=k,this._done=!0;for(const T of this._requests)T.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(u){this._storedError=(0,Z.createResponseStatusError)(u,this._url);for(const k of this._requests)k.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(u){var k;this.isStreamingSupported||(k=this.onProgress)==null||k.call(this,{loaded:u.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const k=this._queuedChunk;return this._queuedChunk=null,{value:k,done:!1}}if(this._done)return{value:void 0,done:!0};const u=(0,o.createPromiseCapability)();return this._requests.push(u),u.promise}cancel(u){this._done=!0;for(const k of this._requests)k.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(et,A,V)=>{Object.defineProperty(A,"__esModule",{value:!0}),A.PDFFetchStream=void 0;var o=V(1),Z=V(24);function G(l,r,f){return{method:"GET",headers:l,signal:f==null?void 0:f.signal,mode:"cors",credentials:r?"include":"same-origin",redirect:"follow"}}function Q(l){const r=new Headers;for(const f in l){const u=l[f];typeof u!="undefined"&&r.append(f,u)}return r}class U{constructor(r){this.source=r,this.isHttp=/^https?:/i.test(r.url),this.httpHeaders=this.isHttp&&r.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var r,f;return(f=(r=this._fullRequestReader)==null?void 0:r._loaded)!=null?f:0}getFullReader(){return(0,o.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(r,f){if(f<=this._progressiveDataLength)return null;const u=new e(this,r,f);return this._rangeRequestReaders.push(u),u}cancelAllRequests(r){this._fullRequestReader&&this._fullRequestReader.cancel(r);for(const f of this._rangeRequestReaders.slice(0))f.cancel(r)}}A.PDFFetchStream=U;class x{constructor(r){this._stream=r,this._reader=null,this._loaded=0,this._filename=null;const f=r.source;this._withCredentials=f.withCredentials||!1,this._contentLength=f.length,this._headersCapability=(0,o.createPromiseCapability)(),this._disableRange=f.disableRange||!1,this._rangeChunkSize=f.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!f.disableStream,this._isRangeSupported=!f.disableRange,this._headers=Q(this._stream.httpHeaders);const u=f.url;fetch(u,G(this._headers,this._withCredentials,this._abortController)).then(k=>{if(!(0,Z.validateResponseStatus)(k.status))throw(0,Z.createResponseStatusError)(k.status,u);this._reader=k.body.getReader(),this._headersCapability.resolve();const T=L=>k.headers.get(L),{allowRangeRequests:p,suggestedLength:j}=(0,Z.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=j||this._contentLength,this._filename=(0,Z.extractFilenameFromHeader)(T),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new o.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:r,done:f}=await this._reader.read();return f?{value:r,done:f}:(this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){this._reader&&this._reader.cancel(r),this._abortController&&this._abortController.abort()}}class e{constructor(r,f,u){this._stream=r,this._reader=null,this._loaded=0;const k=r.source;this._withCredentials=k.withCredentials||!1,this._readCapability=(0,o.createPromiseCapability)(),this._isStreamingSupported=!k.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=Q(this._stream.httpHeaders),this._headers.append("Range",`bytes=${f}-${u-1}`);const T=k.url;fetch(T,G(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,Z.validateResponseStatus)(p.status))throw(0,Z.createResponseStatusError)(p.status,T);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:r,done:f}=await this._reader.read();return f?{value:r,done:f}:(this._loaded+=r.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(r).buffer,done:!1})}cancel(r){this._reader&&this._reader.cancel(r),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(et){var A=__webpack_module_cache__[et];if(A!==void 0)return A.exports;var V=__webpack_module_cache__[et]={exports:{}};return __webpack_modules__[et](V,V.exports,__w_pdfjs_require__),V.exports}var __webpack_exports__={};return(()=>{var et=__webpack_exports__;Object.defineProperty(et,"__esModule",{value:!0}),Object.defineProperty(et,"AnnotationLayer",{enumerable:!0,get:function(){return Z.AnnotationLayer}}),Object.defineProperty(et,"AnnotationMode",{enumerable:!0,get:function(){return A.AnnotationMode}}),Object.defineProperty(et,"CMapCompressionType",{enumerable:!0,get:function(){return A.CMapCompressionType}}),Object.defineProperty(et,"GlobalWorkerOptions",{enumerable:!0,get:function(){return G.GlobalWorkerOptions}}),Object.defineProperty(et,"InvalidPDFException",{enumerable:!0,get:function(){return A.InvalidPDFException}}),Object.defineProperty(et,"LoopbackPort",{enumerable:!0,get:function(){return V.LoopbackPort}}),Object.defineProperty(et,"MissingPDFException",{enumerable:!0,get:function(){return A.MissingPDFException}}),Object.defineProperty(et,"OPS",{enumerable:!0,get:function(){return A.OPS}}),Object.defineProperty(et,"PDFDataRangeTransport",{enumerable:!0,get:function(){return V.PDFDataRangeTransport}}),Object.defineProperty(et,"PDFDateString",{enumerable:!0,get:function(){return o.PDFDateString}}),Object.defineProperty(et,"PDFWorker",{enumerable:!0,get:function(){return V.PDFWorker}}),Object.defineProperty(et,"PasswordResponses",{enumerable:!0,get:function(){return A.PasswordResponses}}),Object.defineProperty(et,"PermissionFlag",{enumerable:!0,get:function(){return A.PermissionFlag}}),Object.defineProperty(et,"PixelsPerInch",{enumerable:!0,get:function(){return o.PixelsPerInch}}),Object.defineProperty(et,"RenderingCancelledException",{enumerable:!0,get:function(){return o.RenderingCancelledException}}),Object.defineProperty(et,"SVGGraphics",{enumerable:!0,get:function(){return x.SVGGraphics}}),Object.defineProperty(et,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return A.UNSUPPORTED_FEATURES}}),Object.defineProperty(et,"UnexpectedResponseException",{enumerable:!0,get:function(){return A.UnexpectedResponseException}}),Object.defineProperty(et,"Util",{enumerable:!0,get:function(){return A.Util}}),Object.defineProperty(et,"VerbosityLevel",{enumerable:!0,get:function(){return A.VerbosityLevel}}),Object.defineProperty(et,"XfaLayer",{enumerable:!0,get:function(){return e.XfaLayer}}),Object.defineProperty(et,"build",{enumerable:!0,get:function(){return V.build}}),Object.defineProperty(et,"createPromiseCapability",{enumerable:!0,get:function(){return A.createPromiseCapability}}),Object.defineProperty(et,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return A.createValidAbsoluteUrl}}),Object.defineProperty(et,"getDocument",{enumerable:!0,get:function(){return V.getDocument}}),Object.defineProperty(et,"getFilenameFromUrl",{enumerable:!0,get:function(){return o.getFilenameFromUrl}}),Object.defineProperty(et,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return o.getPdfFilenameFromUrl}}),Object.defineProperty(et,"getXfaPageViewport",{enumerable:!0,get:function(){return o.getXfaPageViewport}}),Object.defineProperty(et,"isPdfFile",{enumerable:!0,get:function(){return o.isPdfFile}}),Object.defineProperty(et,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(et,"renderTextLayer",{enumerable:!0,get:function(){return U.renderTextLayer}}),Object.defineProperty(et,"shadow",{enumerable:!0,get:function(){return A.shadow}}),Object.defineProperty(et,"version",{enumerable:!0,get:function(){return V.version}});var A=__w_pdfjs_require__(1),V=__w_pdfjs_require__(4),o=__w_pdfjs_require__(5),Z=__w_pdfjs_require__(18),G=__w_pdfjs_require__(12),Q=__w_pdfjs_require__(3),U=__w_pdfjs_require__(21),x=__w_pdfjs_require__(22),e=__w_pdfjs_require__(20);if(Q.isNodeJS){const{PDFNodeStream:l}=__w_pdfjs_require__(23);(0,V.setPDFNetworkStreamFactory)(r=>new l(r))}else{const{PDFNetworkStream:l}=__w_pdfjs_require__(26),{PDFFetchStream:r}=__w_pdfjs_require__(27);(0,V.setPDFNetworkStreamFactory)(f=>(0,o.isValidFetchUrl)(f.url)?new r(f):new l(f))}})(),__webpack_exports__})()})})(pdf);var pdfReader_vue_vue_type_style_index_0_scoped_true_lang="";pdf.exports.GlobalWorkerOptions.workerSrc="/pdf.worker.js";const _sfc_main=defineComponent({props:{file:String},setup(et){const{file:A}=toRefs(et),V=o=>{pdf.exports.getDocument(o).promise.then(G=>{const Q=document.getElementById("canvas1");G.getPage(1).then(U=>{const x=U.getViewport({scale:1.4}),e=window.devicePixelRatio||1,l=Q.getContext("2d");Q.width=Math.floor(x.width*e),Q.height=Math.floor(x.height*e),Q.style.width=Math.floor(x.width)+"px",Q.style.height=Math.floor(x.height)+"px";const f={canvasContext:l,transform:e!==1?[e,0,0,e,0,0]:null,viewport:x};U.render(f)})})};watch(A,(o,Z)=>{V(o)}),onMounted(()=>{V(A.value)})}}),_withScopeId=et=>(pushScopeId("data-v-7f6a2734"),et=et(),popScopeId(),et),_hoisted_1={style:{width:"100%","text-align":"center"},class:"pdf"},_hoisted_2=_withScopeId(()=>createBaseVNode("canvas",{id:"canvas1"},null,-1)),_hoisted_3=[_hoisted_2];function _sfc_render(et,A,V,o,Z,G){return openBlock(),createElementBlock("div",_hoisted_1,_hoisted_3)}var pdfReader=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-7f6a2734"]]);export{pdfReader as default};

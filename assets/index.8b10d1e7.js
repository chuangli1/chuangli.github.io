import{d as g,u as w,h as u,r as f,o as i,a as v,F,E as S,D as V,j as c,k as d,c as b,s as k,e as y,b as h}from"./vendor.6f35fcad.js";function A(p){return Array.isArray(p.forms)}var B=[{name:"\u7A7A\u767DSDoc",key:0}];const I={class:"flex-center"},N={style:{"margin-top":"10px",width:"200px"}},E=g({setup(p){const m=w(),r=u(!1),D=e=>{m.push({name:"form-doc.edit",params:{key:e}})},n=u([]),s=u(!1),x=()=>{const e=new FileReader;e.onload=function(t){const o=t.target.result;if(!A(JSON.parse(o))){s.value=!0;return}s.value=!0;const l=String(new Date().getTime());window.localStorage.setItem(l,o),m.push({name:"form-doc.edit",params:{key:l},query:{self:1}})},e.readAsText(n.value[0].file)},C=()=>{n.value=[],r.value=!1};return(e,t)=>{const o=f("FormKit"),l=f("modal");return i(),v("div",I,[(i(!0),v(F,null,S(V(B),(a,_)=>(i(),b(o,{key:_,"prefix-icon":"add",class:"block",type:"button",onClick:O=>D(a.key)},{default:d(()=>[k(y(a.name),1)]),_:2},1032,["onClick"]))),128)),c(o,{"prefix-icon":"add",class:"block",type:"button",onClick:t[0]||(t[0]=()=>{r.value=!0})},{default:d(()=>[k(y(e.$t("export")),1)]),_:1}),c(l,{title:"\u5BFC\u5165FormSDoc",value:r.value,"onUpdate:value":t[2]||(t[2]=a=>r.value=a),width:400,onOnCancel:C,onOnOk:x},{default:d(()=>[h("div",N,[c(o,{type:"file",accept:".docf",modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=a=>n.value=a),help:s.value?e.$t("error file"):e.$t("Select files")},null,8,["modelValue","help"])])]),_:1},8,["value"])])}}});export{E as default};

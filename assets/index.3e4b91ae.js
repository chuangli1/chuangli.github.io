var Xe=Object.defineProperty;var Ye=(k,l,N)=>l in k?Xe(k,l,{enumerable:!0,configurable:!0,writable:!0,value:N}):k[l]=N;var Ie=(k,l,N)=>(Ye(k,typeof l!="symbol"?l+"":l,N),N),We=(k,l,N)=>{if(!l.has(k))throw TypeError("Cannot "+N)};var pe=(k,l,N)=>(We(k,l,"read from private field"),N?N.call(k):l.get(k)),ve=(k,l,N)=>{if(l.has(k))throw TypeError("Cannot add the same private member more than once");l instanceof WeakSet?l.add(k):l.set(k,N)},ke=(k,l,N,r)=>(We(k,l,"write to private field"),r?r.call(k,N):l.set(k,N),N);var Me=(k,l,N)=>(We(k,l,"access private method"),N);import{d as defineComponent,t as toRefs,o as openBlock,a as createElementBlock,b as createBaseVNode,f as renderSlot,e as toDisplayString,w as watch,c as createBlock,g as createCommentVNode,T as Teleport,h as ref,F as Fragment,q as renderList,s as normalizeStyle,v as pushScopeId,x as popScopeId,r as resolveComponent,k as withCtx,j as createVNode,i as onMounted,m as marked,y as normalizeClass,z as reactive,A as withDirectives,B as vModelText,C as withKeys}from"./vendor.c6641e48.js";import{_ as _export_sfc}from"./index.c1c88689.js";import{g as getAugmentedNamespace,c as commonjsGlobal,a as commonjsRequire}from"./_commonjsHelpers.a5007c1f.js";const date=new Date,getWeek=()=>date.getDay();var bigCard_vue_vue_type_style_index_0_lang="";const _sfc_main$c=defineComponent({props:{name:String},setup(k){const{name:l}=toRefs(k);return{name:l}}}),_hoisted_1$b={style:{"max-width":"100%"}},_hoisted_2$9={class:"big-card"},_hoisted_3$6={class:"footer font-white"};function _sfc_render$c(k,l,N,r,q,I){return openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$9,[renderSlot(k.$slots,"default")]),createBaseVNode("div",_hoisted_3$6,[createBaseVNode("span",null,toDisplayString(k.name),1)])])}var bigCard=_export_sfc(_sfc_main$c,[["render",_sfc_render$c]]),modal_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$b=defineComponent({props:{value:Boolean,name:String},emits:["update:value","min","max"],setup(k,{emit:l}){let{value:N,name:r}=toRefs(k);const q=()=>{l("update:value",!1),document.body.style.overflow="auto"},I=()=>{const B=document.getElementById("container-modal");B.style.height="80%",B.style.width="80%",B.style.left="10%",B.style.top="10%",l("min")},$=()=>{const B=document.getElementById("container-modal");B.style.height="100%",B.style.width="100%",B.style.left="0",B.style.top="0",l("max")};return watch(N,(B,C)=>{B?document.body.style.overflow="hidden":document.body.style.overflow="auto"}),{value:N,name:r,updateState:q,min:I,max:$}}}),_hoisted_1$a={key:0,style:{"z-index":"1000"}},_hoisted_2$8={class:"container",id:"container-modal"},_hoisted_3$5={class:"title"},_hoisted_4$2={class:"name"},_hoisted_5$2={class:"operate"};function _sfc_render$b(k,l,N,r,q,I){return openBlock(),createBlock(Teleport,{to:"body"},[k.value?(openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",{class:"mask",onClick:l[0]||(l[0]=(...$)=>k.updateState&&k.updateState(...$))}),createBaseVNode("div",_hoisted_2$8,[createBaseVNode("div",_hoisted_3$5,[createBaseVNode("span",_hoisted_4$2,toDisplayString(k.name),1),createBaseVNode("div",_hoisted_5$2,[createBaseVNode("span",{class:"min",onClick:l[1]||(l[1]=(...$)=>k.min&&k.min(...$))}),createBaseVNode("span",{class:"max",onClick:l[2]||(l[2]=(...$)=>k.max&&k.max(...$))}),createBaseVNode("span",{class:"close",onClick:l[3]||(l[3]=(...$)=>k.updateState&&k.updateState(...$))})])]),renderSlot(k.$slots,"default",{},void 0,!0)])])):createCommentVNode("",!0)])}var modal=_export_sfc(_sfc_main$b,[["render",_sfc_render$b],["__scopeId","data-v-4bcfac8a"]]),appCard_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$a=defineComponent({props:{apps:Array},emit:["openApp"],setup(k,{emit:l}){let{apps:N}=toRefs(k);const r=ref(null);return{apps:N,bgStyle:$=>$.icon?{backgroundImage:`url(${$.icon})`,backgroundSize:"cover"}:{},openApp:$=>{$.url&&!["md","pdf"].includes($.url.split(".").pop())?window.open($.url):l("openApp",$)},appsRef:r}}}),_withScopeId$2=k=>(pushScopeId("data-v-b86654b0"),k=k(),popScopeId(),k),_hoisted_1$9={class:"content-app",ref:"appsRef",id:"apps"},_hoisted_2$7=["onClick"],_hoisted_3$4={class:"app-name"},_hoisted_4$1=_withScopeId$2(()=>createBaseVNode("i",null,null,-1)),_hoisted_5$1=_withScopeId$2(()=>createBaseVNode("i",null,null,-1)),_hoisted_6$1=_withScopeId$2(()=>createBaseVNode("i",null,null,-1)),_hoisted_7$1=_withScopeId$2(()=>createBaseVNode("i",null,null,-1));function _sfc_render$a(k,l,N,r,q,I){return openBlock(),createElementBlock("div",_hoisted_1$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.apps,($,B)=>(openBlock(),createElementBlock("div",{class:"app",key:B,onClick:C=>k.openApp($)},[createBaseVNode("div",{style:normalizeStyle(k.bgStyle($)),class:"app-icon"},toDisplayString($.icon?null:$.name),5),createBaseVNode("div",_hoisted_3$4,toDisplayString($.name),1)],8,_hoisted_2$7))),128)),_hoisted_4$1,_hoisted_5$1,_hoisted_6$1,_hoisted_7$1],512)}var appCard=_export_sfc(_sfc_main$a,[["render",_sfc_render$a],["__scopeId","data-v-b86654b0"]]);const _sfc_main$9=defineComponent({components:{bigCard,modal,appCard},props:{appList:Array,name:String},setup(k){const{name:l,appList:N}=toRefs(k);return{appList:N,name:l}}});function _sfc_render$9(k,l,N,r,q,I){const $=resolveComponent("app-card"),B=resolveComponent("big-card");return openBlock(),createBlock(B,{name:k.name},{default:withCtx(()=>[createVNode($,{apps:k.appList,class:"p10",style:{height:"370px"}},null,8,["apps"])]),_:1},8,["name"])}var frame=_export_sfc(_sfc_main$9,[["render",_sfc_render$9]]),mdReader_vue_vue_type_style_index_0_lang="";const fileReader=new FileReader,_sfc_main$8=defineComponent({props:{file:String},setup(k){let l=ref(""),{file:N}=toRefs(k);const r=q=>{if(!q){l.value="";return}fetch(`${q}`).then(I=>I.blob()).then(I=>{fileReader.readAsText(I)}),fileReader.onloadend=()=>{l.value=typeof fileReader.result=="string"?marked(fileReader.result):"\u65E0\u6CD5\u89E3\u6790"}};return watch(N,(q,I)=>{console.log(q),r(q)}),onMounted(()=>{r(N.value)}),{content:l}}}),_hoisted_1$8={class:"content p10",style:{"padding-top":"0px"}},_hoisted_2$6=["innerHTML"];function _sfc_render$8(k,l,N,r,q,I){return openBlock(),createElementBlock("div",_hoisted_1$8,[createBaseVNode("div",{innerHTML:k.content},null,8,_hoisted_2$6)])}var mdReader=_export_sfc(_sfc_main$8,[["render",_sfc_render$8]]),listCard_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$7=defineComponent({name:"listCard",props:{menu:{type:Array,required:!0},name:Boolean},emits:["changeTab"],setup(k,{emit:l}){const{menu:N}=toRefs(k);let r=ref("");return{changeTab:I=>{l("changeTab",I),r.value=I.name},menu:N,current:r}}}),_hoisted_1$7={key:0,class:"name"},_hoisted_2$5={class:"list"},_hoisted_3$3=["onClick"];function _sfc_render$7(k,l,N,r,q,I){return openBlock(!0),createElementBlock(Fragment,null,renderList(k.menu,($,B)=>(openBlock(),createElementBlock("div",{class:"card-list",key:B},[k.name?(openBlock(),createElementBlock("div",_hoisted_1$7,toDisplayString($.name),1)):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_2$5,[(openBlock(!0),createElementBlock(Fragment,null,renderList($.list,(C,t)=>(openBlock(),createElementBlock("li",{key:t,class:normalizeClass([{active:k.current===C.name},"item"]),onClick:u=>k.changeTab(C)},toDisplayString(C.name),11,_hoisted_3$3))),128))])]))),128)}var listCard=_export_sfc(_sfc_main$7,[["render",_sfc_render$7],["__scopeId","data-v-3e532bee"]]),pdf={exports:{}},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(l,N){module.exports=N()})(commonjsGlobal,function(){return(()=>{var __webpack_modules__=[,(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.VerbosityLevel=l.Util=l.UnknownErrorException=l.UnexpectedResponseException=l.UNSUPPORTED_FEATURES=l.TextRenderingMode=l.StreamType=l.RenderingIntentFlag=l.PermissionFlag=l.PasswordResponses=l.PasswordException=l.PageActionEventType=l.OPS=l.MissingPDFException=l.IsLittleEndianCached=l.IsEvalSupportedCached=l.InvalidPDFException=l.ImageKind=l.IDENTITY_MATRIX=l.FormatError=l.FontType=l.FONT_IDENTITY_MATRIX=l.DocumentActionEventType=l.CMapCompressionType=l.BaseException=l.AnnotationType=l.AnnotationStateModelType=l.AnnotationReviewState=l.AnnotationReplyType=l.AnnotationMode=l.AnnotationMarkedState=l.AnnotationFlag=l.AnnotationFieldFlag=l.AnnotationBorderStyleType=l.AnnotationActionEventType=l.AbortException=void 0,l.arrayByteLength=z,l.arraysToBytes=K,l.assert=_,l.bytesToString=O,l.createPromiseCapability=ze,l.createValidAbsoluteUrl=d,l.escapeString=_e,l.getModificationDate=He,l.getVerbosityLevel=H,l.info=Y,l.isArrayBuffer=we,l.isArrayEqual=je,l.isAscii=ye,l.isSameOrigin=i,l.objectFromMap=te,l.objectSize=ne,l.setVerbosityLevel=X,l.shadow=b,l.string32=Z,l.stringToBytes=V,l.stringToPDFString=Fe,l.stringToUTF16BEString=Ae,l.stringToUTF8String=Ee,l.unreachable=Q,l.utf8StringToString=fe,l.warn=ee,N(2);const r=[1,0,0,1,0,0];l.IDENTITY_MATRIX=r;const q=[.001,0,0,.001,0,0];l.FONT_IDENTITY_MATRIX=q;const I={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};l.RenderingIntentFlag=I;const $={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};l.AnnotationMode=$;const B={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};l.PermissionFlag=B;const C={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};l.TextRenderingMode=C;const t={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};l.ImageKind=t;const u={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};l.AnnotationType=u;const a={MARKED:"Marked",REVIEW:"Review"};l.AnnotationStateModelType=a;const p={MARKED:"Marked",UNMARKED:"Unmarked"};l.AnnotationMarkedState=p;const f={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};l.AnnotationReviewState=f;const P={GROUP:"Group",REPLY:"R"};l.AnnotationReplyType=P;const w={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};l.AnnotationFlag=w;const g={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};l.AnnotationFieldFlag=g;const W={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};l.AnnotationBorderStyleType=W;const j={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};l.AnnotationActionEventType=j;const R={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};l.DocumentActionEventType=R;const v={O:"PageOpen",C:"PageClose"};l.PageActionEventType=v;const s={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};l.StreamType=s;const o={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};l.FontType=o;const y={ERRORS:0,WARNINGS:1,INFOS:5};l.VerbosityLevel=y;const x={NONE:0,BINARY:1,STREAM:2};l.CMapCompressionType=x;const E={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};l.OPS=E;const M={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};l.UNSUPPORTED_FEATURES=M;const T={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};l.PasswordResponses=T;let L=y.WARNINGS;function X(J){Number.isInteger(J)&&(L=J)}function H(){return L}function Y(J){L>=y.INFOS&&console.log(`Info: ${J}`)}function ee(J){L>=y.WARNINGS&&console.log(`Warning: ${J}`)}function Q(J){throw new Error(J)}function _(J,U){J||Q(U)}function i(J,U){let G;try{if(G=new URL(J),!G.origin||G.origin==="null")return!1}catch{return!1}const ie=new URL(U,G);return G.origin===ie.origin}function n(J){if(!J)return!1;switch(J.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function d(J,U=null,G=null){if(!J)return null;try{if(G&&typeof J=="string"){if(G.addDefaultProtocol&&J.startsWith("www.")){const ae=J.match(/\./g);ae&&ae.length>=2&&(J=`http://${J}`)}if(G.tryConvertEncoding)try{J=Ee(J)}catch{}}const ie=U?new URL(J,U):new URL(J);if(n(ie))return ie}catch{}return null}function b(J,U,G){return Object.defineProperty(J,U,{value:G,enumerable:!0,configurable:!0,writable:!1}),G}const F=function(){function U(G,ie){this.constructor===U&&Q("Cannot initialize BaseException."),this.message=G,this.name=ie}return U.prototype=new Error,U.constructor=U,U}();l.BaseException=F;class S extends F{constructor(U,G){super(U,"PasswordException");this.code=G}}l.PasswordException=S;class e extends F{constructor(U,G){super(U,"UnknownErrorException");this.details=G}}l.UnknownErrorException=e;class h extends F{constructor(U){super(U,"InvalidPDFException")}}l.InvalidPDFException=h;class m extends F{constructor(U){super(U,"MissingPDFException")}}l.MissingPDFException=m;class A extends F{constructor(U,G){super(U,"UnexpectedResponseException");this.status=G}}l.UnexpectedResponseException=A;class c extends F{constructor(U){super(U,"FormatError")}}l.FormatError=c;class D extends F{constructor(U){super(U,"AbortException")}}l.AbortException=D;function O(J){(typeof J!="object"||J===null||J.length===void 0)&&Q("Invalid argument for bytesToString");const U=J.length,G=8192;if(U<G)return String.fromCharCode.apply(null,J);const ie=[];for(let ae=0;ae<U;ae+=G){const ce=Math.min(ae+G,U),de=J.subarray(ae,ce);ie.push(String.fromCharCode.apply(null,de))}return ie.join("")}function V(J){typeof J!="string"&&Q("Invalid argument for stringToBytes");const U=J.length,G=new Uint8Array(U);for(let ie=0;ie<U;++ie)G[ie]=J.charCodeAt(ie)&255;return G}function z(J){if(J.length!==void 0)return J.length;if(J.byteLength!==void 0)return J.byteLength;Q("Invalid argument for arrayByteLength")}function K(J){const U=J.length;if(U===1&&J[0]instanceof Uint8Array)return J[0];let G=0;for(let ce=0;ce<U;ce++)G+=z(J[ce]);let ie=0;const ae=new Uint8Array(G);for(let ce=0;ce<U;ce++){let de=J[ce];de instanceof Uint8Array||(typeof de=="string"?de=V(de):de=new Uint8Array(de));const Se=de.byteLength;ae.set(de,ie),ie+=Se}return ae}function Z(J){return String.fromCharCode(J>>24&255,J>>16&255,J>>8&255,J&255)}function ne(J){return Object.keys(J).length}function te(J){const U=Object.create(null);for(const[G,ie]of J)U[G]=ie;return U}function se(){const J=new Uint8Array(4);return J[0]=1,new Uint32Array(J.buffer,0,1)[0]===1}const ue={get value(){return b(this,"value",se())}};l.IsLittleEndianCached=ue;function re(){try{return new Function(""),!0}catch{return!1}}const oe={get value(){return b(this,"value",re())}};l.IsEvalSupportedCached=oe;const le=[...Array(256).keys()].map(J=>J.toString(16).padStart(2,"0"));class he{static makeHexColor(U,G,ie){return`#${le[U]}${le[G]}${le[ie]}`}static transform(U,G){return[U[0]*G[0]+U[2]*G[1],U[1]*G[0]+U[3]*G[1],U[0]*G[2]+U[2]*G[3],U[1]*G[2]+U[3]*G[3],U[0]*G[4]+U[2]*G[5]+U[4],U[1]*G[4]+U[3]*G[5]+U[5]]}static applyTransform(U,G){const ie=U[0]*G[0]+U[1]*G[2]+G[4],ae=U[0]*G[1]+U[1]*G[3]+G[5];return[ie,ae]}static applyInverseTransform(U,G){const ie=G[0]*G[3]-G[1]*G[2],ae=(U[0]*G[3]-U[1]*G[2]+G[2]*G[5]-G[4]*G[3])/ie,ce=(-U[0]*G[1]+U[1]*G[0]+G[4]*G[1]-G[5]*G[0])/ie;return[ae,ce]}static getAxialAlignedBoundingBox(U,G){const ie=he.applyTransform(U,G),ae=he.applyTransform(U.slice(2,4),G),ce=he.applyTransform([U[0],U[3]],G),de=he.applyTransform([U[2],U[1]],G);return[Math.min(ie[0],ae[0],ce[0],de[0]),Math.min(ie[1],ae[1],ce[1],de[1]),Math.max(ie[0],ae[0],ce[0],de[0]),Math.max(ie[1],ae[1],ce[1],de[1])]}static inverseTransform(U){const G=U[0]*U[3]-U[1]*U[2];return[U[3]/G,-U[1]/G,-U[2]/G,U[0]/G,(U[2]*U[5]-U[4]*U[3])/G,(U[4]*U[1]-U[5]*U[0])/G]}static apply3dTransform(U,G){return[U[0]*G[0]+U[1]*G[1]+U[2]*G[2],U[3]*G[0]+U[4]*G[1]+U[5]*G[2],U[6]*G[0]+U[7]*G[1]+U[8]*G[2]]}static singularValueDecompose2dScale(U){const G=[U[0],U[2],U[1],U[3]],ie=U[0]*G[0]+U[1]*G[2],ae=U[0]*G[1]+U[1]*G[3],ce=U[2]*G[0]+U[3]*G[2],de=U[2]*G[1]+U[3]*G[3],Se=(ie+de)/2,Te=Math.sqrt((ie+de)**2-4*(ie*de-ce*ae))/2,Pe=Se+Te||1,Ce=Se-Te||1;return[Math.sqrt(Pe),Math.sqrt(Ce)]}static normalizeRect(U){const G=U.slice(0);return U[0]>U[2]&&(G[0]=U[2],G[2]=U[0]),U[1]>U[3]&&(G[1]=U[3],G[3]=U[1]),G}static intersect(U,G){function ie(Se,Te){return Se-Te}const ae=[U[0],U[2],G[0],G[2]].sort(ie),ce=[U[1],U[3],G[1],G[3]].sort(ie),de=[];if(U=he.normalizeRect(U),G=he.normalizeRect(G),ae[0]===U[0]&&ae[1]===G[0]||ae[0]===G[0]&&ae[1]===U[0])de[0]=ae[1],de[2]=ae[2];else return null;if(ce[0]===U[1]&&ce[1]===G[1]||ce[0]===G[1]&&ce[1]===U[1])de[1]=ce[1],de[3]=ce[2];else return null;return de}static bezierBoundingBox(U,G,ie,ae,ce,de,Se,Te){const Pe=[],Ce=[[],[]];let De,xe,Oe,ge,Le,Ne,$e,Ue;for(let Ve=0;Ve<2;++Ve){if(Ve===0?(xe=6*U-12*ie+6*ce,De=-3*U+9*ie-9*ce+3*Se,Oe=3*ie-3*U):(xe=6*G-12*ae+6*de,De=-3*G+9*ae-9*de+3*Te,Oe=3*ae-3*G),Math.abs(De)<1e-12){if(Math.abs(xe)<1e-12)continue;ge=-Oe/xe,0<ge&&ge<1&&Pe.push(ge);continue}$e=xe*xe-4*Oe*De,Ue=Math.sqrt($e),!($e<0)&&(Le=(-xe+Ue)/(2*De),0<Le&&Le<1&&Pe.push(Le),Ne=(-xe-Ue)/(2*De),0<Ne&&Ne<1&&Pe.push(Ne))}let Re=Pe.length,be;const Be=Re;for(;Re--;)ge=Pe[Re],be=1-ge,Ce[0][Re]=be*be*be*U+3*be*be*ge*ie+3*be*ge*ge*ce+ge*ge*ge*Se,Ce[1][Re]=be*be*be*G+3*be*be*ge*ae+3*be*ge*ge*de+ge*ge*ge*Te;return Ce[0][Be]=U,Ce[1][Be]=G,Ce[0][Be+1]=Se,Ce[1][Be+1]=Te,Ce[0].length=Ce[1].length=Be+2,[Math.min(...Ce[0]),Math.min(...Ce[1]),Math.max(...Ce[0]),Math.max(...Ce[1])]}}l.Util=he;const me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(J){if(J[0]>="\xEF"){let G;if(J[0]==="\xFE"&&J[1]==="\xFF"?G="utf-16be":J[0]==="\xFF"&&J[1]==="\xFE"?G="utf-16le":J[0]==="\xEF"&&J[1]==="\xBB"&&J[2]==="\xBF"&&(G="utf-8"),G)try{const ie=new TextDecoder(G,{fatal:!0}),ae=V(J);return ie.decode(ae)}catch(ie){ee(`stringToPDFString: "${ie}".`)}}const U=[];for(let G=0,ie=J.length;G<ie;G++){const ae=me[J.charCodeAt(G)];U.push(ae?String.fromCharCode(ae):J.charAt(G))}return U.join("")}function _e(J){return J.replace(/([()\\\n\r])/g,U=>U===`
`?"\\n":U==="\r"?"\\r":`\\${U}`)}function ye(J){return/^[\x00-\x7F]*$/.test(J)}function Ae(J){const U=["\xFE\xFF"];for(let G=0,ie=J.length;G<ie;G++){const ae=J.charCodeAt(G);U.push(String.fromCharCode(ae>>8&255),String.fromCharCode(ae&255))}return U.join("")}function Ee(J){return decodeURIComponent(escape(J))}function fe(J){return unescape(encodeURIComponent(J))}function we(J){return typeof J=="object"&&J!==null&&J.byteLength!==void 0}function je(J,U){if(J.length!==U.length)return!1;for(let G=0,ie=J.length;G<ie;G++)if(J[G]!==U[G])return!1;return!0}function He(J=new Date){return[J.getUTCFullYear().toString(),(J.getUTCMonth()+1).toString().padStart(2,"0"),J.getUTCDate().toString().padStart(2,"0"),J.getUTCHours().toString().padStart(2,"0"),J.getUTCMinutes().toString().padStart(2,"0"),J.getUTCSeconds().toString().padStart(2,"0")].join("")}function ze(){const J=Object.create(null);let U=!1;return Object.defineProperty(J,"settled",{get(){return U}}),J.promise=new Promise(function(G,ie){J.resolve=function(ae){U=!0,G(ae)},J.reject=function(ae){U=!0,ie(ae)}}),J}},(k,l,N)=>{N(3)},(k,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isNodeJS=void 0;const N=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");l.isNodeJS=N},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var k,l,N,r,q,I,$,qe;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_node_utils=__w_pdfjs_require__(8),_annotation_storage=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16),_xfa_text=__w_pdfjs_require__(17);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(C){createPDFNetworkStream=C}function getDocument(C){const t=new PDFDocumentLoadingTask;let u;if(typeof C=="string"||C instanceof URL)u={url:C};else if((0,_util.isArrayBuffer)(C))u={data:C};else if(C instanceof PDFDataRangeTransport)u={range:C};else{if(typeof C!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!C.url&&!C.data&&!C.range)throw new Error("Invalid parameter object: need either .data, .range or .url");u=C}const a=Object.create(null);let p=null,f=null;for(const w in u){const g=u[w];switch(w){case"url":if(typeof window!="undefined")try{a[w]=new URL(g,window.location).href;continue}catch(W){(0,_util.warn)(`Cannot create valid URL: "${W}".`)}else if(typeof g=="string"||g instanceof URL){a[w]=g.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":p=g;continue;case"worker":f=g;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!="undefined"&&g instanceof Buffer)a[w]=new Uint8Array(g);else{if(g instanceof Uint8Array)break;if(typeof g=="string")a[w]=(0,_util.stringToBytes)(g);else if(typeof g=="object"&&g!==null&&!isNaN(g.length))a[w]=new Uint8Array(g);else if((0,_util.isArrayBuffer)(g))a[w]=new Uint8Array(g);else throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.")}continue}a[w]=g}if(a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.StandardFontDataFactory=a.StandardFontDataFactory||DefaultStandardFontDataFactory,a.ignoreErrors=a.stopAtErrors!==!0,a.fontExtraProperties=a.fontExtraProperties===!0,a.pdfBug=a.pdfBug===!0,a.enableXfa=a.enableXfa===!0,(typeof a.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(a.docBaseUrl))&&(a.docBaseUrl=null),Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),typeof a.useWorkerFetch!="boolean"&&(a.useWorkerFetch=a.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&a.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof a.isEvalSupported!="boolean"&&(a.isEvalSupported=!0),typeof a.disableFontFace!="boolean"&&(a.disableFontFace=_is_node.isNodeJS),typeof a.useSystemFonts!="boolean"&&(a.useSystemFonts=!_is_node.isNodeJS&&!a.disableFontFace),typeof a.ownerDocument=="undefined"&&(a.ownerDocument=globalThis.document),typeof a.disableRange!="boolean"&&(a.disableRange=!1),typeof a.disableStream!="boolean"&&(a.disableStream=!1),typeof a.disableAutoFetch!="boolean"&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!f){const w={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};f=w.port?_PDFWorker.fromPort(w):new _PDFWorker(w),t._worker=f}const P=t.docId;return f.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");const w=_fetchDocument(f,a,p,P),g=new Promise(function(W){let j;p?j=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,contentDispositionFilename:a.contentDispositionFilename,disableRange:a.disableRange,disableStream:a.disableStream},p):a.data||(j=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),W(j)});return Promise.all([w,g]).then(function([W,j]){if(t.destroyed)throw new Error("Loading aborted");const R=new _message_handler.MessageHandler(P,W,f.port),v=new WorkerTransport(R,t,j,a);t._transport=v,R.send("Ready",null)})}).catch(t._capability.reject),t}async function _fetchDocument(C,t,u,a){if(C.destroyed)throw new Error("Worker was destroyed");u&&(t.length=u.length,t.initialData=u.initialData,t.progressiveDone=u.progressiveDone,t.contentDispositionFilename=u.contentDispositionFilename);const p=await C.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.13.216",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties,enableXfa:t.enableXfa,useSystemFonts:t.useSystemFonts,cMapUrl:t.useWorkerFetch?t.cMapUrl:null,standardFontDataUrl:t.useWorkerFetch?t.standardFontDataUrl:null});if(C.destroyed)throw new Error("Worker was destroyed");return p}class PDFDocumentLoadingTask{static get idCounters(){return(0,_util.shadow)(this,"idCounters",{doc:0})}constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.idCounters.doc++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var t;this.destroyed=!0,await((t=this._transport)==null?void 0:t.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(t,u,a=!1,p=null){this.length=t,this.initialData=u,this.progressiveDone=a,this.contentDispositionFilename=p,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,u){for(const a of this._rangeListeners)a(t,u)}onDataProgress(t,u){this._readyCapability.promise.then(()=>{for(const a of this._progressListeners)a(t,u)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const u of this._progressiveReadListeners)u(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,u){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(t,u){this._pdfInfo=t,this._transport=u,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(t,u,a,p,f=!1){this._pageIndex=t,this._pageInfo=u,this._ownerDocument=p,this._transport=a,this._stats=f?new _display_utils.StatTimer:null,this._pdfBug=f,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:u=this.rotate,offsetX:a=0,offsetY:p=0,dontFlip:f=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:u,offsetX:a,offsetY:p,dontFlip:f})}getAnnotations({intent:t="display"}={}){const u=this._transport.getRenderingIntent(t);let a=this._annotationPromises.get(u.cacheKey);return a||(a=this._transport.getAnnotations(this._pageIndex,u.renderingIntent),this._annotationPromises.set(u.cacheKey,a),a=a.then(p=>{for(const f of p)f.titleObj!==void 0&&Object.defineProperty(f,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),f.titleObj.str}}),f.contentsObj!==void 0&&Object.defineProperty(f,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),f.contentsObj.str}});return p})),a}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:u,intent:a="display",annotationMode:p=_util.AnnotationMode.ENABLE,transform:f=null,imageLayer:P=null,canvasFactory:w=null,background:g=null,optionalContentConfigPromise:W=null,annotationCanvasMap:j=null}){var M,T;((M=arguments[0])==null?void 0:M.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&p===_util.AnnotationMode.ENABLE&&(p=_util.AnnotationMode.ENABLE_FORMS)),((T=arguments[0])==null?void 0:T.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&p===_util.AnnotationMode.ENABLE&&(p=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const R=this._transport.getRenderingIntent(a,p);this.pendingCleanup=!1,W||(W=this._transport.getOptionalContentConfig());let v=this._intentStates.get(R.cacheKey);v||(v=Object.create(null),this._intentStates.set(R.cacheKey,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const s=w||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),o=!!(R.renderingIntent&_util.RenderingIntentFlag.PRINT);v.displayReadyCapability||(v.displayReadyCapability=(0,_util.createPromiseCapability)(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(R));const y=L=>{v.renderTasks.delete(x),(this.cleanupAfterRender||o)&&(this.pendingCleanup=!0),this._tryCleanup(),L?(x.capability.reject(L),this._abortOperatorList({intentState:v,reason:L instanceof Error?L:new Error(L)})):x.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},x=new InternalRenderTask({callback:y,params:{canvasContext:t,viewport:u,transform:f,imageLayer:P,background:g},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:j,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:s,useRequestAnimationFrame:!o,pdfBug:this._pdfBug});(v.renderTasks||(v.renderTasks=new Set)).add(x);const E=x.task;return Promise.all([v.displayReadyCapability.promise,W]).then(([L,X])=>{if(this.pendingCleanup){y();return}this._stats&&this._stats.time("Rendering"),x.initializeGraphics({transparency:L,optionalContentConfig:X}),x.operatorListChanged()}).catch(y),E}getOperatorList({intent:t="display",annotationMode:u=_util.AnnotationMode.ENABLE}={}){function a(){f.operatorList.lastChunk&&(f.opListReadCapability.resolve(f.operatorList),f.renderTasks.delete(P))}const p=this._transport.getRenderingIntent(t,u,!0);let f=this._intentStates.get(p.cacheKey);f||(f=Object.create(null),this._intentStates.set(p.cacheKey,f));let P;return f.opListReadCapability||(P=Object.create(null),P.operatorListChanged=a,f.opListReadCapability=(0,_util.createPromiseCapability)(),(f.renderTasks||(f.renderTasks=new Set)).add(P),f.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(p)),f.opListReadCapability.promise}streamTextContent({disableCombineTextItems:t=!1,includeMarkedContent:u=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:t!==!0,includeMarkedContent:u===!0},{highWaterMark:100,size(p){return p.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(a=>_xfa_text.XfaText.textContent(a));const u=this.streamTextContent(t);return new Promise(function(a,p){function f(){P.read().then(function({value:g,done:W}){if(W){a(w);return}Object.assign(w.styles,g.styles),w.items.push(...g.items),f()},p)}const P=u.getReader(),w={items:[],styles:Object.create(null)};f()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const t=[];for(const u of this._intentStates.values())if(this._abortOperatorList({intentState:u,reason:new Error("Page was destroyed."),force:!0}),!u.opListReadCapability)for(const a of u.renderTasks)t.push(a.completed),a.cancel();return this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(t)}cleanup(t=!1){return this.pendingCleanup=!0,this._tryCleanup(t)}_tryCleanup(t=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:u,operatorList:a}of this._intentStates.values())if(u.size>0||!a.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,t&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(t,u){const a=this._intentStates.get(u);!a||(this._stats&&this._stats.timeEnd("Page Request"),a.displayReadyCapability&&a.displayReadyCapability.resolve(t))}_renderPageChunk(t,u){for(let a=0,p=t.length;a<p;a++)u.operatorList.fnArray.push(t.fnArray[a]),u.operatorList.argsArray.push(t.argsArray[a]);u.operatorList.lastChunk=t.lastChunk;for(const a of u.renderTasks)a.operatorListChanged();t.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:t,cacheKey:u}){const p=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:u,annotationStorage:t&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),f=this._intentStates.get(u);f.streamReader=p;const P=()=>{p.read().then(({value:w,done:g})=>{if(g){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(w,f),P())},w=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const g of f.renderTasks)g.operatorListChanged();this._tryCleanup()}if(f.displayReadyCapability)f.displayReadyCapability.reject(w);else if(f.opListReadCapability)f.opListReadCapability.reject(w);else throw w}})};P()}_abortOperatorList({intentState:t,reason:u,force:a=!1}){if(!!t.streamReader){if(!a){if(t.renderTasks.size>0)return;if(u instanceof _display_utils.RenderingCancelledException){t.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:t,reason:u,force:!0}),t.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(t.streamReader.cancel(new _util.AbortException(u.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[p,f]of this._intentStates)if(f===t){this._intentStates.delete(p);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(t,u){const a={data:structuredClone(t,u)};this._deferred.then(()=>{for(const p of this._listeners)p.call(this,a)})}addEventListener(t,u){this._listeners.push(u)}removeEventListener(t,u){const a=this._listeners.indexOf(u);this._listeners.splice(a,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const C=(k=document==null?void 0:document.currentScript)==null?void 0:k.src;C&&(PDFWorkerUtil.fallbackWorkerSrc=C.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.createCDNWrapper=function(C){const t=`importScripts("${C}");`;return URL.createObjectURL(new Blob([t]))}}class _PDFWorker{static get _workerPorts(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}constructor({name:C=null,port:t=null,verbosity:u=(0,_util.getVerbosityLevel)()}={}){if(t&&_PDFWorker._workerPorts.has(t))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=C,this.destroyed=!1,this.verbosity=u,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,t){_PDFWorker._workerPorts.set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(C){this._port=C,this._messageHandler=new _message_handler.MessageHandler("main","worker",C),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker!="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let C=_PDFWorker.workerSrc;try{(0,_util.isSameOrigin)(window.location.href,C)||(C=PDFWorkerUtil.createCDNWrapper(new URL(C,window.location).href));const t=new Worker(C),u=new _message_handler.MessageHandler("main","worker",t),a=()=>{t.removeEventListener("error",p),u.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},p=()=>{this._webWorker||a()};t.addEventListener("error",p),u.on("test",P=>{if(t.removeEventListener("error",p),this.destroyed){a();return}P?(this._messageHandler=u,this._port=t,this._webWorker=t,this._readyCapability.resolve(),u.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),u.destroy(),t.terminate())}),u.on("ready",P=>{if(t.removeEventListener("error",p),this.destroyed){a();return}try{f()}catch{this._setupFakeWorker()}});const f=()=>{const P=new Uint8Array([255]);try{u.send("test",P,[P.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),P[0]=0,u.send("test",P)}};f();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(C=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new LoopbackPort;this._port=t;const u=`fake${PDFWorkerUtil.fakeWorkerId++}`,a=new _message_handler.MessageHandler(u+"_worker",u,t);C.setup(a,t);const p=new _message_handler.MessageHandler(u,u+"_worker",t);this._messageHandler=p,this._readyCapability.resolve(),p.send("configure",{verbosity:this.verbosity})}).catch(C=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${C.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_PDFWorker._workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(C){if(!(C!=null&&C.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return this._workerPorts.has(C.port)?this._workerPorts.get(C.port):new _PDFWorker(C)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var C;try{return((C=globalThis.pdfjsWorker)==null?void 0:C.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(t,u,a,p){ve(this,l,null);ve(this,N,new Map);ve(this,r,new Map);ve(this,q,null);this.messageHandler=t,this.loadingTask=u,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:u.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:p.ownerDocument,styleElement:p.styleElement}),this._params=p,p.useWorkerFetch||(this.CMapReaderFactory=new p.CMapReaderFactory({baseUrl:p.cMapUrl,isCompressed:p.cMapPacked}),this.StandardFontDataFactory=new p.StandardFontDataFactory({baseUrl:p.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return pe(this,l)}getRenderingIntent(t,u=_util.AnnotationMode.ENABLE,a=!1){let p=_util.RenderingIntentFlag.DISPLAY,f="";switch(t){case"any":p=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":p=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${t}`)}switch(u){case _util.AnnotationMode.DISABLE:p+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:p+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:p+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,f=this.annotationStorage.lastModified;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${u}`)}return a&&(p+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:p,cacheKey:`${p}_${f}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const a of pe(this,N).values())t.push(a._destroy());pe(this,N).clear(),pe(this,r).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const u=this.messageHandler.sendWithPromise("Terminate",null);return t.push(u),Promise.all(t).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),ke(this,q,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:u}=this;t.on("GetReader",(a,p)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=f=>{this._lastProgress={loaded:f.loaded,total:f.total}},p.onPull=()=>{this._fullReader.read().then(function({value:f,done:P}){if(P){p.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(f),"GetReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(f),1,[f])}).catch(f=>{p.error(f)})},p.onCancel=f=>{this._fullReader.cancel(f),p.ready.catch(P=>{if(!this.destroyed)throw P})}}),t.on("ReaderHeadersReady",a=>{const p=(0,_util.createPromiseCapability)(),f=this._fullReader;return f.headersReady.then(()=>{var P;(!f.isStreamingSupported||!f.isRangeSupported)&&(this._lastProgress&&((P=u.onProgress)==null||P.call(u,this._lastProgress)),f.onProgress=w=>{var g;(g=u.onProgress)==null||g.call(u,{loaded:w.loaded,total:w.total})}),p.resolve({isStreamingSupported:f.isStreamingSupported,isRangeSupported:f.isRangeSupported,contentLength:f.contentLength})},p.reject),p.promise}),t.on("GetRangeReader",(a,p)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const f=this._networkStream.getRangeReader(a.begin,a.end);if(!f){p.close();return}p.onPull=()=>{f.read().then(function({value:P,done:w}){if(w){p.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(P),"GetRangeReader - expected an ArrayBuffer."),p.enqueue(new Uint8Array(P),1,[P])}).catch(P=>{p.error(P)})},p.onCancel=P=>{f.cancel(P),p.ready.catch(w=>{if(!this.destroyed)throw w})}}),t.on("GetDoc",({pdfInfo:a})=>{this._numPages=a.numPages,this._htmlForXfa=a.htmlForXfa,delete a.htmlForXfa,u._capability.resolve(new PDFDocumentProxy(a,this))}),t.on("DocException",function(a){let p;switch(a.name){case"PasswordException":p=new _util.PasswordException(a.message,a.code);break;case"InvalidPDFException":p=new _util.InvalidPDFException(a.message);break;case"MissingPDFException":p=new _util.MissingPDFException(a.message);break;case"UnexpectedResponseException":p=new _util.UnexpectedResponseException(a.message,a.status);break;case"UnknownErrorException":p=new _util.UnknownErrorException(a.message,a.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}u._capability.reject(p)}),t.on("PasswordRequest",a=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),u.onPassword){const p=f=>{f instanceof Error?this._passwordCapability.reject(f):this._passwordCapability.resolve({password:f})};try{u.onPassword(p,a.code)}catch(f){this._passwordCapability.reject(f)}}else this._passwordCapability.reject(new _util.PasswordException(a.message,a.code));return this._passwordCapability.promise}),t.on("DataLoaded",a=>{var p;(p=u.onProgress)==null||p.call(u,{loaded:a.length,total:a.length}),this.downloadInfoCapability.resolve(a)}),t.on("StartRenderPage",a=>{if(this.destroyed)return;pe(this,N).get(a.pageIndex)._startRenderPage(a.transparency,a.cacheKey)}),t.on("commonobj",([a,p,f])=>{var P;if(!this.destroyed&&!this.commonObjs.has(a))switch(p){case"Font":const w=this._params;if("error"in f){const j=f.error;(0,_util.warn)(`Error during font loading: ${j}`),this.commonObjs.resolve(a,j);break}let g=null;w.pdfBug&&((P=globalThis.FontInspector)==null?void 0:P.enabled)&&(g={registerFont(j,R){globalThis.FontInspector.fontAdded(j,R)}});const W=new _font_loader.FontFaceObject(f,{isEvalSupported:w.isEvalSupported,disableFontFace:w.disableFontFace,ignoreErrors:w.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:g});this.fontLoader.bind(W).catch(j=>t.sendWithPromise("FontFallback",{id:a})).finally(()=>{!w.fontExtraProperties&&W.data&&(W.data=null),this.commonObjs.resolve(a,W)});break;case"FontPath":case"Image":this.commonObjs.resolve(a,f);break;default:throw new Error(`Got unknown common object type ${p}`)}}),t.on("obj",([a,p,f,P])=>{var g;if(this.destroyed)return;const w=pe(this,N).get(p);if(!w.objs.has(a))switch(f){case"Image":w.objs.resolve(a,P);const W=8e6;((g=P==null?void 0:P.data)==null?void 0:g.length)>W&&(w.cleanupAfterRender=!0);break;case"Pattern":w.objs.resolve(a,P);break;default:throw new Error(`Got unknown object type ${f}`)}}),t.on("DocProgress",a=>{var p;this.destroyed||(p=u.onProgress)==null||p.call(u,{loaded:a.loaded,total:a.total})}),t.on("DocStats",a=>{this.destroyed||ke(this,l,Object.freeze({streamTypes:Object.freeze(a.streamTypes),fontTypes:Object.freeze(a.fontTypes)}))}),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(a):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",a=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(a):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:t}){var u,a;this.destroyed||(a=(u=this.loadingTask).onUnsupportedFeature)==null||a.call(u,t)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const u=t-1,a=pe(this,r).get(u);if(a)return a;const p=this.messageHandler.sendWithPromise("GetPage",{pageIndex:u}).then(f=>{if(this.destroyed)throw new Error("Transport destroyed");const P=new PDFPageProxy(u,f,this,this._params.ownerDocument,this._params.pdfBug);return pe(this,N).set(u,P),P});return pe(this,r).set(u,p),p}getPageIndex(t){return typeof t!="object"||t===null||!Number.isInteger(t.num)||t.num<0||!Number.isInteger(t.gen)||t.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen})}getAnnotations(t,u){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:u})}saveDocument(){var t,u;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(u=(t=this._fullReader)==null?void 0:t.filename)!=null?u:null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(t=>new _optional_content_config.OptionalContentConfig(t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return pe(this,q)||ke(this,q,this.messageHandler.sendWithPromise("GetMetadata",null).then(t=>{var u,a,p,f;return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:(a=(u=this._fullReader)==null?void 0:u.filename)!=null?a:null,contentLength:(f=(p=this._fullReader)==null?void 0:p.contentLength)!=null?f:null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const u of pe(this,N).values())if(!u.cleanup())throw new Error(`startCleanup: Page ${u.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),ke(this,q,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}l=new WeakMap,N=new WeakMap,r=new WeakMap,q=new WeakMap;class PDFObjects{constructor(){ve(this,$);ve(this,I,Object.create(null))}get(t,u=null){if(u){const p=Me(this,$,qe).call(this,t);return p.capability.promise.then(()=>u(p.data)),null}const a=pe(this,I)[t];if(!(a!=null&&a.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${t}.`);return a.data}has(t){const u=pe(this,I)[t];return(u==null?void 0:u.capability.settled)||!1}resolve(t,u=null){const a=Me(this,$,qe).call(this,t);a.data=u,a.capability.resolve()}clear(){ke(this,I,Object.create(null))}}I=new WeakMap,$=new WeakSet,qe=function(t){const u=pe(this,I)[t];return u||(pe(this,I)[t]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(t){this._internalRenderTask=t,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{static get canvasInUse(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}constructor({callback:t,params:u,objs:a,commonObjs:p,annotationCanvasMap:f,operatorList:P,pageIndex:w,canvasFactory:g,useRequestAnimationFrame:W=!1,pdfBug:j=!1}){this.callback=t,this.params=u,this.objs=a,this.commonObjs=p,this.annotationCanvasMap=f,this.operatorListIdx=null,this.operatorList=P,this._pageIndex=w,this.canvasFactory=g,this._pdfBug=j,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=W===!0&&typeof window!="undefined",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=u.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:u}){var g;if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.canvasInUse.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.canvasInUse.add(this._canvas)}this._pdfBug&&((g=globalThis.StepperManager)==null?void 0:g.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:a,viewport:p,transform:f,imageLayer:P,background:w}=this.params;this.gfx=new _canvas.CanvasGraphics(a,this.commonObjs,this.objs,this.canvasFactory,P,u,this.annotationCanvasMap),this.gfx.beginDrawing({transform:f,viewport:p,transparency:t,background:w}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(t=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.canvasInUse.delete(this._canvas),this.callback())))}}const version="2.13.216";exports.version=version;const build="399a0ec60";exports.build=build},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.StatTimer=l.RenderingCancelledException=l.PixelsPerInch=l.PageViewport=l.PDFDateString=l.DOMStandardFontDataFactory=l.DOMSVGFactory=l.DOMCanvasFactory=l.DOMCMapReaderFactory=void 0,l.deprecated=s,l.getFilenameFromUrl=g,l.getPdfFilenameFromUrl=W,l.getXfaPageViewport=x,l.isDataScheme=P,l.isPdfFile=w,l.isValidFetchUrl=R,l.loadScript=v;var r=N(6),q=N(1);const I="http://www.w3.org/2000/svg",E=class{};let $=E;Ie($,"CSS",96),Ie($,"PDF",72),Ie($,"PDF_TO_CSS_UNITS",E.CSS/E.PDF),l.PixelsPerInch=$;class B extends r.BaseCanvasFactory{constructor({ownerDocument:T=globalThis.document}={}){super();this._document=T}_createCanvas(T,L){const X=this._document.createElement("canvas");return X.width=T,X.height=L,X}}l.DOMCanvasFactory=B;async function C(M,T=!1){if(R(M,document.baseURI)){const L=await fetch(M);if(!L.ok)throw new Error(L.statusText);return T?new Uint8Array(await L.arrayBuffer()):(0,q.stringToBytes)(await L.text())}return new Promise((L,X)=>{const H=new XMLHttpRequest;H.open("GET",M,!0),T&&(H.responseType="arraybuffer"),H.onreadystatechange=()=>{if(H.readyState===XMLHttpRequest.DONE){if(H.status===200||H.status===0){let Y;if(T&&H.response?Y=new Uint8Array(H.response):!T&&H.responseText&&(Y=(0,q.stringToBytes)(H.responseText)),Y){L(Y);return}}X(new Error(H.statusText))}},H.send(null)})}class t extends r.BaseCMapReaderFactory{_fetchData(T,L){return C(T,this.isCompressed).then(X=>({cMapData:X,compressionType:L}))}}l.DOMCMapReaderFactory=t;class u extends r.BaseStandardFontDataFactory{_fetchData(T){return C(T,!0)}}l.DOMStandardFontDataFactory=u;class a extends r.BaseSVGFactory{_createSVG(T){return document.createElementNS(I,T)}}l.DOMSVGFactory=a;class p{constructor({viewBox:T,scale:L,rotation:X,offsetX:H=0,offsetY:Y=0,dontFlip:ee=!1}){this.viewBox=T,this.scale=L,this.rotation=X,this.offsetX=H,this.offsetY=Y;const Q=(T[2]+T[0])/2,_=(T[3]+T[1])/2;let i,n,d,b;switch(X%=360,X<0&&(X+=360),X){case 180:i=-1,n=0,d=0,b=1;break;case 90:i=0,n=1,d=1,b=0;break;case 270:i=0,n=-1,d=-1,b=0;break;case 0:i=1,n=0,d=0,b=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ee&&(d=-d,b=-b);let F,S,e,h;i===0?(F=Math.abs(_-T[1])*L+H,S=Math.abs(Q-T[0])*L+Y,e=Math.abs(T[3]-T[1])*L,h=Math.abs(T[2]-T[0])*L):(F=Math.abs(Q-T[0])*L+H,S=Math.abs(_-T[1])*L+Y,e=Math.abs(T[2]-T[0])*L,h=Math.abs(T[3]-T[1])*L),this.transform=[i*L,n*L,d*L,b*L,F-i*L*Q-d*L*_,S-n*L*Q-b*L*_],this.width=e,this.height=h}clone({scale:T=this.scale,rotation:L=this.rotation,offsetX:X=this.offsetX,offsetY:H=this.offsetY,dontFlip:Y=!1}={}){return new p({viewBox:this.viewBox.slice(),scale:T,rotation:L,offsetX:X,offsetY:H,dontFlip:Y})}convertToViewportPoint(T,L){return q.Util.applyTransform([T,L],this.transform)}convertToViewportRectangle(T){const L=q.Util.applyTransform([T[0],T[1]],this.transform),X=q.Util.applyTransform([T[2],T[3]],this.transform);return[L[0],L[1],X[0],X[1]]}convertToPdfPoint(T,L){return q.Util.applyInverseTransform([T,L],this.transform)}}l.PageViewport=p;class f extends q.BaseException{constructor(T,L){super(T,"RenderingCancelledException");this.type=L}}l.RenderingCancelledException=f;function P(M){const T=M.length;let L=0;for(;L<T&&M[L].trim()==="";)L++;return M.substring(L,L+5).toLowerCase()==="data:"}function w(M){return typeof M=="string"&&/\.pdf$/i.test(M)}function g(M){const T=M.indexOf("#"),L=M.indexOf("?"),X=Math.min(T>0?T:M.length,L>0?L:M.length);return M.substring(M.lastIndexOf("/",X)+1,X)}function W(M,T="document.pdf"){if(typeof M!="string")return T;if(P(M))return(0,q.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),T;const L=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,X=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,H=L.exec(M);let Y=X.exec(H[1])||X.exec(H[2])||X.exec(H[3]);if(Y&&(Y=Y[0],Y.includes("%")))try{Y=X.exec(decodeURIComponent(Y))[0]}catch{}return Y||T}class j{constructor(){this.started=Object.create(null),this.times=[]}time(T){T in this.started&&(0,q.warn)(`Timer is already running for ${T}`),this.started[T]=Date.now()}timeEnd(T){T in this.started||(0,q.warn)(`Timer has not been started for ${T}`),this.times.push({name:T,start:this.started[T],end:Date.now()}),delete this.started[T]}toString(){const T=[];let L=0;for(const X of this.times){const H=X.name;H.length>L&&(L=H.length)}for(const X of this.times){const H=X.end-X.start;T.push(`${X.name.padEnd(L)} ${H}ms
`)}return T.join("")}}l.StatTimer=j;function R(M,T){try{const{protocol:L}=T?new URL(M,T):new URL(M);return L==="http:"||L==="https:"}catch{return!1}}function v(M,T=!1){return new Promise((L,X)=>{const H=document.createElement("script");H.src=M,H.onload=function(Y){T&&H.remove(),L(Y)},H.onerror=function(){X(new Error(`Cannot load script at: ${H.src}`))},(document.head||document.documentElement).appendChild(H)})}function s(M){console.log("Deprecated API usage: "+M)}let o;class y{static toDateObject(T){if(!T||typeof T!="string")return null;o||(o=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const L=o.exec(T);if(!L)return null;const X=parseInt(L[1],10);let H=parseInt(L[2],10);H=H>=1&&H<=12?H-1:0;let Y=parseInt(L[3],10);Y=Y>=1&&Y<=31?Y:1;let ee=parseInt(L[4],10);ee=ee>=0&&ee<=23?ee:0;let Q=parseInt(L[5],10);Q=Q>=0&&Q<=59?Q:0;let _=parseInt(L[6],10);_=_>=0&&_<=59?_:0;const i=L[7]||"Z";let n=parseInt(L[8],10);n=n>=0&&n<=23?n:0;let d=parseInt(L[9],10)||0;return d=d>=0&&d<=59?d:0,i==="-"?(ee+=n,Q+=d):i==="+"&&(ee-=n,Q-=d),new Date(Date.UTC(X,H,Y,ee,Q,_))}}l.PDFDateString=y;function x(M,{scale:T=1,rotation:L=0}){const{width:X,height:H}=M.attributes.style,Y=[0,0,parseInt(X),parseInt(H)];return new p({viewBox:Y,scale:T,rotation:L})}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BaseStandardFontDataFactory=l.BaseSVGFactory=l.BaseCanvasFactory=l.BaseCMapReaderFactory=void 0;var r=N(1);class q{constructor(){this.constructor===q&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(t,u){if(t<=0||u<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(t,u);return{canvas:a,context:a.getContext("2d")}}reset(t,u,a){if(!t.canvas)throw new Error("Canvas is not specified");if(u<=0||a<=0)throw new Error("Invalid canvas size");t.canvas.width=u,t.canvas.height=a}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,u){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}l.BaseCanvasFactory=q;class I{constructor({baseUrl:t=null,isCompressed:u=!1}){this.constructor===I&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=u}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const u=this.baseUrl+t+(this.isCompressed?".bcmap":""),a=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(u,a).catch(p=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${u}`)})}_fetchData(t,u){(0,r.unreachable)("Abstract method `_fetchData` called.")}}l.BaseCMapReaderFactory=I;class ${constructor({baseUrl:t=null}){this.constructor===$&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const u=`${this.baseUrl}${t}`;return this._fetchData(u).catch(a=>{throw new Error(`Unable to load font data at: ${u}`)})}_fetchData(t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}l.BaseStandardFontDataFactory=$;class B{constructor(){this.constructor===B&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(t,u){if(t<=0||u<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),a.setAttribute("width",`${t}px`),a.setAttribute("height",`${u}px`),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${t} ${u}`),a}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){(0,r.unreachable)("Abstract method `_createSVG` called.")}}l.BaseSVGFactory=B},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FontLoader=l.FontFaceObject=void 0;var r=N(1);class q{constructor({docId:C,onUnsupportedFeature:t,ownerDocument:u=globalThis.document,styleElement:a=null}){this.constructor===q&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=C,this._onUnsupportedFeature=t,this._document=u,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(C){this.nativeFontFaces.push(C),this._document.fonts.add(C)}insertRule(C){let t=this.styleElement;t||(t=this.styleElement=this._document.createElement("style"),t.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));const u=t.sheet;u.insertRule(C,u.cssRules.length)}clear(){for(const C of this.nativeFontFaces)this._document.fonts.delete(C);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(C){if(C.attached||C.missingFile)return;if(C.attached=!0,this.isFontLoadingAPISupported){const u=C.createNativeFontFace();if(u){this.addNativeFontFace(u);try{await u.loaded}catch(a){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${u.family}': '${a}'.`),C.disableFontFace=!0,a}}return}const t=C.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(u=>{const a=this._queueLoadingCallback(u);this._prepareFontLoadEvent([t],[C],a)})}}_queueLoadingCallback(C){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var t;const C=!!((t=this._document)!=null&&t.fonts);return(0,r.shadow)(this,"isFontLoadingAPISupported",C)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(C,t,u){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let I;l.FontLoader=I,l.FontLoader=I=class extends q{constructor(C){super(C);this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let C=!1;if(typeof navigator=="undefined")C=!0;else{const t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(t==null?void 0:t[1])>=14&&(C=!0)}return(0,r.shadow)(this,"isSyncFontLoadingSupported",C)}_queueLoadingCallback(C){function t(){for((0,r.assert)(!a.done,"completeRequest() cannot be called twice."),a.done=!0;u.requests.length>0&&u.requests[0].done;){const p=u.requests.shift();setTimeout(p.callback,0)}}const u=this.loadingContext,a={id:`pdfjs-font-loading-${u.nextRequestId++}`,done:!1,complete:t,callback:C};return u.requests.push(a),a}get _loadTestFont(){const C=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,r.shadow)(this,"_loadTestFont",C())}_prepareFontLoadEvent(C,t,u){function a(X,H){return X.charCodeAt(H)<<24|X.charCodeAt(H+1)<<16|X.charCodeAt(H+2)<<8|X.charCodeAt(H+3)&255}function p(X,H,Y,ee){const Q=X.substring(0,H),_=X.substring(H+Y);return Q+ee+_}let f,P;const w=this._document.createElement("canvas");w.width=1,w.height=1;const g=w.getContext("2d");let W=0;function j(X,H){if(W++,W>30){(0,r.warn)("Load test font never loaded."),H();return}if(g.font="30px "+X,g.fillText(".",0,20),g.getImageData(0,0,1,1).data[3]>0){H();return}setTimeout(j.bind(null,X,H))}const R=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=p(v,976,R.length,R);const o=16,y=1482184792;let x=a(v,o);for(f=0,P=R.length-3;f<P;f+=4)x=x-y+a(R,f)|0;f<R.length&&(x=x-y+a(R+"XXX",f)|0),v=p(v,o,4,(0,r.string32)(x));const E=`url(data:font/opentype;base64,${btoa(v)});`,M=`@font-face {font-family:"${R}";src:${E}}`;this.insertRule(M);const T=[];for(const X of t)T.push(X.loadedName);T.push(R);const L=this._document.createElement("div");L.style.visibility="hidden",L.style.width=L.style.height="10px",L.style.position="absolute",L.style.top=L.style.left="0px";for(const X of T){const H=this._document.createElement("span");H.textContent="Hi",H.style.fontFamily=X,L.appendChild(H)}this._document.body.appendChild(L),j(R,()=>{L.remove(),u.complete()})}};class ${constructor(C,{isEvalSupported:t=!0,disableFontFace:u=!1,ignoreErrors:a=!1,onUnsupportedFeature:p,fontRegistry:f=null}){this.compiledGlyphs=Object.create(null);for(const P in C)this[P]=C[P];this.isEvalSupported=t!==!1,this.disableFontFace=u===!0,this.ignoreErrors=a===!0,this._onUnsupportedFeature=p,this.fontRegistry=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let C;if(!this.cssFontInfo)C=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),C=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this.fontRegistry&&this.fontRegistry.registerFont(this),C}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const C=(0,r.bytesToString)(this.data),t=`url(data:${this.mimetype};base64,${btoa(C)});`;let u;if(!this.cssFontInfo)u=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),u=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${t}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,t),u}getPathGenerator(C,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let u;try{u=C.get(this.loadedName+"_path_"+t)}catch(a){if(!this.ignoreErrors)throw a;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${a}".`),this.compiledGlyphs[t]=function(p,f){}}if(this.isEvalSupported&&r.IsEvalSupportedCached.value){const a=[];for(const p of u){const f=p.args!==void 0?p.args.join(","):"";a.push("c.",p.cmd,"(",f,`);
`)}return this.compiledGlyphs[t]=new Function("c","size",a.join(""))}return this.compiledGlyphs[t]=function(a,p){for(const f of u)f.cmd==="scale"&&(f.args=[p,-p]),a[f.cmd].apply(a,f.args)}}}l.FontFaceObject=$},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.NodeStandardFontDataFactory=l.NodeCanvasFactory=l.NodeCMapReaderFactory=void 0;var r=N(6),q=N(3),I=N(1);let $=class{constructor(){(0,I.unreachable)("Not implemented: NodeCanvasFactory")}};l.NodeCanvasFactory=$;let B=class{constructor(){(0,I.unreachable)("Not implemented: NodeCMapReaderFactory")}};l.NodeCMapReaderFactory=B;let C=class{constructor(){(0,I.unreachable)("Not implemented: NodeStandardFontDataFactory")}};if(l.NodeStandardFontDataFactory=C,q.isNodeJS){const t=function(u){return new Promise((a,p)=>{require$$4.readFile(u,(P,w)=>{if(P||!w){p(new Error(P));return}a(new Uint8Array(w))})})};l.NodeCanvasFactory=$=class extends r.BaseCanvasFactory{_createCanvas(u,a){return require$$4.createCanvas(u,a)}},l.NodeCMapReaderFactory=B=class extends r.BaseCMapReaderFactory{_fetchData(u,a){return t(u).then(p=>({cMapData:p,compressionType:a}))}},l.NodeStandardFontDataFactory=C=class extends r.BaseStandardFontDataFactory{_fetchData(u){return t(u)}}}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationStorage=void 0;var r=N(1);class q{constructor(){this._storage=new Map,this._timeStamp=Date.now(),this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue($,B){const C=this._storage.get($);return C===void 0?B:Object.assign(B,C)}setValue($,B){const C=this._storage.get($);let t=!1;if(C!==void 0)for(const[u,a]of Object.entries(B))C[u]!==a&&(t=!0,C[u]=a);else t=!0,this._storage.set($,B);t&&(this._timeStamp=Date.now(),this._setModified())}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get lastModified(){return this._timeStamp.toString()}}l.AnnotationStorage=q},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CanvasGraphics=void 0;var r=N(1),q=N(11),I=N(5);const $=16,B=100,C=4096,t=15,u=10,a=1e3,p=16,f=1.000001;function P(_,i){if(_._removeMirroring)throw new Error("Context is already forwarding operations.");_.__originalSave=_.save,_.__originalRestore=_.restore,_.__originalRotate=_.rotate,_.__originalScale=_.scale,_.__originalTranslate=_.translate,_.__originalTransform=_.transform,_.__originalSetTransform=_.setTransform,_.__originalResetTransform=_.resetTransform,_.__originalClip=_.clip,_.__originalMoveTo=_.moveTo,_.__originalLineTo=_.lineTo,_.__originalBezierCurveTo=_.bezierCurveTo,_.__originalRect=_.rect,_.__originalClosePath=_.closePath,_.__originalBeginPath=_.beginPath,_._removeMirroring=()=>{_.save=_.__originalSave,_.restore=_.__originalRestore,_.rotate=_.__originalRotate,_.scale=_.__originalScale,_.translate=_.__originalTranslate,_.transform=_.__originalTransform,_.setTransform=_.__originalSetTransform,_.resetTransform=_.__originalResetTransform,_.clip=_.__originalClip,_.moveTo=_.__originalMoveTo,_.lineTo=_.__originalLineTo,_.bezierCurveTo=_.__originalBezierCurveTo,_.rect=_.__originalRect,_.closePath=_.__originalClosePath,_.beginPath=_.__originalBeginPath,delete _._removeMirroring},_.save=function(){i.save(),this.__originalSave()},_.restore=function(){i.restore(),this.__originalRestore()},_.translate=function(d,b){i.translate(d,b),this.__originalTranslate(d,b)},_.scale=function(d,b){i.scale(d,b),this.__originalScale(d,b)},_.transform=function(d,b,F,S,e,h){i.transform(d,b,F,S,e,h),this.__originalTransform(d,b,F,S,e,h)},_.setTransform=function(d,b,F,S,e,h){i.setTransform(d,b,F,S,e,h),this.__originalSetTransform(d,b,F,S,e,h)},_.resetTransform=function(){i.resetTransform(),this.__originalResetTransform()},_.rotate=function(d){i.rotate(d),this.__originalRotate(d)},_.clip=function(d){i.clip(d),this.__originalClip(d)},_.moveTo=function(n,d){i.moveTo(n,d),this.__originalMoveTo(n,d)},_.lineTo=function(n,d){i.lineTo(n,d),this.__originalLineTo(n,d)},_.bezierCurveTo=function(n,d,b,F,S,e){i.bezierCurveTo(n,d,b,F,S,e),this.__originalBezierCurveTo(n,d,b,F,S,e)},_.rect=function(n,d,b,F){i.rect(n,d,b,F),this.__originalRect(n,d,b,F)},_.closePath=function(){i.closePath(),this.__originalClosePath()},_.beginPath=function(){i.beginPath(),this.__originalBeginPath()}}function w(_){if(_._transformStack&&(_._transformStack=[]),!_.mozCurrentTransform){_._originalSave=_.save,_._originalRestore=_.restore,_._originalRotate=_.rotate,_._originalScale=_.scale,_._originalTranslate=_.translate,_._originalTransform=_.transform,_._originalSetTransform=_.setTransform,_._originalResetTransform=_.resetTransform,_._transformMatrix=_._transformMatrix||[1,0,0,1,0,0],_._transformStack=[];try{const i=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(_),"lineWidth");_._setLineWidth=i.set,_._getLineWidth=i.get,Object.defineProperty(_,"lineWidth",{set:function(d){this._setLineWidth(d*f)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(_,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(_,"mozCurrentTransformInverse",{get:function(){const[n,d,b,F,S,e]=this._transformMatrix,h=n*F-d*b,m=d*b-n*F;return[F/h,d/m,b/m,n/h,(F*S-b*e)/m,(d*S-n*e)/h]}}),_.save=function(){const n=this._transformMatrix;this._transformStack.push(n),this._transformMatrix=n.slice(0,6),this._originalSave()},_.restore=function(){this._transformStack.length===0&&(0,r.warn)("Tried to restore a ctx when the stack was already empty.");const n=this._transformStack.pop();n&&(this._transformMatrix=n,this._originalRestore())},_.translate=function(n,d){const b=this._transformMatrix;b[4]=b[0]*n+b[2]*d+b[4],b[5]=b[1]*n+b[3]*d+b[5],this._originalTranslate(n,d)},_.scale=function(n,d){const b=this._transformMatrix;b[0]*=n,b[1]*=n,b[2]*=d,b[3]*=d,this._originalScale(n,d)},_.transform=function(n,d,b,F,S,e){const h=this._transformMatrix;this._transformMatrix=[h[0]*n+h[2]*d,h[1]*n+h[3]*d,h[0]*b+h[2]*F,h[1]*b+h[3]*F,h[0]*S+h[2]*e+h[4],h[1]*S+h[3]*e+h[5]],_._originalTransform(n,d,b,F,S,e)},_.setTransform=function(n,d,b,F,S,e){this._transformMatrix=[n,d,b,F,S,e],_._originalSetTransform(n,d,b,F,S,e)},_.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],_._originalResetTransform()},_.rotate=function(n){const d=Math.cos(n),b=Math.sin(n),F=this._transformMatrix;this._transformMatrix=[F[0]*d+F[2]*b,F[1]*d+F[3]*b,F[0]*-b+F[2]*d,F[1]*-b+F[3]*d,F[4],F[5]],this._originalRotate(n)}}}class g{constructor(i){this.canvasFactory=i,this.cache=Object.create(null)}getCanvas(i,n,d,b){let F;return this.cache[i]!==void 0?(F=this.cache[i],this.canvasFactory.reset(F,n,d),F.context.setTransform(1,0,0,1,0,0)):(F=this.canvasFactory.create(n,d),this.cache[i]=F),b&&w(F.context),F}clear(){for(const i in this.cache){const n=this.cache[i];this.canvasFactory.destroy(n),delete this.cache[i]}}}function W(_){const n=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),d=_.width,b=_.height,F=d+1;let S,e,h,m;const A=new Uint8Array(F*(b+1)),c=d+7&-8,D=_.data,O=new Uint8Array(c*b);let V=0;for(S=0,e=D.length;S<e;S++){const te=D[S];let se=128;for(;se>0;)O[V++]=te&se?0:255,se>>=1}let z=0;for(V=0,O[V]!==0&&(A[0]=1,++z),h=1;h<d;h++)O[V]!==O[V+1]&&(A[h]=O[V]?2:1,++z),V++;for(O[V]!==0&&(A[h]=2,++z),S=1;S<b;S++){V=S*c,m=S*F,O[V-c]!==O[V]&&(A[m]=O[V]?1:8,++z);let te=(O[V]?4:0)+(O[V-c]?8:0);for(h=1;h<d;h++)te=(te>>2)+(O[V+1]?4:0)+(O[V-c+1]?8:0),n[te]&&(A[m+h]=n[te],++z),V++;if(O[V-c]!==O[V]&&(A[m+h]=O[V]?2:4,++z),z>1e3)return null}for(V=c*(b-1),m=S*F,O[V]!==0&&(A[m]=8,++z),h=1;h<d;h++)O[V]!==O[V+1]&&(A[m+h]=O[V]?4:8,++z),V++;if(O[V]!==0&&(A[m+h]=4,++z),z>1e3)return null;const K=new Int32Array([0,F,-1,0,-F,0,0,0,1]),Z=[];for(S=0;z&&S<=b;S++){let te=S*F;const se=te+d;for(;te<se&&!A[te];)te++;if(te===se)continue;const ue=[te%F,S],re=te;let oe=A[te];do{const le=K[oe];do te+=le;while(!A[te]);const he=A[te];he!==5&&he!==10?(oe=he,A[te]=0):(oe=he&51*oe>>4,A[te]&=oe>>2|oe<<2),ue.push(te%F,te/F|0),A[te]||--z}while(re!==te);Z.push(ue),--S}return function(te){te.save(),te.scale(1/d,-1/b),te.translate(0,-b),te.beginPath();for(let se=0,ue=Z.length;se<ue;se++){const re=Z[se];te.moveTo(re[0],re[1]);for(let oe=2,le=re.length;oe<le;oe+=2)te.lineTo(re[oe],re[oe+1])}te.fill(),te.beginPath(),te.restore()}}class j{constructor(i,n){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,i,n])}clone(){const i=Object.create(this);return i.clipBox=this.clipBox.slice(),i}setCurrentPoint(i,n){this.x=i,this.y=n}updatePathMinMax(i,n,d){[n,d]=r.Util.applyTransform([n,d],i),this.minX=Math.min(this.minX,n),this.minY=Math.min(this.minY,d),this.maxX=Math.max(this.maxX,n),this.maxY=Math.max(this.maxY,d)}updateCurvePathMinMax(i,n,d,b,F,S,e,h,m){const A=r.Util.bezierBoundingBox(n,d,b,F,S,e,h,m);this.updatePathMinMax(i,A[0],A[1]),this.updatePathMinMax(i,A[2],A[3])}getPathBoundingBox(i=q.PathType.FILL,n=null){const d=[this.minX,this.minY,this.maxX,this.maxY];if(i===q.PathType.STROKE){n||(0,r.unreachable)("Stroke bounding box must include transform.");const b=r.Util.singularValueDecompose2dScale(n),F=b[0]*this.lineWidth/2,S=b[1]*this.lineWidth/2;d[0]-=F,d[1]-=S,d[2]+=F,d[3]+=S}return d}updateClipFromPath(){const i=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(i||[0,0,0,0])}startNewPathAndClipBox(i){this.clipBox=i,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(i=q.PathType.FILL,n=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(i,n))}}function R(_,i,n=null){if(typeof ImageData!="undefined"&&i instanceof ImageData){_.putImageData(i,0,0);return}const d=i.height,b=i.width,F=d%p,S=(d-F)/p,e=F===0?S:S+1,h=_.createImageData(b,p);let m=0,A;const c=i.data,D=h.data;let O,V,z,K,Z,ne,te,se;if(n)switch(n.length){case 1:Z=n[0],ne=n[0],te=n[0],se=n[0];break;case 4:Z=n[0],ne=n[1],te=n[2],se=n[3];break}if(i.kind===r.ImageKind.GRAYSCALE_1BPP){const ue=c.byteLength,re=new Uint32Array(D.buffer,0,D.byteLength>>2),oe=re.length,le=b+7>>3;let he=4294967295,me=r.IsLittleEndianCached.value?4278190080:255;for(se&&se[0]===255&&se[255]===0&&([he,me]=[me,he]),O=0;O<e;O++){for(z=O<S?p:F,A=0,V=0;V<z;V++){const Fe=ue-m;let _e=0;const ye=Fe>le?b:Fe*8-7,Ae=ye&-8;let Ee=0,fe=0;for(;_e<Ae;_e+=8)fe=c[m++],re[A++]=fe&128?he:me,re[A++]=fe&64?he:me,re[A++]=fe&32?he:me,re[A++]=fe&16?he:me,re[A++]=fe&8?he:me,re[A++]=fe&4?he:me,re[A++]=fe&2?he:me,re[A++]=fe&1?he:me;for(;_e<ye;_e++)Ee===0&&(fe=c[m++],Ee=128),re[A++]=fe&Ee?he:me,Ee>>=1}for(;A<oe;)re[A++]=0;_.putImageData(h,0,O*p)}}else if(i.kind===r.ImageKind.RGBA_32BPP){const ue=!!(Z||ne||te);for(V=0,K=b*p*4,O=0;O<S;O++){if(D.set(c.subarray(m,m+K)),m+=K,ue)for(let re=0;re<K;re+=4)Z&&(D[re+0]=Z[D[re+0]]),ne&&(D[re+1]=ne[D[re+1]]),te&&(D[re+2]=te[D[re+2]]);_.putImageData(h,0,V),V+=p}if(O<e){if(K=b*F*4,D.set(c.subarray(m,m+K)),ue)for(let re=0;re<K;re+=4)Z&&(D[re+0]=Z[D[re+0]]),ne&&(D[re+1]=ne[D[re+1]]),te&&(D[re+2]=te[D[re+2]]);_.putImageData(h,0,V)}}else if(i.kind===r.ImageKind.RGB_24BPP){const ue=!!(Z||ne||te);for(z=p,K=b*z,O=0;O<e;O++){for(O>=S&&(z=F,K=b*z),A=0,V=K;V--;)D[A++]=c[m++],D[A++]=c[m++],D[A++]=c[m++],D[A++]=255;if(ue)for(let re=0;re<A;re+=4)Z&&(D[re+0]=Z[D[re+0]]),ne&&(D[re+1]=ne[D[re+1]]),te&&(D[re+2]=te[D[re+2]]);_.putImageData(h,0,O*p)}}else throw new Error(`bad image kind: ${i.kind}`)}function v(_,i){const n=i.height,d=i.width,b=n%p,F=(n-b)/p,S=b===0?F:F+1,e=_.createImageData(d,p);let h=0;const m=i.data,A=e.data;for(let c=0;c<S;c++){const D=c<F?p:b;let O=3;for(let V=0;V<D;V++){let z,K=0;for(let Z=0;Z<d;Z++)K||(z=m[h++],K=128),A[O]=z&K?0:255,O+=4,K>>=1}_.putImageData(e,0,c*p)}}function s(_,i){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let d=0,b=n.length;d<b;d++){const F=n[d];_[F]!==void 0&&(i[F]=_[F])}_.setLineDash!==void 0&&(i.setLineDash(_.getLineDash()),i.lineDashOffset=_.lineDashOffset)}function o(_){_.strokeStyle="#000000",_.fillStyle="#000000",_.fillRule="nonzero",_.globalAlpha=1,_.lineWidth=1,_.lineCap="butt",_.lineJoin="miter",_.miterLimit=10,_.globalCompositeOperation="source-over",_.font="10px sans-serif",_.setLineDash!==void 0&&(_.setLineDash([]),_.lineDashOffset=0)}function y(_,i,n,d){const b=_.length;for(let F=3;F<b;F+=4){const S=_[F];if(S===0)_[F-3]=i,_[F-2]=n,_[F-1]=d;else if(S<255){const e=255-S;_[F-3]=_[F-3]*S+i*e>>8,_[F-2]=_[F-2]*S+n*e>>8,_[F-1]=_[F-1]*S+d*e>>8}}}function x(_,i,n){const d=_.length,b=1/255;for(let F=3;F<d;F+=4){const S=n?n[_[F]]:_[F];i[F]=i[F]*S*b|0}}function E(_,i,n){const d=_.length;for(let b=3;b<d;b+=4){const F=_[b-3]*77+_[b-2]*152+_[b-1]*28;i[b]=n?i[b]*n[F>>8]>>8:i[b]*F>>16}}function M(_,i,n,d,b,F,S,e,h,m,A){const c=!!F,D=c?F[0]:0,O=c?F[1]:0,V=c?F[2]:0;let z;b==="Luminosity"?z=E:z=x;const Z=Math.min(d,Math.ceil(1048576/n));for(let ne=0;ne<d;ne+=Z){const te=Math.min(Z,d-ne),se=_.getImageData(e-m,ne+(h-A),n,te),ue=i.getImageData(e,ne+h,n,te);c&&y(se.data,D,O,V),z(se.data,ue.data,S),i.putImageData(ue,e,ne+h)}}function T(_,i,n,d){const b=d[0],F=d[1],S=d[2]-b,e=d[3]-F;S===0||e===0||(M(i.context,n,S,e,i.subtype,i.backdrop,i.transferMap,b,F,i.offsetX,i.offsetY),_.save(),_.globalAlpha=1,_.globalCompositeOperation="source-over",_.setTransform(1,0,0,1,0,0),_.drawImage(n.canvas,0,0),_.restore())}function L(_,i){const n=r.Util.singularValueDecompose2dScale(_);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const d=Math.fround((globalThis.devicePixelRatio||1)*I.PixelsPerInch.PDF_TO_CSS_UNITS);return i!==void 0?i:n[0]<=d||n[1]<=d}const X=["butt","round","square"],H=["miter","round","bevel"],Y={},ee={};class Q{constructor(i,n,d,b,F,S,e){this.ctx=i,this.current=new j(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=d,this.canvasFactory=b,this.imageLayer=F,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=S,this.cachedCanvases=new g(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=e,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,i&&w(i),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:i,viewport:n,transparency:d=!1,background:b=null}){const F=this.ctx.canvas.width,S=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=b||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,F,S),this.ctx.restore(),d){const e=this.cachedCanvases.getCanvas("transparent",F,S,!0);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),o(this.ctx),i&&(this.ctx.transform.apply(this.ctx,i),this.outputScaleX=i[0],this.outputScaleY=i[0]),this.ctx.transform.apply(this.ctx,n.transform),this.viewportScale=n.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(i,n,d,b){const F=i.argsArray,S=i.fnArray;let e=n||0;const h=F.length;if(h===e)return e;const m=h-e>u&&typeof d=="function",A=m?Date.now()+t:0;let c=0;const D=this.commonObjs,O=this.objs;let V;for(;;){if(b!==void 0&&e===b.nextBreakPoint)return b.breakIt(e,d),e;if(V=S[e],V!==r.OPS.dependency)this[V].apply(this,F[e]);else for(const z of F[e]){const K=z.startsWith("g_")?D:O;if(!K.has(z))return K.get(z,d),e}if(e++,e===h)return e;if(m&&++c>u){if(Date.now()>A)return d(),e;c=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(i,n){const d=i.width,b=i.height;let F=Math.max(Math.hypot(n[0],n[1]),1),S=Math.max(Math.hypot(n[2],n[3]),1),e=d,h=b,m="prescale1",A,c;for(;F>2&&e>1||S>2&&h>1;){let D=e,O=h;F>2&&e>1&&(D=Math.ceil(e/2),F/=e/D),S>2&&h>1&&(O=Math.ceil(h/2),S/=h/O),A=this.cachedCanvases.getCanvas(m,D,O),c=A.context,c.clearRect(0,0,D,O),c.drawImage(i,0,0,e,h,0,0,D,O),i=A.canvas,e=D,h=O,m=m==="prescale1"?"prescale2":"prescale1"}return{img:i,paintWidth:e,paintHeight:h}}_createMaskCanvas(i){const n=this.ctx,d=i.width,b=i.height,F=this.current.fillColor,S=this.current.patternFill,e=this.cachedCanvases.getCanvas("maskCanvas",d,b),h=e.context;v(h,i);const m=n.mozCurrentTransform;let A=r.Util.transform(m,[1/d,0,0,-1/b,0,0]);A=r.Util.transform(A,[1,0,0,1,0,-b]);const c=r.Util.applyTransform([0,0],A),D=r.Util.applyTransform([d,b],A),O=r.Util.normalizeRect([c[0],c[1],D[0],D[1]]),V=Math.ceil(O[2]-O[0]),z=Math.ceil(O[3]-O[1]),K=this.cachedCanvases.getCanvas("fillCanvas",V,z,!0),Z=K.context,ne=Math.min(c[0],D[0]),te=Math.min(c[1],D[1]);Z.translate(-ne,-te),Z.transform.apply(Z,A);const se=this._scaleImage(e.canvas,Z.mozCurrentTransformInverse);Z.imageSmoothingEnabled=L(Z.mozCurrentTransform,i.interpolate),Z.drawImage(se.img,0,0,se.img.width,se.img.height,0,0,d,b),Z.globalCompositeOperation="source-in";const ue=r.Util.transform(Z.mozCurrentTransformInverse,[1,0,0,1,-ne,-te]);return Z.fillStyle=S?F.getPattern(n,this,ue,q.PathType.FILL):F,Z.fillRect(0,0,d,b),{canvas:K.canvas,offsetX:Math.round(ne),offsetY:Math.round(te)}}setLineWidth(i){this.current.lineWidth=i,this.ctx.lineWidth=i}setLineCap(i){this.ctx.lineCap=X[i]}setLineJoin(i){this.ctx.lineJoin=H[i]}setMiterLimit(i){this.ctx.miterLimit=i}setDash(i,n){const d=this.ctx;d.setLineDash!==void 0&&(d.setLineDash(i),d.lineDashOffset=n)}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(let n=0,d=i.length;n<d;n++){const b=i[n],F=b[0],S=b[1];switch(F){case"LW":this.setLineWidth(S);break;case"LC":this.setLineCap(S);break;case"LJ":this.setLineJoin(S);break;case"ML":this.setMiterLimit(S);break;case"D":this.setDash(S[0],S[1]);break;case"RI":this.setRenderingIntent(S);break;case"FL":this.setFlatness(S);break;case"Font":this.setFont(S[0],S[1]);break;case"CA":this.current.strokeAlpha=b[1];break;case"ca":this.current.fillAlpha=b[1],this.ctx.globalAlpha=b[1];break;case"BM":this.ctx.globalCompositeOperation=S;break;case"SMask":this.current.activeSMask=S?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=S}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const i=this.inSMaskMode;this.current.activeSMask&&!i?this.beginSMaskMode():!this.current.activeSMask&&i&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const i=this.ctx.canvas.width,n=this.ctx.canvas.height,d="smaskGroupAt"+this.groupLevel,b=this.cachedCanvases.getCanvas(d,i,n,!0);this.suspendedCtx=this.ctx,this.ctx=b.context;const F=this.ctx;F.setTransform.apply(F,this.suspendedCtx.mozCurrentTransform),s(this.suspendedCtx,F),P(F,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),s(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(i){if(!this.current.activeSMask)return;i?(i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.ceil(i[2]),i[3]=Math.ceil(i[3])):i=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,d=this.suspendedCtx;T(d,n,this.ctx,i),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(s(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const i=this.current;this.stateStack.push(i),this.current=i.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),s(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)}transform(i,n,d,b,F,S){this.ctx.transform(i,n,d,b,F,S),this._cachedGetSinglePixelWidth=null}constructPath(i,n){const d=this.ctx,b=this.current;let F=b.x,S=b.y,e,h;for(let m=0,A=0,c=i.length;m<c;m++)switch(i[m]|0){case r.OPS.rectangle:F=n[A++],S=n[A++];const D=n[A++],O=n[A++],V=F+D,z=S+O;d.moveTo(F,S),D===0||O===0?d.lineTo(V,z):(d.lineTo(V,S),d.lineTo(V,z),d.lineTo(F,z)),b.updatePathMinMax(d.mozCurrentTransform,F,S),b.updatePathMinMax(d.mozCurrentTransform,V,z),d.closePath();break;case r.OPS.moveTo:F=n[A++],S=n[A++],d.moveTo(F,S),b.updatePathMinMax(d.mozCurrentTransform,F,S);break;case r.OPS.lineTo:F=n[A++],S=n[A++],d.lineTo(F,S),b.updatePathMinMax(d.mozCurrentTransform,F,S);break;case r.OPS.curveTo:e=F,h=S,F=n[A+4],S=n[A+5],d.bezierCurveTo(n[A],n[A+1],n[A+2],n[A+3],F,S),b.updateCurvePathMinMax(d.mozCurrentTransform,e,h,n[A],n[A+1],n[A+2],n[A+3],F,S),A+=6;break;case r.OPS.curveTo2:e=F,h=S,d.bezierCurveTo(F,S,n[A],n[A+1],n[A+2],n[A+3]),b.updateCurvePathMinMax(d.mozCurrentTransform,e,h,F,S,n[A],n[A+1],n[A+2],n[A+3]),F=n[A+2],S=n[A+3],A+=4;break;case r.OPS.curveTo3:e=F,h=S,F=n[A+2],S=n[A+3],d.bezierCurveTo(n[A],n[A+1],F,S,F,S),b.updateCurvePathMinMax(d.mozCurrentTransform,e,h,n[A],n[A+1],F,S,F,S),A+=4;break;case r.OPS.closePath:d.closePath();break}b.setCurrentPoint(F,S)}closePath(){this.ctx.closePath()}stroke(i){i=typeof i!="undefined"?i:!0;const n=this.ctx,d=this.current.strokeColor;if(n.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof d=="object"&&(d==null?void 0:d.getPattern)){const b=this.getSinglePixelWidth();n.save(),n.strokeStyle=d.getPattern(n,this,n.mozCurrentTransformInverse,q.PathType.STROKE),n.lineWidth=Math.max(b,this.current.lineWidth),n.stroke(),n.restore()}else{const b=this.getSinglePixelWidth();b<0&&-b>=this.current.lineWidth?(n.save(),n.resetTransform(),n.lineWidth=Math.floor(this._combinedScaleFactor),n.stroke(),n.restore()):(n.lineWidth=Math.max(b,this.current.lineWidth),n.stroke())}i&&this.consumePath(this.current.getClippedPathBoundingBox()),n.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(i){i=typeof i!="undefined"?i:!0;const n=this.ctx,d=this.current.fillColor,b=this.current.patternFill;let F=!1;b&&(n.save(),n.fillStyle=d.getPattern(n,this,n.mozCurrentTransformInverse,q.PathType.FILL),F=!0);const S=this.current.getClippedPathBoundingBox();this.contentVisible&&S!==null&&(this.pendingEOFill?(n.fill("evenodd"),this.pendingEOFill=!1):n.fill()),F&&n.restore(),i&&this.consumePath(S)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Y}eoClip(){this.pendingClip=ee}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const i=this.pendingTextPaths,n=this.ctx;if(i===void 0){n.beginPath();return}n.save(),n.beginPath();for(let d=0;d<i.length;d++){const b=i[d];n.setTransform.apply(n,b.transform),n.translate(b.x,b.y),b.addToPath(n,b.fontSize)}n.restore(),n.clip(),n.beginPath(),delete this.pendingTextPaths}setCharSpacing(i){this.current.charSpacing=i}setWordSpacing(i){this.current.wordSpacing=i}setHScale(i){this.current.textHScale=i/100}setLeading(i){this.current.leading=-i}setFont(i,n){const d=this.commonObjs.get(i),b=this.current;if(!d)throw new Error(`Can't find font for ${i}`);if(b.fontMatrix=d.fontMatrix||r.FONT_IDENTITY_MATRIX,(b.fontMatrix[0]===0||b.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+i),n<0?(n=-n,b.fontDirection=-1):b.fontDirection=1,this.current.font=d,this.current.fontSize=n,d.isType3Font)return;const F=d.loadedName||"sans-serif";let S="normal";d.black?S="900":d.bold&&(S="bold");const e=d.italic?"italic":"normal",h=`"${F}", ${d.fallbackName}`;let m=n;n<$?m=$:n>B&&(m=B),this.current.fontSizeScale=n/m,this.ctx.font=`${e} ${S} ${m}px ${h}`}setTextRenderingMode(i){this.current.textRenderingMode=i}setTextRise(i){this.current.textRise=i}moveText(i,n){this.current.x=this.current.lineX+=i,this.current.y=this.current.lineY+=n}setLeadingMoveText(i,n){this.setLeading(-n),this.moveText(i,n)}setTextMatrix(i,n,d,b,F,S){this.current.textMatrix=[i,n,d,b,F,S],this.current.textMatrixScale=Math.hypot(i,n),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(i,n,d,b,F){const S=this.ctx,e=this.current,h=e.font,m=e.textRenderingMode,A=e.fontSize/e.fontSizeScale,c=m&r.TextRenderingMode.FILL_STROKE_MASK,D=!!(m&r.TextRenderingMode.ADD_TO_PATH_FLAG),O=e.patternFill&&!h.missingFile;let V;(h.disableFontFace||D||O)&&(V=h.getPathGenerator(this.commonObjs,i)),h.disableFontFace||O?(S.save(),S.translate(n,d),S.beginPath(),V(S,A),b&&S.setTransform.apply(S,b),(c===r.TextRenderingMode.FILL||c===r.TextRenderingMode.FILL_STROKE)&&S.fill(),(c===r.TextRenderingMode.STROKE||c===r.TextRenderingMode.FILL_STROKE)&&(F&&(S.resetTransform(),S.lineWidth=Math.floor(this._combinedScaleFactor)),S.stroke()),S.restore()):((c===r.TextRenderingMode.FILL||c===r.TextRenderingMode.FILL_STROKE)&&S.fillText(i,n,d),(c===r.TextRenderingMode.STROKE||c===r.TextRenderingMode.FILL_STROKE)&&(F?(S.save(),S.moveTo(n,d),S.resetTransform(),S.lineWidth=Math.floor(this._combinedScaleFactor),S.strokeText(i,0,0),S.restore()):S.strokeText(i,n,d))),D&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:S.mozCurrentTransform,x:n,y:d,fontSize:A,addToPath:V})}get isFontSubpixelAAEnabled(){const{context:i}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);i.scale(1.5,1),i.fillText("I",0,10);const n=i.getImageData(0,0,10,10).data;let d=!1;for(let b=3;b<n.length;b+=4)if(n[b]>0&&n[b]<255){d=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",d)}showText(i){const n=this.current,d=n.font;if(d.isType3Font)return this.showType3Text(i);const b=n.fontSize;if(b===0)return;const F=this.ctx,S=n.fontSizeScale,e=n.charSpacing,h=n.wordSpacing,m=n.fontDirection,A=n.textHScale*m,c=i.length,D=d.vertical,O=D?1:-1,V=d.defaultVMetrics,z=b*n.fontMatrix[0],K=n.textRenderingMode===r.TextRenderingMode.FILL&&!d.disableFontFace&&!n.patternFill;F.save(),F.transform.apply(F,n.textMatrix),F.translate(n.x,n.y+n.textRise),m>0?F.scale(A,-1):F.scale(A,1);let Z;if(n.patternFill){F.save();const oe=n.fillColor.getPattern(F,this,F.mozCurrentTransformInverse,q.PathType.FILL);Z=F.mozCurrentTransform,F.restore(),F.fillStyle=oe}let ne=n.lineWidth,te=!1;const se=n.textMatrixScale;if(se===0||ne===0){const oe=n.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(oe===r.TextRenderingMode.STROKE||oe===r.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,ne=this.getSinglePixelWidth(),te=ne<0)}else ne/=se;S!==1&&(F.scale(S,S),ne/=S),F.lineWidth=ne;let ue=0,re;for(re=0;re<c;++re){const oe=i[re];if(typeof oe=="number"){ue+=O*oe*b/1e3;continue}let le=!1;const he=(oe.isSpace?h:0)+e,me=oe.fontChar,Fe=oe.accent;let _e,ye,Ae=oe.width;if(D){const fe=oe.vmetric||V,we=-(oe.vmetric?fe[1]:Ae*.5)*z,je=fe[2]*z;Ae=fe?-fe[0]:Ae,_e=we/S,ye=(ue+je)/S}else _e=ue/S,ye=0;if(d.remeasure&&Ae>0){const fe=F.measureText(me).width*1e3/b*S;if(Ae<fe&&this.isFontSubpixelAAEnabled){const we=Ae/fe;le=!0,F.save(),F.scale(we,1),_e/=we}else Ae!==fe&&(_e+=(Ae-fe)/2e3*b/S)}if(this.contentVisible&&(oe.isInFont||d.missingFile)){if(K&&!Fe)F.fillText(me,_e,ye);else if(this.paintChar(me,_e,ye,Z,te),Fe){const fe=_e+b*Fe.offset.x/S,we=ye-b*Fe.offset.y/S;this.paintChar(Fe.fontChar,fe,we,Z,te)}}let Ee;D?Ee=Ae*z-he*m:Ee=Ae*z+he*m,ue+=Ee,le&&F.restore()}D?n.y-=ue:n.x+=ue*A,F.restore(),this.compose()}showType3Text(i){const n=this.ctx,d=this.current,b=d.font,F=d.fontSize,S=d.fontDirection,e=b.vertical?1:-1,h=d.charSpacing,m=d.wordSpacing,A=d.textHScale*S,c=d.fontMatrix||r.FONT_IDENTITY_MATRIX,D=i.length,O=d.textRenderingMode===r.TextRenderingMode.INVISIBLE;let V,z,K,Z;if(!(O||F===0)){for(this._cachedGetSinglePixelWidth=null,n.save(),n.transform.apply(n,d.textMatrix),n.translate(d.x,d.y),n.scale(A,S),V=0;V<D;++V){if(z=i[V],typeof z=="number"){Z=e*z*F/1e3,this.ctx.translate(Z,0),d.x+=Z*A;continue}const ne=(z.isSpace?m:0)+h,te=b.charProcOperatorList[z.operatorListId];if(!te){(0,r.warn)(`Type3 character "${z.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=z,this.save(),n.scale(F,F),n.transform.apply(n,c),this.executeOperatorList(te),this.restore()),K=r.Util.applyTransform([z.width,0],c)[0]*F+ne,n.translate(K,0),d.x+=K*A}n.restore(),this.processingType3=null}}setCharWidth(i,n){}setCharWidthAndBounds(i,n,d,b,F,S){this.ctx.rect(d,b,F-d,S-b),this.clip(),this.endPath()}getColorN_Pattern(i){let n;if(i[0]==="TilingPattern"){const d=i[1],b=this.baseTransform||this.ctx.mozCurrentTransform.slice(),F={createCanvasGraphics:S=>new Q(S,this.commonObjs,this.objs,this.canvasFactory)};n=new q.TilingPattern(i,d,this.ctx,F,b)}else n=this._getPattern(i[1],i[2]);return n}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(i,n,d){const b=r.Util.makeHexColor(i,n,d);this.ctx.strokeStyle=b,this.current.strokeColor=b}setFillRGBColor(i,n,d){const b=r.Util.makeHexColor(i,n,d);this.ctx.fillStyle=b,this.current.fillColor=b,this.current.patternFill=!1}_getPattern(i,n=null){let d;return this.cachedPatterns.has(i)?d=this.cachedPatterns.get(i):(d=(0,q.getShadingPattern)(this.objs.get(i)),this.cachedPatterns.set(i,d)),n&&(d.matrix=n),d}shadingFill(i){if(!this.contentVisible)return;const n=this.ctx;this.save();const d=this._getPattern(i);n.fillStyle=d.getPattern(n,this,n.mozCurrentTransformInverse,q.PathType.SHADING);const b=n.mozCurrentTransformInverse;if(b){const F=n.canvas,S=F.width,e=F.height,h=r.Util.applyTransform([0,0],b),m=r.Util.applyTransform([0,e],b),A=r.Util.applyTransform([S,0],b),c=r.Util.applyTransform([S,e],b),D=Math.min(h[0],m[0],A[0],c[0]),O=Math.min(h[1],m[1],A[1],c[1]),V=Math.max(h[0],m[0],A[0],c[0]),z=Math.max(h[1],m[1],A[1],c[1]);this.ctx.fillRect(D,O,V-D,z-O)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(i,n){if(!!this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(i)&&i.length===6&&this.transform.apply(this,i),this.baseTransform=this.ctx.mozCurrentTransform,n)){const d=n[2]-n[0],b=n[3]-n[1];this.ctx.rect(n[0],n[1],d,b),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,n[0],n[1]),this.current.updatePathMinMax(this.ctx.mozCurrentTransform,n[2],n[3]),this.clip(),this.endPath()}}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(i){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const n=this.ctx;i.isolated||(0,r.info)("TODO: Support non-isolated groups."),i.knockout&&(0,r.warn)("Knockout groups not supported.");const d=n.mozCurrentTransform;if(i.matrix&&n.transform.apply(n,i.matrix),!i.bbox)throw new Error("Bounding box is required.");let b=r.Util.getAxialAlignedBoundingBox(i.bbox,n.mozCurrentTransform);const F=[0,0,n.canvas.width,n.canvas.height];b=r.Util.intersect(b,F)||[0,0,0,0];const S=Math.floor(b[0]),e=Math.floor(b[1]);let h=Math.max(Math.ceil(b[2])-S,1),m=Math.max(Math.ceil(b[3])-e,1),A=1,c=1;h>C&&(A=h/C,h=C),m>C&&(c=m/C,m=C),this.current.startNewPathAndClipBox([0,0,h,m]);let D="groupAt"+this.groupLevel;i.smask&&(D+="_smask_"+this.smaskCounter++%2);const O=this.cachedCanvases.getCanvas(D,h,m,!0),V=O.context;V.scale(1/A,1/c),V.translate(-S,-e),V.transform.apply(V,d),i.smask?this.smaskStack.push({canvas:O.canvas,context:V,offsetX:S,offsetY:e,scaleX:A,scaleY:c,subtype:i.smask.subtype,backdrop:i.smask.backdrop,transferMap:i.smask.transferMap||null,startTransformInverse:null}):(n.setTransform(1,0,0,1,0,0),n.translate(S,e),n.scale(A,c),n.save()),s(n,V),this.ctx=V,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(n),this.groupLevel++}endGroup(i){if(!this.contentVisible)return;this.groupLevel--;const n=this.ctx,d=this.groupStack.pop();if(this.ctx=d,this.ctx.imageSmoothingEnabled=!1,i.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const b=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,b);const F=r.Util.getAxialAlignedBoundingBox([0,0,n.canvas.width,n.canvas.height],b);this.ctx.drawImage(n.canvas,0,0),this.ctx.restore(),this.compose(F)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(i,n,d,b,F){if(this.save(),Array.isArray(n)&&n.length===4){const S=n[2]-n[0],e=n[3]-n[1];if(F&&this.annotationCanvasMap){d=d.slice(),d[4]-=n[0],d[5]-=n[1],n=n.slice(),n[0]=n[1]=0,n[2]=S,n[3]=e;const[h,m]=r.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:A}=this,c=Math.ceil(S*this.outputScaleX*A),D=Math.ceil(e*this.outputScaleY*A);this.annotationCanvas=this.canvasFactory.create(c,D);const{canvas:O,context:V}=this.annotationCanvas;O.style.width=`calc(${S}px * var(--viewport-scale-factor))`,O.style.height=`calc(${e}px * var(--viewport-scale-factor))`,this.annotationCanvasMap.set(i,O),this.annotationCanvas.savedCtx=this.ctx,this.ctx=V,this.ctx.setTransform(h,0,0,-m,0,e*m),w(this.ctx),o(this.ctx)}else o(this.ctx),this.ctx.rect(n[0],n[1],S,e),this.clip(),this.endPath()}this.current=new j(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,d),this.transform.apply(this,b)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(i){if(!this.contentVisible)return;const n=this.ctx,d=i.width,b=i.height,F=this.processingType3;if(F&&F.compiled===void 0&&(d<=a&&b<=a?F.compiled=W({data:i.data,width:d,height:b}):F.compiled=null),F!=null&&F.compiled){F.compiled(n);return}const S=this._createMaskCanvas(i),e=S.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(e,S.offsetX,S.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(i,n,d=0,b=0,F,S){if(!this.contentVisible)return;const e=this.ctx;e.save();const h=e.mozCurrentTransform;e.transform(n,d,b,F,0,0);const m=this._createMaskCanvas(i);e.setTransform(1,0,0,1,0,0);for(let A=0,c=S.length;A<c;A+=2){const D=r.Util.transform(h,[n,d,b,F,S[A],S[A+1]]),[O,V]=r.Util.applyTransform([0,0],D);e.drawImage(m.canvas,O,V)}e.restore(),this.compose()}paintImageMaskXObjectGroup(i){if(!this.contentVisible)return;const n=this.ctx,d=this.current.fillColor,b=this.current.patternFill;for(let F=0,S=i.length;F<S;F++){const e=i[F],h=e.width,m=e.height,A=this.cachedCanvases.getCanvas("maskCanvas",h,m),c=A.context;c.save(),v(c,e),c.globalCompositeOperation="source-in",c.fillStyle=b?d.getPattern(c,this,n.mozCurrentTransformInverse,q.PathType.FILL):d,c.fillRect(0,0,h,m),c.restore(),n.save(),n.transform.apply(n,e.transform),n.scale(1,-1),n.drawImage(A.canvas,0,0,h,m,0,-1,1,1),n.restore()}this.compose()}paintImageXObject(i){if(!this.contentVisible)return;const n=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);if(!n){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(n)}paintImageXObjectRepeat(i,n,d,b){if(!this.contentVisible)return;const F=i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i);if(!F){(0,r.warn)("Dependent image isn't ready yet");return}const S=F.width,e=F.height,h=[];for(let m=0,A=b.length;m<A;m+=2)h.push({transform:[n,0,0,d,b[m],b[m+1]],x:0,y:0,w:S,h:e});this.paintInlineImageXObjectGroup(F,h)}paintInlineImageXObject(i){if(!this.contentVisible)return;const n=i.width,d=i.height,b=this.ctx;this.save(),b.scale(1/n,-1/d);let F;if(typeof HTMLElement=="function"&&i instanceof HTMLElement||!i.data)F=i;else{const e=this.cachedCanvases.getCanvas("inlineImage",n,d),h=e.context;R(h,i,this.current.transferMaps),F=e.canvas}const S=this._scaleImage(F,b.mozCurrentTransformInverse);if(b.imageSmoothingEnabled=L(b.mozCurrentTransform,i.interpolate),b.drawImage(S.img,0,0,S.paintWidth,S.paintHeight,0,-d,n,d),this.imageLayer){const e=this.getCanvasPosition(0,-d);this.imageLayer.appendImage({imgData:i,left:e[0],top:e[1],width:n/b.mozCurrentTransformInverse[0],height:d/b.mozCurrentTransformInverse[3]})}this.compose(),this.restore()}paintInlineImageXObjectGroup(i,n){if(!this.contentVisible)return;const d=this.ctx,b=i.width,F=i.height,S=this.cachedCanvases.getCanvas("inlineImage",b,F),e=S.context;R(e,i,this.current.transferMaps);for(let h=0,m=n.length;h<m;h++){const A=n[h];if(d.save(),d.transform.apply(d,A.transform),d.scale(1,-1),d.drawImage(S.canvas,A.x,A.y,A.w,A.h,0,-1,1,1),this.imageLayer){const c=this.getCanvasPosition(A.x,A.y);this.imageLayer.appendImage({imgData:i,left:c[0],top:c[1],width:b,height:F})}d.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(i){}markPointProps(i,n){}beginMarkedContent(i){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(i,n){i==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(n)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(i){this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const n=this.ctx;this.pendingClip&&(this.pendingClip===ee?n.clip("evenodd"):n.clip(),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(this._cachedGetSinglePixelWidth===null){const i=this.ctx.mozCurrentTransform,n=Math.abs(i[0]*i[3]-i[2]*i[1]),d=i[0]**2+i[2]**2,b=i[1]**2+i[3]**2,F=Math.sqrt(Math.max(d,b))/n;d!==b&&this._combinedScaleFactor*F>1?this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*F):n>Number.EPSILON?this._cachedGetSinglePixelWidth=F:this._cachedGetSinglePixelWidth=1}return this._cachedGetSinglePixelWidth}getCanvasPosition(i,n){const d=this.ctx.mozCurrentTransform;return[d[0]*i+d[2]*n+d[4],d[1]*i+d[3]*n+d[5]]}isContentVisible(){for(let i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}}l.CanvasGraphics=Q;for(const _ in r.OPS)Q.prototype[_]!==void 0&&(Q.prototype[r.OPS[_]]=Q.prototype[_])},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TilingPattern=l.PathType=void 0,l.getShadingPattern=p;var r=N(1);const q={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};l.PathType=q;function I(w,g){if(!g||typeof Path2D=="undefined")return;const W=g[2]-g[0],j=g[3]-g[1],R=new Path2D;R.rect(g[0],g[1],W,j),w.clip(R)}class ${constructor(){this.constructor===$&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class B extends ${constructor(g){super();this._type=g[1],this._bbox=g[2],this._colorStops=g[3],this._p0=g[4],this._p1=g[5],this._r0=g[6],this._r1=g[7],this.matrix=null}_createGradient(g){let W;this._type==="axial"?W=g.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(W=g.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const j of this._colorStops)W.addColorStop(j[0],j[1]);return W}getPattern(g,W,j,R){let v;if(R===q.STROKE||R===q.FILL){const s=W.current.getClippedPathBoundingBox(R,g.mozCurrentTransform)||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,y=Math.ceil(s[3]-s[1])||1,x=W.cachedCanvases.getCanvas("pattern",o,y,!0),E=x.context;E.clearRect(0,0,E.canvas.width,E.canvas.height),E.beginPath(),E.rect(0,0,E.canvas.width,E.canvas.height),E.translate(-s[0],-s[1]),j=r.Util.transform(j,[1,0,0,1,s[0],s[1]]),E.transform.apply(E,W.baseTransform),this.matrix&&E.transform.apply(E,this.matrix),I(E,this._bbox),E.fillStyle=this._createGradient(E),E.fill(),v=g.createPattern(x.canvas,"no-repeat");const M=new DOMMatrix(j);try{v.setTransform(M)}catch(T){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${T==null?void 0:T.message}".`)}}else I(g,this._bbox),v=this._createGradient(g);return v}}function C(w,g,W,j,R,v,s,o){const y=g.coords,x=g.colors,E=w.data,M=w.width*4;let T;y[W+1]>y[j+1]&&(T=W,W=j,j=T,T=v,v=s,s=T),y[j+1]>y[R+1]&&(T=j,j=R,R=T,T=s,s=o,o=T),y[W+1]>y[j+1]&&(T=W,W=j,j=T,T=v,v=s,s=T);const L=(y[W]+g.offsetX)*g.scaleX,X=(y[W+1]+g.offsetY)*g.scaleY,H=(y[j]+g.offsetX)*g.scaleX,Y=(y[j+1]+g.offsetY)*g.scaleY,ee=(y[R]+g.offsetX)*g.scaleX,Q=(y[R+1]+g.offsetY)*g.scaleY;if(X>=Q)return;const _=x[v],i=x[v+1],n=x[v+2],d=x[s],b=x[s+1],F=x[s+2],S=x[o],e=x[o+1],h=x[o+2],m=Math.round(X),A=Math.round(Q);let c,D,O,V,z,K,Z,ne;for(let te=m;te<=A;te++){if(te<Y){let le;te<X?le=0:le=(X-te)/(X-Y),c=L-(L-H)*le,D=_-(_-d)*le,O=i-(i-b)*le,V=n-(n-F)*le}else{let le;te>Q?le=1:Y===Q?le=0:le=(Y-te)/(Y-Q),c=H-(H-ee)*le,D=d-(d-S)*le,O=b-(b-e)*le,V=F-(F-h)*le}let se;te<X?se=0:te>Q?se=1:se=(X-te)/(X-Q),z=L-(L-ee)*se,K=_-(_-S)*se,Z=i-(i-e)*se,ne=n-(n-h)*se;const ue=Math.round(Math.min(c,z)),re=Math.round(Math.max(c,z));let oe=M*te+ue*4;for(let le=ue;le<=re;le++)se=(c-le)/(c-z),se<0?se=0:se>1&&(se=1),E[oe++]=D-(D-K)*se|0,E[oe++]=O-(O-Z)*se|0,E[oe++]=V-(V-ne)*se|0,E[oe++]=255}}function t(w,g,W){const j=g.coords,R=g.colors;let v,s;switch(g.type){case"lattice":const o=g.verticesPerRow,y=Math.floor(j.length/o)-1,x=o-1;for(v=0;v<y;v++){let E=v*o;for(let M=0;M<x;M++,E++)C(w,W,j[E],j[E+1],j[E+o],R[E],R[E+1],R[E+o]),C(w,W,j[E+o+1],j[E+1],j[E+o],R[E+o+1],R[E+1],R[E+o])}break;case"triangles":for(v=0,s=j.length;v<s;v+=3)C(w,W,j[v],j[v+1],j[v+2],R[v],R[v+1],R[v+2]);break;default:throw new Error("illegal figure")}}class u extends ${constructor(g){super();this._coords=g[2],this._colors=g[3],this._figures=g[4],this._bounds=g[5],this._bbox=g[7],this._background=g[8],this.matrix=null}_createMeshCanvas(g,W,j){const o=Math.floor(this._bounds[0]),y=Math.floor(this._bounds[1]),x=Math.ceil(this._bounds[2])-o,E=Math.ceil(this._bounds[3])-y,M=Math.min(Math.ceil(Math.abs(x*g[0]*1.1)),3e3),T=Math.min(Math.ceil(Math.abs(E*g[1]*1.1)),3e3),L=x/M,X=E/T,H={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-y,scaleX:1/L,scaleY:1/X},Y=M+2*2,ee=T+2*2,Q=j.getCanvas("mesh",Y,ee,!1),_=Q.context,i=_.createImageData(M,T);if(W){const d=i.data;for(let b=0,F=d.length;b<F;b+=4)d[b]=W[0],d[b+1]=W[1],d[b+2]=W[2],d[b+3]=255}for(const d of this._figures)t(i,d,H);return _.putImageData(i,2,2),{canvas:Q.canvas,offsetX:o-2*L,offsetY:y-2*X,scaleX:L,scaleY:X}}getPattern(g,W,j,R){I(g,this._bbox);let v;if(R===q.SHADING)v=r.Util.singularValueDecompose2dScale(g.mozCurrentTransform);else if(v=r.Util.singularValueDecompose2dScale(W.baseTransform),this.matrix){const o=r.Util.singularValueDecompose2dScale(this.matrix);v=[v[0]*o[0],v[1]*o[1]]}const s=this._createMeshCanvas(v,R===q.SHADING?null:this._background,W.cachedCanvases);return R!==q.SHADING&&(g.setTransform.apply(g,W.baseTransform),this.matrix&&g.transform.apply(g,this.matrix)),g.translate(s.offsetX,s.offsetY),g.scale(s.scaleX,s.scaleY),g.createPattern(s.canvas,"no-repeat")}}class a extends ${getPattern(){return"hotpink"}}function p(w){switch(w[0]){case"RadialAxial":return new B(w);case"Mesh":return new u(w);case"Dummy":return new a}throw new Error(`Unknown IR type: ${w[0]}`)}const f={COLORED:1,UNCOLORED:2};class P{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(g,W,j,R,v){this.operatorList=g[2],this.matrix=g[3]||[1,0,0,1,0,0],this.bbox=g[4],this.xstep=g[5],this.ystep=g[6],this.paintType=g[7],this.tilingType=g[8],this.color=W,this.ctx=j,this.canvasGraphicsFactory=R,this.baseTransform=v}createPatternCanvas(g){const W=this.operatorList,j=this.bbox,R=this.xstep,v=this.ystep,s=this.paintType,o=this.tilingType,y=this.color,x=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+o);const E=j[0],M=j[1],T=j[2],L=j[3],X=r.Util.singularValueDecompose2dScale(this.matrix),H=r.Util.singularValueDecompose2dScale(this.baseTransform),Y=[X[0]*H[0],X[1]*H[1]],ee=this.getSizeAndScale(R,this.ctx.canvas.width,Y[0]),Q=this.getSizeAndScale(v,this.ctx.canvas.height,Y[1]),_=g.cachedCanvases.getCanvas("pattern",ee.size,Q.size,!0),i=_.context,n=x.createCanvasGraphics(i);n.groupLevel=g.groupLevel,this.setFillAndStrokeStyleToContext(n,s,y);let d=E,b=M,F=T,S=L;return E<0&&(d=0,F+=Math.abs(E)),M<0&&(b=0,S+=Math.abs(M)),i.translate(-(ee.scale*d),-(Q.scale*b)),n.transform(ee.scale,0,0,Q.scale,0,0),i.save(),this.clipBbox(n,d,b,F,S),n.baseTransform=n.ctx.mozCurrentTransform.slice(),n.executeOperatorList(W),n.endDrawing(),{canvas:_.canvas,scaleX:ee.scale,scaleY:Q.scale,offsetX:d,offsetY:b}}getSizeAndScale(g,W,j){g=Math.abs(g);const R=Math.max(P.MAX_PATTERN_SIZE,W);let v=Math.ceil(g*j);return v>=R?v=R:j=v/g,{scale:j,size:v}}clipBbox(g,W,j,R,v){const s=R-W,o=v-j;g.ctx.rect(W,j,s,o),g.clip(),g.endPath()}setFillAndStrokeStyleToContext(g,W,j){const R=g.ctx,v=g.current;switch(W){case f.COLORED:const s=this.ctx;R.fillStyle=s.fillStyle,R.strokeStyle=s.strokeStyle,v.fillColor=s.fillStyle,v.strokeColor=s.strokeStyle;break;case f.UNCOLORED:const o=r.Util.makeHexColor(j[0],j[1],j[2]);R.fillStyle=o,R.strokeStyle=o,v.fillColor=o,v.strokeColor=o;break;default:throw new r.FormatError(`Unsupported paint type: ${W}`)}}getPattern(g,W,j,R){let v=j;R!==q.SHADING&&(v=r.Util.transform(v,W.baseTransform),this.matrix&&(v=r.Util.transform(v,this.matrix)));const s=this.createPatternCanvas(W);let o=new DOMMatrix(v);o=o.translate(s.offsetX,s.offsetY),o=o.scale(1/s.scaleX,1/s.scaleY);const y=g.createPattern(s.canvas,"repeat");try{y.setTransform(o)}catch(x){(0,r.warn)(`TilingPattern.getPattern: "${x==null?void 0:x.message}".`)}return y}}l.TilingPattern=P},(k,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.GlobalWorkerOptions=void 0;const N=Object.create(null);l.GlobalWorkerOptions=N,N.workerPort=N.workerPort===void 0?null:N.workerPort,N.workerSrc=N.workerSrc===void 0?"":N.workerSrc},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.MessageHandler=void 0;var r=N(1);const q={UNKNOWN:0,DATA:1,ERROR:2},I={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function $(C){switch(C instanceof Error||typeof C=="object"&&C!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),C.name){case"AbortException":return new r.AbortException(C.message);case"MissingPDFException":return new r.MissingPDFException(C.message);case"PasswordException":return new r.PasswordException(C.message,C.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(C.message,C.status);case"UnknownErrorException":return new r.UnknownErrorException(C.message,C.details);default:return new r.UnknownErrorException(C.message,C.toString())}}class B{constructor(t,u,a){this.sourceName=t,this.targetName=u,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=p=>{const f=p.data;if(f.targetName!==this.sourceName)return;if(f.stream){this._processStreamMessage(f);return}if(f.callback){const w=f.callbackId,g=this.callbackCapabilities[w];if(!g)throw new Error(`Cannot resolve callback ${w}`);if(delete this.callbackCapabilities[w],f.callback===q.DATA)g.resolve(f.data);else if(f.callback===q.ERROR)g.reject($(f.reason));else throw new Error("Unexpected callback case");return}const P=this.actionHandler[f.action];if(!P)throw new Error(`Unknown action from worker: ${f.action}`);if(f.callbackId){const w=this.sourceName,g=f.sourceName;new Promise(function(W){W(P(f.data))}).then(function(W){a.postMessage({sourceName:w,targetName:g,callback:q.DATA,callbackId:f.callbackId,data:W})},function(W){a.postMessage({sourceName:w,targetName:g,callback:q.ERROR,callbackId:f.callbackId,reason:$(W)})});return}if(f.streamId){this._createStreamSink(f);return}P(f.data)},a.addEventListener("message",this._onComObjOnMessage)}on(t,u){const a=this.actionHandler;if(a[t])throw new Error(`There is already an actionName called "${t}"`);a[t]=u}send(t,u,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:u},a)}sendWithPromise(t,u,a){const p=this.callbackId++,f=(0,r.createPromiseCapability)();this.callbackCapabilities[p]=f;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:p,data:u},a)}catch(P){f.reject(P)}return f.promise}sendWithStream(t,u,a,p){const f=this.streamId++,P=this.sourceName,w=this.targetName,g=this.comObj;return new ReadableStream({start:W=>{const j=(0,r.createPromiseCapability)();return this.streamControllers[f]={controller:W,startCall:j,pullCall:null,cancelCall:null,isClosed:!1},g.postMessage({sourceName:P,targetName:w,action:t,streamId:f,data:u,desiredSize:W.desiredSize},p),j.promise},pull:W=>{const j=(0,r.createPromiseCapability)();return this.streamControllers[f].pullCall=j,g.postMessage({sourceName:P,targetName:w,stream:I.PULL,streamId:f,desiredSize:W.desiredSize}),j.promise},cancel:W=>{(0,r.assert)(W instanceof Error,"cancel must have a valid reason");const j=(0,r.createPromiseCapability)();return this.streamControllers[f].cancelCall=j,this.streamControllers[f].isClosed=!0,g.postMessage({sourceName:P,targetName:w,stream:I.CANCEL,streamId:f,reason:$(W)}),j.promise}},a)}_createStreamSink(t){const u=t.streamId,a=this.sourceName,p=t.sourceName,f=this.comObj,P=this,w=this.actionHandler[t.action],g={enqueue(W,j=1,R){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=j,v>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),f.postMessage({sourceName:a,targetName:p,stream:I.ENQUEUE,streamId:u,chunk:W},R)},close(){this.isCancelled||(this.isCancelled=!0,f.postMessage({sourceName:a,targetName:p,stream:I.CLOSE,streamId:u}),delete P.streamSinks[u])},error(W){(0,r.assert)(W instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,f.postMessage({sourceName:a,targetName:p,stream:I.ERROR,streamId:u,reason:$(W)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};g.sinkCapability.resolve(),g.ready=g.sinkCapability.promise,this.streamSinks[u]=g,new Promise(function(W){W(w(t.data,g))}).then(function(){f.postMessage({sourceName:a,targetName:p,stream:I.START_COMPLETE,streamId:u,success:!0})},function(W){f.postMessage({sourceName:a,targetName:p,stream:I.START_COMPLETE,streamId:u,reason:$(W)})})}_processStreamMessage(t){const u=t.streamId,a=this.sourceName,p=t.sourceName,f=this.comObj,P=this.streamControllers[u],w=this.streamSinks[u];switch(t.stream){case I.START_COMPLETE:t.success?P.startCall.resolve():P.startCall.reject($(t.reason));break;case I.PULL_COMPLETE:t.success?P.pullCall.resolve():P.pullCall.reject($(t.reason));break;case I.PULL:if(!w){f.postMessage({sourceName:a,targetName:p,stream:I.PULL_COMPLETE,streamId:u,success:!0});break}w.desiredSize<=0&&t.desiredSize>0&&w.sinkCapability.resolve(),w.desiredSize=t.desiredSize,new Promise(function(g){g(w.onPull&&w.onPull())}).then(function(){f.postMessage({sourceName:a,targetName:p,stream:I.PULL_COMPLETE,streamId:u,success:!0})},function(g){f.postMessage({sourceName:a,targetName:p,stream:I.PULL_COMPLETE,streamId:u,reason:$(g)})});break;case I.ENQUEUE:if((0,r.assert)(P,"enqueue should have stream controller"),P.isClosed)break;P.controller.enqueue(t.chunk);break;case I.CLOSE:if((0,r.assert)(P,"close should have stream controller"),P.isClosed)break;P.isClosed=!0,P.controller.close(),this._deleteStreamController(P,u);break;case I.ERROR:(0,r.assert)(P,"error should have stream controller"),P.controller.error($(t.reason)),this._deleteStreamController(P,u);break;case I.CANCEL_COMPLETE:t.success?P.cancelCall.resolve():P.cancelCall.reject($(t.reason)),this._deleteStreamController(P,u);break;case I.CANCEL:if(!w)break;new Promise(function(g){g(w.onCancel&&w.onCancel($(t.reason)))}).then(function(){f.postMessage({sourceName:a,targetName:p,stream:I.CANCEL_COMPLETE,streamId:u,success:!0})},function(g){f.postMessage({sourceName:a,targetName:p,stream:I.CANCEL_COMPLETE,streamId:u,reason:$(g)})}),w.sinkCapability.reject($(t.reason)),w.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(t,u){await Promise.allSettled([t.startCall&&t.startCall.promise,t.pullCall&&t.pullCall.promise,t.cancelCall&&t.cancelCall.promise]),delete this.streamControllers[u]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}l.MessageHandler=B},(k,l,N)=>{var I,$;Object.defineProperty(l,"__esModule",{value:!0}),l.Metadata=void 0;var r=N(1);class q{constructor({parsedData:C,rawData:t}){ve(this,I,void 0);ve(this,$,void 0);ke(this,I,C),ke(this,$,t)}getRaw(){return pe(this,$)}get(C){var t;return(t=pe(this,I).get(C))!=null?t:null}getAll(){return(0,r.objectFromMap)(pe(this,I))}has(C){return pe(this,I).has(C)}}I=new WeakMap,$=new WeakMap,l.Metadata=q},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionalContentConfig=void 0;var r=N(1);class q{constructor(B,C){this.visible=!0,this.name=B,this.intent=C}}class I{constructor(B){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,B!==null){this.name=B.name,this.creator=B.creator,this._order=B.order;for(const C of B.groups)this._groups.set(C.id,new q(C.name,C.intent));if(B.baseState==="OFF")for(const C of this._groups)C.visible=!1;for(const C of B.on)this._groups.get(C).visible=!0;for(const C of B.off)this._groups.get(C).visible=!1}}_evaluateVisibilityExpression(B){const C=B.length;if(C<2)return!0;const t=B[0];for(let u=1;u<C;u++){const a=B[u];let p;if(Array.isArray(a))p=this._evaluateVisibilityExpression(a);else if(this._groups.has(a))p=this._groups.get(a).visible;else return(0,r.warn)(`Optional content group not found: ${a}`),!0;switch(t){case"And":if(!p)return!1;break;case"Or":if(p)return!0;break;case"Not":return!p;default:return!0}}return t==="And"}isVisible(B){if(this._groups.size===0)return!0;if(!B)return(0,r.warn)("Optional content group not defined."),!0;if(B.type==="OCG")return this._groups.has(B.id)?this._groups.get(B.id).visible:((0,r.warn)(`Optional content group not found: ${B.id}`),!0);if(B.type==="OCMD"){if(B.expression)return this._evaluateVisibilityExpression(B.expression);if(!B.policy||B.policy==="AnyOn"){for(const C of B.ids){if(!this._groups.has(C))return(0,r.warn)(`Optional content group not found: ${C}`),!0;if(this._groups.get(C).visible)return!0}return!1}else if(B.policy==="AllOn"){for(const C of B.ids){if(!this._groups.has(C))return(0,r.warn)(`Optional content group not found: ${C}`),!0;if(!this._groups.get(C).visible)return!1}return!0}else if(B.policy==="AnyOff"){for(const C of B.ids){if(!this._groups.has(C))return(0,r.warn)(`Optional content group not found: ${C}`),!0;if(!this._groups.get(C).visible)return!0}return!1}else if(B.policy==="AllOff"){for(const C of B.ids){if(!this._groups.has(C))return(0,r.warn)(`Optional content group not found: ${C}`),!0;if(this._groups.get(C).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${B.policy}.`),!0}return(0,r.warn)(`Unknown group type ${B.type}.`),!0}setVisibility(B,C=!0){if(!this._groups.has(B)){(0,r.warn)(`Optional content group not found: ${B}`);return}this._groups.get(B).visible=!!C}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,r.objectFromMap)(this._groups):null}getGroup(B){return this._groups.get(B)||null}}l.OptionalContentConfig=I},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFDataTransportStream=void 0;var r=N(1),q=N(5);class I{constructor(t,u){(0,r.assert)(u,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1,this._contentDispositionFilename=t.contentDispositionFilename||null;const a=t.initialData;if((a==null?void 0:a.length)>0){const p=new Uint8Array(a).buffer;this._queuedChunks.push(p)}this._pdfDataRangeTransport=u,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((p,f)=>{this._onReceiveData({begin:p,chunk:f})}),this._pdfDataRangeTransport.addProgressListener((p,f)=>{this._onProgress({loaded:p,total:f})}),this._pdfDataRangeTransport.addProgressiveReadListener(p=>{this._onReceiveData({chunk:p})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(t){const u=new Uint8Array(t.chunk).buffer;if(t.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(u):this._queuedChunks.push(u);else{const a=this._rangeReaders.some(function(p){return p._begin!==t.begin?!1:(p._enqueue(u),!0)});(0,r.assert)(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t,u;return(u=(t=this._fullRequestReader)==null?void 0:t._loaded)!=null?u:0}_onProgress(t){if(t.total===void 0){const u=this._rangeReaders[0];u!=null&&u.onProgress&&u.onProgress({loaded:t.loaded})}else{const u=this._fullRequestReader;u!=null&&u.onProgress&&u.onProgress({loaded:t.loaded,total:t.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const u=this._rangeReaders.indexOf(t);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new $(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,u){if(u<=this._progressiveDataLength)return null;const a=new B(this,t,u);return this._pdfDataRangeTransport.requestDataRange(t,u),this._rangeReaders.push(a),a}cancelAllRequests(t){this._fullRequestReader&&this._fullRequestReader.cancel(t);for(const u of this._rangeReaders.slice(0))u.cancel(t);this._pdfDataRangeTransport.abort()}}l.PDFDataTransportStream=I;class ${constructor(t,u,a=!1,p=null){this._stream=t,this._done=a||!1,this._filename=(0,q.isPdfFile)(p)?p:null,this._queuedChunks=u||[],this._loaded=0;for(const f of this._queuedChunks)this._loaded+=f.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class B{constructor(t,u,a){this._stream=t,this._begin=u,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const t=(0,r.createPromiseCapability)();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(k,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XfaText=void 0;class N{static textContent(q){const I=[],$={items:I,styles:Object.create(null)};function B(C){var a;if(!C)return;let t=null;const u=C.name;if(u==="#text")t=C.value;else if(N.shouldBuildText(u))(a=C==null?void 0:C.attributes)!=null&&a.textContent?t=C.attributes.textContent:C.value&&(t=C.value);else return;if(t!==null&&I.push({str:t}),!!C.children)for(const p of C.children)B(p)}return B(q),$}static shouldBuildText(q){return!(q==="textarea"||q==="input"||q==="option"||q==="select")}}l.XfaText=N},(k,l,N)=>{var b,Ge;Object.defineProperty(l,"__esModule",{value:!0}),l.AnnotationLayer=void 0;var r=N(1),q=N(5),I=N(9),$=N(19),B=N(20);const C=1e3,t=new WeakSet;function u(S){return{width:S[2]-S[0],height:S[3]-S[1]}}class a{static create(e){switch(e.data.annotationType){case r.AnnotationType.LINK:return new f(e);case r.AnnotationType.TEXT:return new P(e);case r.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new g(e);case"Btn":return e.data.radioButton?new j(e):e.data.checkBox?new W(e):new R(e);case"Ch":return new v(e)}return new w(e);case r.AnnotationType.POPUP:return new s(e);case r.AnnotationType.FREETEXT:return new y(e);case r.AnnotationType.LINE:return new x(e);case r.AnnotationType.SQUARE:return new E(e);case r.AnnotationType.CIRCLE:return new M(e);case r.AnnotationType.POLYLINE:return new T(e);case r.AnnotationType.CARET:return new X(e);case r.AnnotationType.INK:return new H(e);case r.AnnotationType.POLYGON:return new L(e);case r.AnnotationType.HIGHLIGHT:return new Y(e);case r.AnnotationType.UNDERLINE:return new ee(e);case r.AnnotationType.SQUIGGLY:return new Q(e);case r.AnnotationType.STRIKEOUT:return new _(e);case r.AnnotationType.STAMP:return new i(e);case r.AnnotationType.FILEATTACHMENT:return new n(e);default:return new p(e)}}}class p{constructor(e,{isRenderable:h=!1,ignoreBorder:m=!1,createQuadrilaterals:A=!1}={}){this.isRenderable=h,this.data=e.data,this.layer=e.layer,this.page=e.page,this.viewport=e.viewport,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this._mouseState=e.mouseState,h&&(this.container=this._createContainer(m)),A&&(this.quadrilaterals=this._createQuadrilaterals(m))}_createContainer(e=!1){const h=this.data,m=this.page,A=this.viewport,c=document.createElement("section");let{width:D,height:O}=u(h.rect);c.setAttribute("data-annotation-id",h.id);const V=r.Util.normalizeRect([h.rect[0],m.view[3]-h.rect[1]+m.view[1],h.rect[2],m.view[3]-h.rect[3]+m.view[1]]);if(h.hasOwnCanvas){const z=A.transform.slice(),[K,Z]=r.Util.singularValueDecompose2dScale(z);D=Math.ceil(D*K),O=Math.ceil(O*Z),V[0]*=K,V[1]*=Z;for(let ne=0;ne<4;ne++)z[ne]=Math.sign(z[ne]);c.style.transform=`matrix(${z.join(",")})`}else c.style.transform=`matrix(${A.transform.join(",")})`;if(c.style.transformOrigin=`${-V[0]}px ${-V[1]}px`,!e&&h.borderStyle.width>0){c.style.borderWidth=`${h.borderStyle.width}px`,h.borderStyle.style!==r.AnnotationBorderStyleType.UNDERLINE&&(D-=2*h.borderStyle.width,O-=2*h.borderStyle.width);const z=h.borderStyle.horizontalCornerRadius,K=h.borderStyle.verticalCornerRadius;if(z>0||K>0){const ne=`${z}px / ${K}px`;c.style.borderRadius=ne}switch(h.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:c.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:c.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:c.style.borderBottomStyle="solid";break}h.borderColor||h.color||null?c.style.borderColor=r.Util.makeHexColor(h.color[0]|0,h.color[1]|0,h.color[2]|0):c.style.borderWidth=0}return c.style.left=`${V[0]}px`,c.style.top=`${V[1]}px`,h.hasOwnCanvas?c.style.width=c.style.height="auto":(c.style.width=`${D}px`,c.style.height=`${O}px`),c}_createQuadrilaterals(e=!1){if(!this.data.quadPoints)return null;const h=[],m=this.data.rect;for(const A of this.data.quadPoints)this.data.rect=[A[2].x,A[2].y,A[1].x,A[1].y],h.push(this._createContainer(e));return this.data.rect=m,h}_createPopup(e,h){let m=this.container;this.quadrilaterals&&(e=e||this.quadrilaterals,m=this.quadrilaterals[0]),e||(e=document.createElement("div"),e.style.height=m.style.height,e.style.width=m.style.width,m.appendChild(e));const c=new o({container:m,trigger:e,color:h.color,titleObj:h.titleObj,modificationDate:h.modificationDate,contentsObj:h.contentsObj,richText:h.richText,hideWrapper:!0}).render();c.style.left=m.style.width,m.appendChild(c)}_renderQuadrilaterals(e){for(const h of this.quadrilaterals)h.className=e;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,h=null){const m=[];if(this._fieldObjects){const A=this._fieldObjects[e];if(A)for(const{page:c,id:D,exportValues:O}of A){if(c===-1||D===h)continue;const V=typeof O=="string"?O:null,z=document.getElementById(D);if(z&&!t.has(z)){(0,r.warn)(`_getElementsByName - element not allowed: ${D}`);continue}m.push({id:D,exportValue:V,domElement:z})}return m}for(const A of document.getElementsByName(e)){const{id:c,exportValue:D}=A;c!==h&&(!t.has(A)||m.push({id:c,exportValue:D,domElement:A}))}return m}static get platform(){const e=typeof navigator!="undefined"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:e.includes("Win"),isMac:e.includes("Mac")})}}class f extends p{constructor(e,h=null){const m=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"]));super(e,{isRenderable:m,ignoreBorder:!!(h!=null&&h.ignoreBorder),createQuadrilaterals:!0})}render(){var A;const{data:e,linkService:h}=this,m=document.createElement("a");if(e.url)h.addLinkAttributes||(0,r.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance."),(A=h.addLinkAttributes)==null||A.call(h,m,e.url,e.newWindow);else if(e.action)this._bindNamedAction(m,e.action);else if(e.dest)this._bindLink(m,e.dest);else{let c=!1;e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(c=!0,this._bindJSAction(m,e)),e.resetForm?this._bindResetFormAction(m,e.resetForm):c||this._bindLink(m,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((c,D)=>{const O=D===0?m:m.cloneNode();return c.appendChild(O),c}):(this.container.className="linkAnnotation",this.container.appendChild(m),this.container)}_bindLink(e,h){e.href=this.linkService.getDestinationHash(h),e.onclick=()=>(h&&this.linkService.goToDestination(h),!1),(h||h==="")&&(e.className="internalLink")}_bindNamedAction(e,h){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(h),!1),e.className="internalLink"}_bindJSAction(e,h){e.href=this.linkService.getAnchorUrl("");const m=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const A of Object.keys(h.actions)){const c=m.get(A);!c||(e[c]=()=>{var D;return(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:h.id,name:A}}),!1})}e.onclick||(e.onclick=()=>!1),e.className="internalLink"}_bindResetFormAction(e,h){const m=e.onclick;if(m||(e.href=this.linkService.getAnchorUrl("")),e.className="internalLink",!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),m||(e.onclick=()=>!1);return}e.onclick=()=>{var K;m&&m();const{fields:A,refs:c,include:D}=h,O=[];if(A.length!==0||c.length!==0){const Z=new Set(c);for(const ne of A){const te=this._fieldObjects[ne]||[];for(const{id:se}of te)Z.add(se)}for(const ne of Object.values(this._fieldObjects))for(const te of ne)Z.has(te.id)===D&&O.push(te)}else for(const Z of Object.values(this._fieldObjects))O.push(...Z);const V=this.annotationStorage,z=[];for(const Z of O){const{id:ne}=Z;switch(z.push(ne),Z.type){case"text":{const se=Z.defaultValue||"";V.setValue(ne,{value:se,valueAsString:se});break}case"checkbox":case"radiobutton":{const se=Z.defaultValue===Z.exportValues;V.setValue(ne,{value:se});break}case"combobox":case"listbox":{const se=Z.defaultValue||"";V.setValue(ne,{value:se});break}default:continue}const te=document.getElementById(ne);!te||!t.has(te)||te.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((K=this.linkService.eventBus)==null||K.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:z,name:"ResetForm"}})),!1}}}class P extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h})}render(){this.container.className="textAnnotation";const e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(e,this.data),this.container.appendChild(e),this.container}}class w extends p{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(e){const{isWin:h,isMac:m}=p.platform;return h&&e.ctrlKey||m&&e.metaKey}_setEventListener(e,h,m,A){h.includes("mouse")?e.addEventListener(h,c=>{var D;(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:m,value:A(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(h,c=>{var D;(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:m,value:A(c)}})})}_setEventListeners(e,h,m){var A;for(const[c,D]of h)(D==="Action"||((A=this.data.actions)==null?void 0:A[D]))&&this._setEventListener(e,c,D,m)}_setBackgroundColor(e){const h=this.data.backgroundColor||null;e.style.backgroundColor=h===null?"transparent":r.Util.makeHexColor(h[0],h[1],h[2])}_dispatchEventFromSandbox(e,h){const m=(c,D,O)=>{const V=O.detail[c];O.target.style[D]=$.ColorConverters[`${V[0]}_HTML`](V.slice(1))},A={display:c=>{const D=c.detail.display%2===1;c.target.style.visibility=D?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:D,print:c.detail.display===0||c.detail.display===3})},print:c=>{this.annotationStorage.setValue(this.data.id,{print:c.detail.print})},hidden:c=>{c.target.style.visibility=c.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:c.detail.hidden})},focus:c=>{setTimeout(()=>c.target.focus({preventScroll:!1}),0)},userName:c=>{c.target.title=c.detail.userName},readonly:c=>{c.detail.readonly?c.target.setAttribute("readonly",""):c.target.removeAttribute("readonly")},required:c=>{c.detail.required?c.target.setAttribute("required",""):c.target.removeAttribute("required")},bgColor:c=>{m("bgColor","backgroundColor",c)},fillColor:c=>{m("fillColor","backgroundColor",c)},fgColor:c=>{m("fgColor","color",c)},textColor:c=>{m("textColor","color",c)},borderColor:c=>{m("borderColor","borderColor",c)},strokeColor:c=>{m("strokeColor","borderColor",c)}};for(const c of Object.keys(h.detail)){const D=e[c]||A[c];D&&D(h)}}}class g extends w{constructor(e){const h=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:h})}setPropertyOnSiblings(e,h,m,A){const c=this.annotationStorage;for(const D of this._getElementsByName(e.name,e.id))D.domElement&&(D.domElement[h]=m),c.setValue(D.id,{[A]:m})}render(){var A;const e=this.annotationStorage,h=this.data.id;this.container.className="textWidgetAnnotation";let m=null;if(this.renderForms){const c=e.getValue(h,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),D=c.valueAsString||c.value||"",O={userValue:null,formattedValue:null};this.data.multiLine?(m=document.createElement("textarea"),m.textContent=D):(m=document.createElement("input"),m.type="text",m.setAttribute("value",D)),t.add(m),m.disabled=this.data.readOnly,m.name=this.data.fieldName,m.tabIndex=C,O.userValue=D,m.setAttribute("id",h),m.addEventListener("input",z=>{e.setValue(h,{value:z.target.value}),this.setPropertyOnSiblings(m,"value",z.target.value,"value")}),m.addEventListener("resetform",z=>{const K=this.data.defaultFieldValue||"";m.value=O.userValue=K,delete O.formattedValue});let V=z=>{O.formattedValue&&(z.target.value=O.formattedValue),z.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){m.addEventListener("focus",K=>{O.userValue&&(K.target.value=O.userValue)}),m.addEventListener("updatefromsandbox",K=>{const Z={value(ne){O.userValue=ne.detail.value||"",e.setValue(h,{value:O.userValue.toString()}),O.formattedValue||(ne.target.value=O.userValue)},valueAsString(ne){O.formattedValue=ne.detail.valueAsString||"",ne.target!==document.activeElement&&(ne.target.value=O.formattedValue),e.setValue(h,{formattedValue:O.formattedValue})},selRange(ne){const[te,se]=ne.detail.selRange;te>=0&&se<ne.target.value.length&&ne.target.setSelectionRange(te,se)}};this._dispatchEventFromSandbox(Z,K)}),m.addEventListener("keydown",K=>{var ne;let Z=-1;K.key==="Escape"?Z=0:K.key==="Enter"?Z=2:K.key==="Tab"&&(Z=3),Z!==-1&&(O.userValue=K.target.value,(ne=this.linkService.eventBus)==null||ne.dispatch("dispatcheventinsandbox",{source:this,detail:{id:h,name:"Keystroke",value:K.target.value,willCommit:!0,commitKey:Z,selStart:K.target.selectionStart,selEnd:K.target.selectionEnd}}))});const z=V;V=null,m.addEventListener("blur",K=>{var Z;O.userValue=K.target.value,this._mouseState.isDown&&((Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:h,name:"Keystroke",value:K.target.value,willCommit:!0,commitKey:1,selStart:K.target.selectionStart,selEnd:K.target.selectionEnd}})),z(K)}),(A=this.data.actions)!=null&&A.Keystroke&&m.addEventListener("beforeinput",K=>{var re;O.formattedValue="";const{data:Z,target:ne}=K,{value:te,selectionStart:se,selectionEnd:ue}=ne;(re=this.linkService.eventBus)==null||re.dispatch("dispatcheventinsandbox",{source:this,detail:{id:h,name:"Keystroke",value:te,change:Z,willCommit:!1,selStart:se,selEnd:ue}})}),this._setEventListeners(m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],K=>K.target.value)}if(V&&m.addEventListener("blur",V),this.data.maxLen!==null&&(m.maxLength=this.data.maxLen),this.data.comb){const K=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;m.classList.add("comb"),m.style.letterSpacing=`calc(${K}px - 1ch)`}}else m=document.createElement("div"),m.textContent=this.data.fieldValue,m.style.verticalAlign="middle",m.style.display="table-cell";return this._setTextStyle(m),this._setBackgroundColor(m),this.container.appendChild(m),this.container}_setTextStyle(e){const h=["left","center","right"],{fontSize:m,fontColor:A}=this.data.defaultAppearanceData,c=e.style;m&&(c.fontSize=`${m}px`),c.color=r.Util.makeHexColor(A[0],A[1],A[2]),this.data.textAlignment!==null&&(c.textAlign=h[this.data.textAlignment])}}class W extends w{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,h=this.data,m=h.id;let A=e.getValue(m,{value:h.exportValue===h.fieldValue}).value;typeof A=="string"&&(A=A!=="Off",e.setValue(m,{value:A})),this.container.className="buttonWidgetAnnotation checkBox";const c=document.createElement("input");return t.add(c),c.disabled=h.readOnly,c.type="checkbox",c.name=h.fieldName,A&&c.setAttribute("checked",!0),c.setAttribute("id",m),c.setAttribute("exportValue",h.exportValue),c.tabIndex=C,c.addEventListener("change",D=>{const{name:O,checked:V}=D.target;for(const z of this._getElementsByName(O,m)){const K=V&&z.exportValue===h.exportValue;z.domElement&&(z.domElement.checked=K),e.setValue(z.id,{value:K})}e.setValue(m,{value:V})}),c.addEventListener("resetform",D=>{const O=h.defaultFieldValue||"Off";D.target.checked=O===h.exportValue}),this.enableScripting&&this.hasJSActions&&(c.addEventListener("updatefromsandbox",D=>{const O={value(V){V.target.checked=V.detail.value!=="Off",e.setValue(m,{value:V.target.checked})}};this._dispatchEventFromSandbox(O,D)}),this._setEventListeners(c,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],D=>D.target.checked)),this._setBackgroundColor(c),this.container.appendChild(c),this.container}}class j extends w{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const e=this.annotationStorage,h=this.data,m=h.id;let A=e.getValue(m,{value:h.fieldValue===h.buttonValue}).value;typeof A=="string"&&(A=A!==h.buttonValue,e.setValue(m,{value:A}));const c=document.createElement("input");if(t.add(c),c.disabled=h.readOnly,c.type="radio",c.name=h.fieldName,A&&c.setAttribute("checked",!0),c.setAttribute("id",m),c.tabIndex=C,c.addEventListener("change",D=>{const{name:O,checked:V}=D.target;for(const z of this._getElementsByName(O,m))e.setValue(z.id,{value:!1});e.setValue(m,{value:V})}),c.addEventListener("resetform",D=>{const O=h.defaultFieldValue;D.target.checked=O!=null&&O===h.buttonValue}),this.enableScripting&&this.hasJSActions){const D=h.buttonValue;c.addEventListener("updatefromsandbox",O=>{const V={value:z=>{const K=D===z.detail.value;for(const Z of this._getElementsByName(z.target.name)){const ne=K&&Z.id===m;Z.domElement&&(Z.domElement.checked=ne),e.setValue(Z.id,{value:ne})}}};this._dispatchEventFromSandbox(V,O)}),this._setEventListeners(c,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],O=>O.target.checked)}return this._setBackgroundColor(c),this.container.appendChild(c),this.container}}class R extends f{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();return e.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(e.title=this.data.alternativeText),e}}class v extends w{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const e=this.annotationStorage,h=this.data.id;e.getValue(h,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});let{fontSize:m}=this.data.defaultAppearanceData;m||(m=9);const A=`calc(${m}px * var(--zoom-factor))`,c=document.createElement("select");t.add(c),c.disabled=this.data.readOnly,c.name=this.data.fieldName,c.setAttribute("id",h),c.tabIndex=C,c.style.fontSize=`${m}px`,this.data.combo||(c.size=this.data.options.length,this.data.multiSelect&&(c.multiple=!0)),c.addEventListener("resetform",V=>{const z=this.data.defaultFieldValue;for(const K of c.options)K.selected=K.value===z});for(const V of this.data.options){const z=document.createElement("option");z.textContent=V.displayValue,z.value=V.exportValue,this.data.combo&&(z.style.fontSize=A),this.data.fieldValue.includes(V.exportValue)&&z.setAttribute("selected",!0),c.appendChild(z)}const D=(V,z)=>{const K=z?"value":"textContent",Z=V.target.options;return V.target.multiple?Array.prototype.filter.call(Z,ne=>ne.selected).map(ne=>ne[K]):Z.selectedIndex===-1?null:Z[Z.selectedIndex][K]},O=V=>{const z=V.target.options;return Array.prototype.map.call(z,K=>({displayValue:K.textContent,exportValue:K.value}))};return this.enableScripting&&this.hasJSActions?(c.addEventListener("updatefromsandbox",V=>{const z={value(K){const Z=K.detail.value,ne=new Set(Array.isArray(Z)?Z:[Z]);for(const te of c.options)te.selected=ne.has(te.value);e.setValue(h,{value:D(K,!0)})},multipleSelection(K){c.multiple=!0},remove(K){const Z=c.options,ne=K.detail.remove;Z[ne].selected=!1,c.remove(ne),Z.length>0&&Array.prototype.findIndex.call(Z,se=>se.selected)===-1&&(Z[0].selected=!0),e.setValue(h,{value:D(K,!0),items:O(K)})},clear(K){for(;c.length!==0;)c.remove(0);e.setValue(h,{value:null,items:[]})},insert(K){const{index:Z,displayValue:ne,exportValue:te}=K.detail.insert,se=document.createElement("option");se.textContent=ne,se.value=te,c.insertBefore(se,c.children[Z]),e.setValue(h,{value:D(K,!0),items:O(K)})},items(K){const{items:Z}=K.detail;for(;c.length!==0;)c.remove(0);for(const ne of Z){const{displayValue:te,exportValue:se}=ne,ue=document.createElement("option");ue.textContent=te,ue.value=se,c.appendChild(ue)}c.options.length>0&&(c.options[0].selected=!0),e.setValue(h,{value:D(K,!0),items:O(K)})},indices(K){const Z=new Set(K.detail.indices);for(const ne of K.target.options)ne.selected=Z.has(ne.index);e.setValue(h,{value:D(K,!0)})},editable(K){K.target.disabled=!K.detail.editable}};this._dispatchEventFromSandbox(z,V)}),c.addEventListener("input",V=>{var Z;const z=D(V,!0),K=D(V,!1);e.setValue(h,{value:z}),(Z=this.linkService.eventBus)==null||Z.dispatch("dispatcheventinsandbox",{source:this,detail:{id:h,name:"Keystroke",value:K,changeEx:z,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],V=>V.target.checked)):c.addEventListener("input",function(V){e.setValue(h,{value:D(V)})}),this._setBackgroundColor(c),this.container.appendChild(c),this.container}}class s extends p{constructor(e){var m,A,c;const h=!!(((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h})}render(){const e=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",e.includes(this.data.parentType))return this.container;const h=`[data-annotation-id="${this.data.parentId}"]`,m=this.layer.querySelectorAll(h);if(m.length===0)return this.container;const A=new o({container:this.container,trigger:Array.from(m),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),c=this.page,D=r.Util.normalizeRect([this.data.parentRect[0],c.view[3]-this.data.parentRect[1]+c.view[1],this.data.parentRect[2],c.view[3]-this.data.parentRect[3]+c.view[1]]),O=D[0]+this.data.parentRect[2]-this.data.parentRect[0],V=D[1];return this.container.style.transformOrigin=`${-O}px ${-V}px`,this.container.style.left=`${O}px`,this.container.style.top=`${V}px`,this.container.appendChild(A.render()),this.container}}class o{constructor(e){this.container=e.container,this.trigger=e.trigger,this.color=e.color,this.titleObj=e.titleObj,this.modificationDate=e.modificationDate,this.contentsObj=e.contentsObj,this.richText=e.richText,this.hideWrapper=e.hideWrapper||!1,this.pinned=!1}render(){var O,V;const h=document.createElement("div");h.className="popupWrapper",this.hideElement=this.hideWrapper?h:this.container,this.hideElement.hidden=!0;const m=document.createElement("div");m.className="popup";const A=this.color;if(A){const z=.7*(255-A[0])+A[0],K=.7*(255-A[1])+A[1],Z=.7*(255-A[2])+A[2];m.style.backgroundColor=r.Util.makeHexColor(z|0,K|0,Z|0)}const c=document.createElement("h1");c.dir=this.titleObj.dir,c.textContent=this.titleObj.str,m.appendChild(c);const D=q.PDFDateString.toDateObject(this.modificationDate);if(D){const z=document.createElement("span");z.className="popupDate",z.textContent="{{date}}, {{time}}",z.dataset.l10nId="annotation_date_string",z.dataset.l10nArgs=JSON.stringify({date:D.toLocaleDateString(),time:D.toLocaleTimeString()}),m.appendChild(z)}if(((O=this.richText)==null?void 0:O.str)&&(!((V=this.contentsObj)!=null&&V.str)||this.contentsObj.str===this.richText.str))B.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:m}),m.lastChild.className="richText popupContent";else{const z=this._formatContents(this.contentsObj);m.appendChild(z)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const z of this.trigger)z.addEventListener("click",this._toggle.bind(this)),z.addEventListener("mouseover",this._show.bind(this,!1)),z.addEventListener("mouseout",this._hide.bind(this,!1));return m.addEventListener("click",this._hide.bind(this,!0)),h.appendChild(m),h}_formatContents({str:e,dir:h}){const m=document.createElement("p");m.className="popupContent",m.dir=h;const A=e.split(/(?:\r\n?|\n)/);for(let c=0,D=A.length;c<D;++c){const O=A[c];m.appendChild(document.createTextNode(O)),c<D-1&&m.appendChild(document.createElement("br"))}return m}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(e=!1){e&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(e=!0){e&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class y extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class x extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const e=this.data,{width:h,height:m}=u(e.rect),A=this.svgFactory.create(h,m),c=this.svgFactory.createElement("svg:line");return c.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),c.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),c.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),c.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),c.setAttribute("stroke-width",e.borderStyle.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),A.appendChild(c),this.container.append(A),this._createPopup(c,e),this.container}}class E extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const e=this.data,{width:h,height:m}=u(e.rect),A=this.svgFactory.create(h,m),c=e.borderStyle.width,D=this.svgFactory.createElement("svg:rect");return D.setAttribute("x",c/2),D.setAttribute("y",c/2),D.setAttribute("width",h-c),D.setAttribute("height",m-c),D.setAttribute("stroke-width",c||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),A.appendChild(D),this.container.append(A),this._createPopup(D,e),this.container}}class M extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const e=this.data,{width:h,height:m}=u(e.rect),A=this.svgFactory.create(h,m),c=e.borderStyle.width,D=this.svgFactory.createElement("svg:ellipse");return D.setAttribute("cx",h/2),D.setAttribute("cy",m/2),D.setAttribute("rx",h/2-c/2),D.setAttribute("ry",m/2-c/2),D.setAttribute("stroke-width",c||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),A.appendChild(D),this.container.append(A),this._createPopup(D,e),this.container}}class T extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0});this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:h,height:m}=u(e.rect),A=this.svgFactory.create(h,m);let c=[];for(const O of e.vertices){const V=O.x-e.rect[0],z=e.rect[3]-O.y;c.push(V+","+z)}c=c.join(" ");const D=this.svgFactory.createElement(this.svgElementName);return D.setAttribute("points",c),D.setAttribute("stroke-width",e.borderStyle.width||1),D.setAttribute("stroke","transparent"),D.setAttribute("fill","transparent"),A.appendChild(D),this.container.append(A),this._createPopup(D,e),this.container}}class L extends T{constructor(e){super(e);this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class X extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class H extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0});this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const e=this.data,{width:h,height:m}=u(e.rect),A=this.svgFactory.create(h,m);for(const c of e.inkLists){let D=[];for(const V of c){const z=V.x-e.rect[0],K=e.rect[3]-V.y;D.push(`${z},${K}`)}D=D.join(" ");const O=this.svgFactory.createElement(this.svgElementName);O.setAttribute("points",D),O.setAttribute("stroke-width",e.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),this._createPopup(O,e),A.appendChild(O)}return this.container.append(A),this.container}}class Y extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ee extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Q extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class _ extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class i extends p{constructor(e){var m,A,c;const h=!!(e.data.hasPopup||((m=e.data.titleObj)==null?void 0:m.str)||((A=e.data.contentsObj)==null?void 0:A.str)||((c=e.data.richText)==null?void 0:c.str));super(e,{isRenderable:h,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class n extends p{constructor(e){super(e,{isRenderable:!0});var A;const{filename:h,content:m}=this.data.file;this.filename=(0,q.getFilenameFromUrl)(h),this.content=m,(A=this.linkService.eventBus)==null||A.dispatch("fileattachmentannotation",{source:this,id:(0,r.stringToPDFString)(h),filename:h,content:m})}render(){var h,m;this.container.className="fileAttachmentAnnotation";const e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(((h=this.data.titleObj)==null?void 0:h.str)||((m=this.data.contentsObj)==null?void 0:m.str)||this.data.richText)&&this._createPopup(e,this.data),this.container.appendChild(e),this.container}_download(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.container,this.content,this.filename)}}class d{static render(e){const h=[],m=[];for(const c of e.annotations){if(!c)continue;const{width:D,height:O}=u(c.rect);if(!(D<=0||O<=0)){if(c.annotationType===r.AnnotationType.POPUP){m.push(c);continue}h.push(c)}}m.length&&h.push(...m);const A=e.div;for(const c of h){const D=a.create({data:c,layer:A,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new q.DOMSVGFactory,annotationStorage:e.annotationStorage||new I.AnnotationStorage,enableScripting:e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,mouseState:e.mouseState||{isDown:!1}});if(D.isRenderable){const O=D.render();if(c.hidden&&(O.style.visibility="hidden"),Array.isArray(O))for(const V of O)A.appendChild(V);else D instanceof s?A.prepend(O):A.appendChild(O)}}Me(this,b,Ge).call(this,A,e.annotationCanvasMap)}static update(e){const{page:h,viewport:m,annotations:A,annotationCanvasMap:c,div:D}=e,O=m.transform,V=`matrix(${O.join(",")})`;let z,K;for(const Z of A){const ne=D.querySelectorAll(`[data-annotation-id="${Z.id}"]`);if(ne)for(const te of ne)if(Z.hasOwnCanvas){const se=r.Util.normalizeRect([Z.rect[0],h.view[3]-Z.rect[1]+h.view[1],Z.rect[2],h.view[3]-Z.rect[3]+h.view[1]]);if(!K){z=Math.abs(O[0]||O[1]);const oe=O.slice();for(let le=0;le<4;le++)oe[le]=Math.sign(oe[le]);K=`matrix(${oe.join(",")})`}const ue=se[0]*z,re=se[1]*z;te.style.left=`${ue}px`,te.style.top=`${re}px`,te.style.transformOrigin=`${-ue}px ${-re}px`,te.style.transform=K}else te.style.transform=V}Me(this,b,Ge).call(this,D,c),D.hidden=!1}}b=new WeakSet,Ge=function(e,h){if(!!h){for(const[m,A]of h){const c=e.querySelector(`[data-annotation-id="${m}"]`);if(!c)continue;const{firstChild:D}=c;D.nodeName==="CANVAS"?c.replaceChild(A,D):c.insertBefore(A,D)}h.clear()}},ve(d,b),l.AnnotationLayer=d},(k,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorConverters=void 0;function N(q){return Math.floor(Math.max(0,Math.min(1,q))*255).toString(16).padStart(2,"0")}class r{static CMYK_G([I,$,B,C]){return["G",1-Math.min(1,.3*I+.59*B+.11*$+C)]}static G_CMYK([I]){return["CMYK",0,0,0,1-I]}static G_RGB([I]){return["RGB",I,I,I]}static G_HTML([I]){const $=N(I);return`#${$}${$}${$}`}static RGB_G([I,$,B]){return["G",.3*I+.59*$+.11*B]}static RGB_HTML([I,$,B]){const C=N(I),t=N($),u=N(B);return`#${C}${t}${u}`}static T_HTML(){return"#00000000"}static CMYK_RGB([I,$,B,C]){return["RGB",1-Math.min(1,I+C),1-Math.min(1,B+C),1-Math.min(1,$+C)]}static CMYK_HTML(I){return this.RGB_HTML(this.CMYK_RGB(I))}static RGB_CMYK([I,$,B]){const C=1-I,t=1-$,u=1-B,a=Math.min(C,t,u);return["CMYK",C,t,u,a]}}l.ColorConverters=r},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.XfaLayer=void 0;var r=N(1),q=N(17);class I{static setupStorage(B,C,t,u,a){const p=u.getValue(C,{value:null});switch(t.name){case"textarea":if(p.value!==null&&(B.textContent=p.value),a==="print")break;B.addEventListener("input",f=>{u.setValue(C,{value:f.target.value})});break;case"input":if(t.attributes.type==="radio"||t.attributes.type==="checkbox"){if(p.value===t.attributes.xfaOn?B.setAttribute("checked",!0):p.value===t.attributes.xfaOff&&B.removeAttribute("checked"),a==="print")break;B.addEventListener("change",f=>{u.setValue(C,{value:f.target.checked?f.target.getAttribute("xfaOn"):f.target.getAttribute("xfaOff")})})}else{if(p.value!==null&&B.setAttribute("value",p.value),a==="print")break;B.addEventListener("input",f=>{u.setValue(C,{value:f.target.value})})}break;case"select":if(p.value!==null)for(const f of t.children)f.attributes.value===p.value&&(f.attributes.selected=!0);B.addEventListener("input",f=>{const P=f.target.options,w=P.selectedIndex===-1?"":P[P.selectedIndex].value;u.setValue(C,{value:w})});break}}static setAttributes({html:B,element:C,storage:t=null,intent:u,linkService:a}){var P;const{attributes:p}=C,f=B instanceof HTMLAnchorElement;p.type==="radio"&&(p.name=`${p.name}-${u}`);for(const[w,g]of Object.entries(p))if(!(g==null||w==="dataId"))if(w!=="style")if(w==="textContent")B.textContent=g;else if(w==="class")g.length&&B.setAttribute(w,g.join(" "));else{if(f&&(w==="href"||w==="newWindow"))continue;B.setAttribute(w,g)}else Object.assign(B.style,g);f&&(a.addLinkAttributes||(0,r.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance."),(P=a.addLinkAttributes)==null||P.call(a,B,p.href,p.newWindow)),t&&p.dataId&&this.setupStorage(B,p.dataId,C,t)}static render(B){var g;const C=B.annotationStorage,t=B.linkService,u=B.xfaHtml,a=B.intent||"display",p=document.createElement(u.name);u.attributes&&this.setAttributes({html:p,element:u,intent:a,linkService:t});const f=[[u,-1,p]],P=B.div;if(P.appendChild(p),B.viewport){const W=`matrix(${B.viewport.transform.join(",")})`;P.style.transform=W}a!=="richText"&&P.setAttribute("class","xfaLayer xfaFont");const w=[];for(;f.length>0;){const[W,j,R]=f[f.length-1];if(j+1===W.children.length){f.pop();continue}const v=W.children[++f[f.length-1][1]];if(v===null)continue;const{name:s}=v;if(s==="#text"){const y=document.createTextNode(v.value);w.push(y),R.appendChild(y);continue}let o;if((g=v==null?void 0:v.attributes)!=null&&g.xmlns?o=document.createElementNS(v.attributes.xmlns,s):o=document.createElement(s),R.appendChild(o),v.attributes&&this.setAttributes({html:o,element:v,storage:C,intent:a,linkService:t}),v.children&&v.children.length>0)f.push([v,-1,o]);else if(v.value){const y=document.createTextNode(v.value);q.XfaText.shouldBuildText(s)&&w.push(y),o.appendChild(y)}}for(const W of P.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))W.setAttribute("readOnly",!0);return{textDivs:w}}static update(B){const C=`matrix(${B.viewport.transform.join(",")})`;B.div.style.transform=C,B.div.hidden=!1}}l.XfaLayer=I},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.renderTextLayer=W;var r=N(1);const q=1e5,I=30,$=.8,B=new Map,C=/^\s+$/g;function t(j,R){const v=B.get(j);if(v)return v;R.save(),R.font=`${I}px ${j}`;const s=R.measureText("");let o=s.fontBoundingBoxAscent,y=Math.abs(s.fontBoundingBoxDescent);if(o){R.restore();const E=o/(o+y);return B.set(j,E),E}R.strokeStyle="red",R.clearRect(0,0,I,I),R.strokeText("g",0,0);let x=R.getImageData(0,0,I,I).data;y=0;for(let E=x.length-1-3;E>=0;E-=4)if(x[E]>0){y=Math.ceil(E/4/I);break}R.clearRect(0,0,I,I),R.strokeText("A",0,I),x=R.getImageData(0,0,I,I).data,o=0;for(let E=0,M=x.length;E<M;E+=4)if(x[E]>0){o=I-Math.floor(E/4/I);break}if(R.restore(),o){const E=o/(o+y);return B.set(j,E),E}return B.set(j,$),$}function u(j,R,v,s){const o=document.createElement("span"),y=j._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:R.str!=="",hasEOL:R.hasEOL};j._textDivs.push(o);const x=r.Util.transform(j._viewport.transform,R.transform);let E=Math.atan2(x[1],x[0]);const M=v[R.fontName];M.vertical&&(E+=Math.PI/2);const T=Math.hypot(x[2],x[3]),L=T*t(M.fontFamily,s);let X,H;E===0?(X=x[4],H=x[5]-L):(X=x[4]+L*Math.sin(E),H=x[5]-L*Math.cos(E)),o.style.left=`${X}px`,o.style.top=`${H}px`,o.style.fontSize=`${T}px`,o.style.fontFamily=M.fontFamily,o.setAttribute("role","presentation"),o.textContent=R.str,o.dir=R.dir,j._fontInspectorEnabled&&(o.dataset.fontName=R.fontName),E!==0&&(y.angle=E*(180/Math.PI));let Y=!1;if(R.str.length>1||j._enhanceTextSelection&&C.test(R.str))Y=!0;else if(R.str!==" "&&R.transform[0]!==R.transform[3]){const ee=Math.abs(R.transform[0]),Q=Math.abs(R.transform[3]);ee!==Q&&Math.max(ee,Q)/Math.min(ee,Q)>1.5&&(Y=!0)}if(Y&&(M.vertical?y.canvasWidth=R.height*j._viewport.scale:y.canvasWidth=R.width*j._viewport.scale),j._textDivProperties.set(o,y),j._textContentStream&&j._layoutText(o),j._enhanceTextSelection&&y.hasText){let ee=1,Q=0;E!==0&&(ee=Math.cos(E),Q=Math.sin(E));const _=(M.vertical?R.height:R.width)*j._viewport.scale,i=T;let n,d;E!==0?(n=[ee,Q,-Q,ee,X,H],d=r.Util.getAxialAlignedBoundingBox([0,0,_,i],n)):d=[X,H,X+_,H+i],j._bounds.push({left:d[0],top:d[1],right:d[2],bottom:d[3],div:o,size:[_,i],m:n})}}function a(j){if(j._canceled)return;const R=j._textDivs,v=j._capability,s=R.length;if(s>q){j._renderingDone=!0,v.resolve();return}if(!j._textContentStream)for(let o=0;o<s;o++)j._layoutText(R[o]);j._renderingDone=!0,v.resolve()}function p(j,R,v){let s=0;for(let o=0;o<v;o++){const y=j[R++];y>0&&(s=s?Math.min(y,s):y)}return s}function f(j){const R=j._bounds,v=j._viewport,s=P(v.width,v.height,R);for(let o=0;o<s.length;o++){const y=R[o].div,x=j._textDivProperties.get(y);if(x.angle===0){x.paddingLeft=R[o].left-s[o].left,x.paddingTop=R[o].top-s[o].top,x.paddingRight=s[o].right-R[o].right,x.paddingBottom=s[o].bottom-R[o].bottom,j._textDivProperties.set(y,x);continue}const E=s[o],M=R[o],T=M.m,L=T[0],X=T[1],H=[[0,0],[0,M.size[1]],[M.size[0],0],M.size],Y=new Float64Array(64);for(let Q=0,_=H.length;Q<_;Q++){const i=r.Util.applyTransform(H[Q],T);Y[Q+0]=L&&(E.left-i[0])/L,Y[Q+4]=X&&(E.top-i[1])/X,Y[Q+8]=L&&(E.right-i[0])/L,Y[Q+12]=X&&(E.bottom-i[1])/X,Y[Q+16]=X&&(E.left-i[0])/-X,Y[Q+20]=L&&(E.top-i[1])/L,Y[Q+24]=X&&(E.right-i[0])/-X,Y[Q+28]=L&&(E.bottom-i[1])/L,Y[Q+32]=L&&(E.left-i[0])/-L,Y[Q+36]=X&&(E.top-i[1])/-X,Y[Q+40]=L&&(E.right-i[0])/-L,Y[Q+44]=X&&(E.bottom-i[1])/-X,Y[Q+48]=X&&(E.left-i[0])/X,Y[Q+52]=L&&(E.top-i[1])/-L,Y[Q+56]=X&&(E.right-i[0])/X,Y[Q+60]=L&&(E.bottom-i[1])/-L}const ee=1+Math.min(Math.abs(L),Math.abs(X));x.paddingLeft=p(Y,32,16)/ee,x.paddingTop=p(Y,48,16)/ee,x.paddingRight=p(Y,0,16)/ee,x.paddingBottom=p(Y,16,16)/ee,j._textDivProperties.set(y,x)}}function P(j,R,v){const s=v.map(function(y,x){return{x1:y.left,y1:y.top,x2:y.right,y2:y.bottom,index:x,x1New:void 0,x2New:void 0}});w(j,s);const o=new Array(v.length);for(const y of s){const x=y.index;o[x]={left:y.x1New,top:0,right:y.x2New,bottom:0}}v.map(function(y,x){const E=o[x],M=s[x];M.x1=y.top,M.y1=j-E.right,M.x2=y.bottom,M.y2=j-E.left,M.index=x,M.x1New=void 0,M.x2New=void 0}),w(R,s);for(const y of s){const x=y.index;o[x].top=y.x1New,o[x].bottom=y.x2New}return o}function w(j,R){R.sort(function(o,y){return o.x1-y.x1||o.index-y.index});const s=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const o of R){let y=0;for(;y<s.length&&s[y].end<=o.y1;)y++;let x=s.length-1;for(;x>=0&&s[x].start>=o.y2;)x--;let E,M,T,L,X=-1/0;for(T=y;T<=x;T++){E=s[T],M=E.boundary;let ee;M.x2>o.x1?ee=M.index>o.index?M.x1New:o.x1:M.x2New===void 0?ee=(M.x2+o.x1)/2:ee=M.x2New,ee>X&&(X=ee)}for(o.x1New=X,T=y;T<=x;T++)E=s[T],M=E.boundary,M.x2New===void 0?M.x2>o.x1?M.index>o.index&&(M.x2New=M.x2):M.x2New=X:M.x2New>X&&(M.x2New=Math.max(X,M.x2));const H=[];let Y=null;for(T=y;T<=x;T++){E=s[T],M=E.boundary;const ee=M.x2>o.x2?M:o;Y===ee?H[H.length-1].end=E.end:(H.push({start:E.start,end:E.end,boundary:ee}),Y=ee)}for(s[y].start<o.y1&&(H[0].start=o.y1,H.unshift({start:s[y].start,end:o.y1,boundary:s[y].boundary})),o.y2<s[x].end&&(H[H.length-1].end=o.y2,H.push({start:o.y2,end:s[x].end,boundary:s[x].boundary})),T=y;T<=x;T++){if(E=s[T],M=E.boundary,M.x2New!==void 0)continue;let ee=!1;for(L=y-1;!ee&&L>=0&&s[L].start>=M.y1;L--)ee=s[L].boundary===M;for(L=x+1;!ee&&L<s.length&&s[L].end<=M.y2;L++)ee=s[L].boundary===M;for(L=0;!ee&&L<H.length;L++)ee=H[L].boundary===M;ee||(M.x2New=X)}Array.prototype.splice.apply(s,[y,x-y+1].concat(H))}for(const o of s){const y=o.boundary;y.x2New===void 0&&(y.x2New=Math.max(j,y.x2))}}class g{constructor({textContent:R,textContentStream:v,container:s,viewport:o,textDivs:y,textContentItemsStr:x,enhanceTextSelection:E}){var M;this._textContent=R,this._textContentStream=v,this._container=s,this._document=s.ownerDocument,this._viewport=o,this._textDivs=y||[],this._textContentItemsStr=x||[],this._enhanceTextSelection=!!E,this._fontInspectorEnabled=!!((M=globalThis.FontInspector)!=null&&M.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(R,v){for(let s=0,o=R.length;s<o;s++){if(R[s].str===void 0){if(R[s].type==="beginMarkedContentProps"||R[s].type==="beginMarkedContent"){const y=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),R[s].id!==null&&this._container.setAttribute("id",`${R[s].id}`),y.appendChild(this._container)}else R[s].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(R[s].str),u(this,R[s],v,this._layoutTextCtx)}}_layoutText(R){const v=this._textDivProperties.get(R);let s="";if(v.canvasWidth!==0&&v.hasText){const{fontSize:o,fontFamily:y}=R.style;(o!==this._layoutTextLastFontSize||y!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${o} ${y}`,this._layoutTextLastFontSize=o,this._layoutTextLastFontFamily=y);const{width:x}=this._layoutTextCtx.measureText(R.textContent);if(x>0){const E=v.canvasWidth/x;this._enhanceTextSelection&&(v.scale=E),s=`scaleX(${E})`}}if(v.angle!==0&&(s=`rotate(${v.angle}deg) ${s}`),s.length>0&&(this._enhanceTextSelection&&(v.originalTransform=s),R.style.transform=s),v.hasText&&this._container.appendChild(R),v.hasEOL){const o=document.createElement("br");o.setAttribute("role","presentation"),this._container.appendChild(o)}}_render(R=0){const v=(0,r.createPromiseCapability)();let s=Object.create(null);const o=this._document.createElement("canvas");if(o.height=o.width=I,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent){const y=this._textContent.items,x=this._textContent.styles;this._processItems(y,x),v.resolve()}else if(this._textContentStream){const y=()=>{this._reader.read().then(({value:x,done:E})=>{if(E){v.resolve();return}Object.assign(s,x.styles),this._processItems(x.items,s),y()},v.reject)};this._reader=this._textContentStream.getReader(),y()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');v.promise.then(()=>{s=null,R?this._renderTimer=setTimeout(()=>{a(this),this._renderTimer=null},R):a(this)},this._capability.reject)}expandTextDivs(R=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(f(this),this._bounds=null);const v=[],s=[];for(let o=0,y=this._textDivs.length;o<y;o++){const x=this._textDivs[o],E=this._textDivProperties.get(x);!E.hasText||(R?(v.length=0,s.length=0,E.originalTransform&&v.push(E.originalTransform),E.paddingTop>0?(s.push(`${E.paddingTop}px`),v.push(`translateY(${-E.paddingTop}px)`)):s.push(0),E.paddingRight>0?s.push(`${E.paddingRight/E.scale}px`):s.push(0),E.paddingBottom>0?s.push(`${E.paddingBottom}px`):s.push(0),E.paddingLeft>0?(s.push(`${E.paddingLeft/E.scale}px`),v.push(`translateX(${-E.paddingLeft/E.scale}px)`)):s.push(0),x.style.padding=s.join(" "),v.length&&(x.style.transform=v.join(" "))):(x.style.padding=null,x.style.transform=E.originalTransform))}}}function W(j){const R=new g({textContent:j.textContent,textContentStream:j.textContentStream,container:j.container,viewport:j.viewport,textDivs:j.textDivs,textContentItemsStr:j.textContentItemsStr,enhanceTextSelection:j.enhanceTextSelection});return R._render(j.timeout),R}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SVGGraphics=void 0;var r=N(1),q=N(5),I=N(3);let $=class{constructor(){(0,r.unreachable)("Not implemented: SVGGraphics")}};l.SVGGraphics=$;{let w=function(s){let o=[];const y=[];for(const x of s){if(x.fn==="save"){o.push({fnId:92,fn:"group",items:[]}),y.push(o),o=o[o.length-1].items;continue}x.fn==="restore"?o=y.pop():o.push(x)}return o},g=function(s){if(Number.isInteger(s))return s.toString();const o=s.toFixed(10);let y=o.length-1;if(o[y]!=="0")return o;do y--;while(o[y]==="0");return o.substring(0,o[y]==="."?y:y+1)},W=function(s){if(s[4]===0&&s[5]===0){if(s[1]===0&&s[2]===0)return s[0]===1&&s[3]===1?"":`scale(${g(s[0])} ${g(s[3])})`;if(s[0]===s[3]&&s[1]===-s[2]){const o=Math.acos(s[0])*180/Math.PI;return`rotate(${g(o)})`}}else if(s[0]===1&&s[1]===0&&s[2]===0&&s[3]===1)return`translate(${g(s[4])} ${g(s[5])})`;return`matrix(${g(s[0])} ${g(s[1])} ${g(s[2])} ${g(s[3])} ${g(s[4])} ${g(s[5])})`};const B={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},C="http://www.w3.org/XML/1998/namespace",t="http://www.w3.org/1999/xlink",u=["butt","round","square"],a=["miter","round","bevel"],p=function(s,o="",y=!1){if(URL.createObjectURL&&typeof Blob!="undefined"&&!y)return URL.createObjectURL(new Blob([s],{type:o}));const x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let E=`data:${o};base64,`;for(let M=0,T=s.length;M<T;M+=3){const L=s[M]&255,X=s[M+1]&255,H=s[M+2]&255,Y=L>>2,ee=(L&3)<<4|X>>4,Q=M+1<T?(X&15)<<2|H>>6:64,_=M+2<T?H&63:64;E+=x[Y]+x[ee]+x[Q]+x[_]}return E},f=function(){const s=new Uint8Array([137,80,78,71,13,10,26,10]),o=12,y=new Int32Array(256);for(let H=0;H<256;H++){let Y=H;for(let ee=0;ee<8;ee++)Y&1?Y=3988292384^Y>>1&2147483647:Y=Y>>1&2147483647;y[H]=Y}function x(H,Y,ee){let Q=-1;for(let _=Y;_<ee;_++){const i=(Q^H[_])&255,n=y[i];Q=Q>>>8^n}return Q^-1}function E(H,Y,ee,Q){let _=Q;const i=Y.length;ee[_]=i>>24&255,ee[_+1]=i>>16&255,ee[_+2]=i>>8&255,ee[_+3]=i&255,_+=4,ee[_]=H.charCodeAt(0)&255,ee[_+1]=H.charCodeAt(1)&255,ee[_+2]=H.charCodeAt(2)&255,ee[_+3]=H.charCodeAt(3)&255,_+=4,ee.set(Y,_),_+=Y.length;const n=x(ee,Q+4,_);ee[_]=n>>24&255,ee[_+1]=n>>16&255,ee[_+2]=n>>8&255,ee[_+3]=n&255}function M(H,Y,ee){let Q=1,_=0;for(let i=Y;i<ee;++i)Q=(Q+(H[i]&255))%65521,_=(_+Q)%65521;return _<<16|Q}function T(H){if(!I.isNodeJS)return L(H);try{let Y;parseInt(process.versions.node)>=8?Y=H:Y=Buffer.from(H);const ee=require("zlib").deflateSync(Y,{level:9});return ee instanceof Uint8Array?ee:new Uint8Array(ee)}catch(Y){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Y)}return L(H)}function L(H){let Y=H.length;const ee=65535,Q=Math.ceil(Y/ee),_=new Uint8Array(2+Y+Q*5+4);let i=0;_[i++]=120,_[i++]=156;let n=0;for(;Y>ee;)_[i++]=0,_[i++]=255,_[i++]=255,_[i++]=0,_[i++]=0,_.set(H.subarray(n,n+ee),i),i+=ee,n+=ee,Y-=ee;_[i++]=1,_[i++]=Y&255,_[i++]=Y>>8&255,_[i++]=~Y&65535&255,_[i++]=(~Y&65535)>>8&255,_.set(H.subarray(n),i),i+=H.length-n;const d=M(H,0,H.length);return _[i++]=d>>24&255,_[i++]=d>>16&255,_[i++]=d>>8&255,_[i++]=d&255,_}function X(H,Y,ee,Q){const _=H.width,i=H.height;let n,d,b;const F=H.data;switch(Y){case r.ImageKind.GRAYSCALE_1BPP:d=0,n=1,b=_+7>>3;break;case r.ImageKind.RGB_24BPP:d=2,n=8,b=_*3;break;case r.ImageKind.RGBA_32BPP:d=6,n=8,b=_*4;break;default:throw new Error("invalid format")}const S=new Uint8Array((1+b)*i);let e=0,h=0;for(let V=0;V<i;++V)S[e++]=0,S.set(F.subarray(h,h+b),e),h+=b,e+=b;if(Y===r.ImageKind.GRAYSCALE_1BPP&&Q){e=0;for(let V=0;V<i;V++){e++;for(let z=0;z<b;z++)S[e++]^=255}}const m=new Uint8Array([_>>24&255,_>>16&255,_>>8&255,_&255,i>>24&255,i>>16&255,i>>8&255,i&255,n,d,0,0,0]),A=T(S),c=s.length+o*3+m.length+A.length,D=new Uint8Array(c);let O=0;return D.set(s,O),O+=s.length,E("IHDR",m,D,O),O+=o+m.length,E("IDATA",A,D,O),O+=o+A.length,E("IEND",new Uint8Array(0),D,O),p(D,"image/png",ee)}return function(Y,ee,Q){const _=Y.kind===void 0?r.ImageKind.GRAYSCALE_1BPP:Y.kind;return X(Y,_,ee,Q)}}();class P{constructor(){this.fontSizeScale=1,this.fontWeight=B.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=B.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(o,y){this.x=o,this.y=y}}let j=0,R=0,v=0;l.SVGGraphics=$=class{constructor(s,o,y=!1){this.svgFactory=new q.DOMSVGFactory,this.current=new P,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=s,this.objs=o,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!y,this._operatorIdMapping=[];for(const x in r.OPS)this._operatorIdMapping[r.OPS[x]]=x}save(){this.transformStack.push(this.transformMatrix);const s=this.current;this.extraStack.push(s),this.current=s.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(s){this.save(),this.executeOpTree(s),this.restore()}loadDependencies(s){const o=s.fnArray,y=s.argsArray;for(let x=0,E=o.length;x<E;x++)if(o[x]===r.OPS.dependency)for(const M of y[x]){const T=M.startsWith("g_")?this.commonObjs:this.objs,L=new Promise(X=>{T.get(M,X)});this.current.dependencies.push(L)}return Promise.all(this.current.dependencies)}transform(s,o,y,x,E,M){const T=[s,o,y,x,E,M];this.transformMatrix=r.Util.transform(this.transformMatrix,T),this.tgrp=null}getSVG(s,o){this.viewport=o;const y=this._initialize(o);return this.loadDependencies(s).then(()=>(this.transformMatrix=r.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(s)),y))}convertOpList(s){const o=this._operatorIdMapping,y=s.argsArray,x=s.fnArray,E=[];for(let M=0,T=x.length;M<T;M++){const L=x[M];E.push({fnId:L,fn:o[L],args:y[M]})}return w(E)}executeOpTree(s){for(const o of s){const y=o.fn,x=o.fnId,E=o.args;switch(x|0){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(E);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(E[0],E[1]);break;case r.OPS.setFont:this.setFont(E);break;case r.OPS.showText:this.showText(E[0]);break;case r.OPS.showSpacedText:this.showText(E[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(E[0],E[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(E[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(E[0]);break;case r.OPS.setHScale:this.setHScale(E[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(E[0],E[1],E[2],E[3],E[4],E[5]);break;case r.OPS.setTextRise:this.setTextRise(E[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(E[0]);break;case r.OPS.setLineWidth:this.setLineWidth(E[0]);break;case r.OPS.setLineJoin:this.setLineJoin(E[0]);break;case r.OPS.setLineCap:this.setLineCap(E[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(E[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(E[0],E[1],E[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(E[0],E[1],E[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(E);break;case r.OPS.setFillColorN:this.setFillColorN(E);break;case r.OPS.shadingFill:this.shadingFill(E[0]);break;case r.OPS.setDash:this.setDash(E[0],E[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(E[0]);break;case r.OPS.setFlatness:this.setFlatness(E[0]);break;case r.OPS.setGState:this.setGState(E[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(E[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(E[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(E[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(E[0],E[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(E[0],E[1],E[2],E[3],E[4],E[5]);break;case r.OPS.constructPath:this.constructPath(E[0],E[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(o.items);break;default:(0,r.warn)(`Unimplemented operator ${y}`);break}}}setWordSpacing(s){this.current.wordSpacing=s}setCharSpacing(s){this.current.charSpacing=s}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(s,o,y,x,E,M){const T=this.current;T.textMatrix=T.lineMatrix=[s,o,y,x,E,M],T.textMatrixScale=Math.hypot(s,o),T.x=T.lineX=0,T.y=T.lineY=0,T.xcoords=[],T.ycoords=[],T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${g(T.fontSize)}px`),T.tspan.setAttributeNS(null,"y",g(-T.y)),T.txtElement=this.svgFactory.createElement("svg:text"),T.txtElement.appendChild(T.tspan)}beginText(){const s=this.current;s.x=s.lineX=0,s.y=s.lineY=0,s.textMatrix=r.IDENTITY_MATRIX,s.lineMatrix=r.IDENTITY_MATRIX,s.textMatrixScale=1,s.tspan=this.svgFactory.createElement("svg:tspan"),s.txtElement=this.svgFactory.createElement("svg:text"),s.txtgrp=this.svgFactory.createElement("svg:g"),s.xcoords=[],s.ycoords=[]}moveText(s,o){const y=this.current;y.x=y.lineX+=s,y.y=y.lineY+=o,y.xcoords=[],y.ycoords=[],y.tspan=this.svgFactory.createElement("svg:tspan"),y.tspan.setAttributeNS(null,"font-family",y.fontFamily),y.tspan.setAttributeNS(null,"font-size",`${g(y.fontSize)}px`),y.tspan.setAttributeNS(null,"y",g(-y.y))}showText(s){const o=this.current,y=o.font,x=o.fontSize;if(x===0)return;const E=o.fontSizeScale,M=o.charSpacing,T=o.wordSpacing,L=o.fontDirection,X=o.textHScale*L,H=y.vertical,Y=H?1:-1,ee=y.defaultVMetrics,Q=x*o.fontMatrix[0];let _=0;for(const d of s){if(d===null){_+=L*T;continue}else if(typeof d=="number"){_+=Y*d*x/1e3;continue}const b=(d.isSpace?T:0)+M,F=d.fontChar;let S,e,h=d.width;if(H){let A;const c=d.vmetric||ee;A=d.vmetric?c[1]:h*.5,A=-A*Q;const D=c[2]*Q;h=c?-c[0]:h,S=A/E,e=(_+D)/E}else S=_/E,e=0;(d.isInFont||y.missingFile)&&(o.xcoords.push(o.x+S),H&&o.ycoords.push(-o.y+e),o.tspan.textContent+=F);let m;H?m=h*Q-b*L:m=h*Q+b*L,_+=m}o.tspan.setAttributeNS(null,"x",o.xcoords.map(g).join(" ")),H?o.tspan.setAttributeNS(null,"y",o.ycoords.map(g).join(" ")):o.tspan.setAttributeNS(null,"y",g(-o.y)),H?o.y-=_:o.x+=_*X,o.tspan.setAttributeNS(null,"font-family",o.fontFamily),o.tspan.setAttributeNS(null,"font-size",`${g(o.fontSize)}px`),o.fontStyle!==B.fontStyle&&o.tspan.setAttributeNS(null,"font-style",o.fontStyle),o.fontWeight!==B.fontWeight&&o.tspan.setAttributeNS(null,"font-weight",o.fontWeight);const i=o.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(i===r.TextRenderingMode.FILL||i===r.TextRenderingMode.FILL_STROKE?(o.fillColor!==B.fillColor&&o.tspan.setAttributeNS(null,"fill",o.fillColor),o.fillAlpha<1&&o.tspan.setAttributeNS(null,"fill-opacity",o.fillAlpha)):o.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?o.tspan.setAttributeNS(null,"fill","transparent"):o.tspan.setAttributeNS(null,"fill","none"),i===r.TextRenderingMode.STROKE||i===r.TextRenderingMode.FILL_STROKE){const d=1/(o.textMatrixScale||1);this._setStrokeAttributes(o.tspan,d)}let n=o.textMatrix;o.textRise!==0&&(n=n.slice(),n[5]+=o.textRise),o.txtElement.setAttributeNS(null,"transform",`${W(n)} scale(${g(X)}, -1)`),o.txtElement.setAttributeNS(C,"xml:space","preserve"),o.txtElement.appendChild(o.tspan),o.txtgrp.appendChild(o.txtElement),this._ensureTransformGroup().appendChild(o.txtElement)}setLeadingMoveText(s,o){this.setLeading(-o),this.moveText(s,o)}addFontStyle(s){if(!s.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const o=p(s.data,s.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${s.loadedName}"; src: url(${o}); }
`}setFont(s){const o=this.current,y=this.commonObjs.get(s[0]);let x=s[1];o.font=y,this.embedFonts&&!y.missingFile&&!this.embeddedFonts[y.loadedName]&&(this.addFontStyle(y),this.embeddedFonts[y.loadedName]=y),o.fontMatrix=y.fontMatrix||r.FONT_IDENTITY_MATRIX;let E="normal";y.black?E="900":y.bold&&(E="bold");const M=y.italic?"italic":"normal";x<0?(x=-x,o.fontDirection=-1):o.fontDirection=1,o.fontSize=x,o.fontFamily=y.loadedName,o.fontWeight=E,o.fontStyle=M,o.tspan=this.svgFactory.createElement("svg:tspan"),o.tspan.setAttributeNS(null,"y",g(-o.y)),o.xcoords=[],o.ycoords=[]}endText(){var o;const s=this.current;s.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&((o=s.txtElement)==null?void 0:o.hasChildNodes())&&(s.element=s.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(s){s>0&&(this.current.lineWidth=s)}setLineCap(s){this.current.lineCap=u[s]}setLineJoin(s){this.current.lineJoin=a[s]}setMiterLimit(s){this.current.miterLimit=s}setStrokeAlpha(s){this.current.strokeAlpha=s}setStrokeRGBColor(s,o,y){this.current.strokeColor=r.Util.makeHexColor(s,o,y)}setFillAlpha(s){this.current.fillAlpha=s}setFillRGBColor(s,o,y){this.current.fillColor=r.Util.makeHexColor(s,o,y),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(s){this.current.strokeColor=this._makeColorN_Pattern(s)}setFillColorN(s){this.current.fillColor=this._makeColorN_Pattern(s)}shadingFill(s){const o=this.viewport.width,y=this.viewport.height,x=r.Util.inverseTransform(this.transformMatrix),E=r.Util.applyTransform([0,0],x),M=r.Util.applyTransform([0,y],x),T=r.Util.applyTransform([o,0],x),L=r.Util.applyTransform([o,y],x),X=Math.min(E[0],M[0],T[0],L[0]),H=Math.min(E[1],M[1],T[1],L[1]),Y=Math.max(E[0],M[0],T[0],L[0]),ee=Math.max(E[1],M[1],T[1],L[1]),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",X),Q.setAttributeNS(null,"y",H),Q.setAttributeNS(null,"width",Y-X),Q.setAttributeNS(null,"height",ee-H),Q.setAttributeNS(null,"fill",this._makeShadingPattern(s)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(Q)}_makeColorN_Pattern(s){return s[0]==="TilingPattern"?this._makeTilingPattern(s):this._makeShadingPattern(s)}_makeTilingPattern(s){const o=s[1],y=s[2],x=s[3]||r.IDENTITY_MATRIX,[E,M,T,L]=s[4],X=s[5],H=s[6],Y=s[7],ee=`shading${v++}`,[Q,_,i,n]=r.Util.normalizeRect([...r.Util.applyTransform([E,M],x),...r.Util.applyTransform([T,L],x)]),[d,b]=r.Util.singularValueDecompose2dScale(x),F=X*d,S=H*b,e=this.svgFactory.createElement("svg:pattern");e.setAttributeNS(null,"id",ee),e.setAttributeNS(null,"patternUnits","userSpaceOnUse"),e.setAttributeNS(null,"width",F),e.setAttributeNS(null,"height",S),e.setAttributeNS(null,"x",`${Q}`),e.setAttributeNS(null,"y",`${_}`);const h=this.svg,m=this.transformMatrix,A=this.current.fillColor,c=this.current.strokeColor,D=this.svgFactory.create(i-Q,n-_);if(this.svg=D,this.transformMatrix=x,Y===2){const O=r.Util.makeHexColor(...o);this.current.fillColor=O,this.current.strokeColor=O}return this.executeOpTree(this.convertOpList(y)),this.svg=h,this.transformMatrix=m,this.current.fillColor=A,this.current.strokeColor=c,e.appendChild(D.childNodes[0]),this.defs.appendChild(e),`url(#${ee})`}_makeShadingPattern(s){switch(typeof s=="string"&&(s=this.objs.get(s)),s[0]){case"RadialAxial":const o=`shading${v++}`,y=s[3];let x;switch(s[1]){case"axial":const E=s[4],M=s[5];x=this.svgFactory.createElement("svg:linearGradient"),x.setAttributeNS(null,"id",o),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"x1",E[0]),x.setAttributeNS(null,"y1",E[1]),x.setAttributeNS(null,"x2",M[0]),x.setAttributeNS(null,"y2",M[1]);break;case"radial":const T=s[4],L=s[5],X=s[6],H=s[7];x=this.svgFactory.createElement("svg:radialGradient"),x.setAttributeNS(null,"id",o),x.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),x.setAttributeNS(null,"cx",L[0]),x.setAttributeNS(null,"cy",L[1]),x.setAttributeNS(null,"r",H),x.setAttributeNS(null,"fx",T[0]),x.setAttributeNS(null,"fy",T[1]),x.setAttributeNS(null,"fr",X);break;default:throw new Error(`Unknown RadialAxial type: ${s[1]}`)}for(const E of y){const M=this.svgFactory.createElement("svg:stop");M.setAttributeNS(null,"offset",E[0]),M.setAttributeNS(null,"stop-color",E[1]),x.appendChild(M)}return this.defs.appendChild(x),`url(#${o})`;case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${s[0]}`)}}setDash(s,o){this.current.dashArray=s,this.current.dashPhase=o}constructPath(s,o){const y=this.current;let x=y.x,E=y.y,M=[],T=0;for(const L of s)switch(L|0){case r.OPS.rectangle:x=o[T++],E=o[T++];const X=o[T++],H=o[T++],Y=x+X,ee=E+H;M.push("M",g(x),g(E),"L",g(Y),g(E),"L",g(Y),g(ee),"L",g(x),g(ee),"Z");break;case r.OPS.moveTo:x=o[T++],E=o[T++],M.push("M",g(x),g(E));break;case r.OPS.lineTo:x=o[T++],E=o[T++],M.push("L",g(x),g(E));break;case r.OPS.curveTo:x=o[T+4],E=o[T+5],M.push("C",g(o[T]),g(o[T+1]),g(o[T+2]),g(o[T+3]),g(x),g(E)),T+=6;break;case r.OPS.curveTo2:M.push("C",g(x),g(E),g(o[T]),g(o[T+1]),g(o[T+2]),g(o[T+3])),x=o[T+2],E=o[T+3],T+=4;break;case r.OPS.curveTo3:x=o[T+2],E=o[T+3],M.push("C",g(o[T]),g(o[T+1]),g(x),g(E),g(x),g(E)),T+=4;break;case r.OPS.closePath:M.push("Z");break}M=M.join(" "),y.path&&s.length>0&&s[0]!==r.OPS.rectangle&&s[0]!==r.OPS.moveTo?M=y.path.getAttributeNS(null,"d")+M:(y.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(y.path)),y.path.setAttributeNS(null,"d",M),y.path.setAttributeNS(null,"fill","none"),y.element=y.path,y.setCurrentPoint(x,E)}endPath(){const s=this.current;if(s.path=null,!this.pendingClip)return;if(!s.element){this.pendingClip=null;return}const o=`clippath${j++}`,y=this.svgFactory.createElement("svg:clipPath");y.setAttributeNS(null,"id",o),y.setAttributeNS(null,"transform",W(this.transformMatrix));const x=s.element.cloneNode(!0);if(this.pendingClip==="evenodd"?x.setAttributeNS(null,"clip-rule","evenodd"):x.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,y.appendChild(x),this.defs.appendChild(y),s.activeClipUrl){s.clipGroup=null;for(const E of this.extraStack)E.clipGroup=null;y.setAttributeNS(null,"clip-path",s.activeClipUrl)}s.activeClipUrl=`url(#${o})`,this.tgrp=null}clip(s){this.pendingClip=s}closePath(){const s=this.current;if(s.path){const o=`${s.path.getAttributeNS(null,"d")}Z`;s.path.setAttributeNS(null,"d",o)}}setLeading(s){this.current.leading=-s}setTextRise(s){this.current.textRise=s}setTextRenderingMode(s){this.current.textRenderingMode=s}setHScale(s){this.current.textHScale=s/100}setRenderingIntent(s){}setFlatness(s){}setGState(s){for(const[o,y]of s)switch(o){case"LW":this.setLineWidth(y);break;case"LC":this.setLineCap(y);break;case"LJ":this.setLineJoin(y);break;case"ML":this.setMiterLimit(y);break;case"D":this.setDash(y[0],y[1]);break;case"RI":this.setRenderingIntent(y);break;case"FL":this.setFlatness(y);break;case"Font":this.setFont(y);break;case"CA":this.setStrokeAlpha(y);break;case"ca":this.setFillAlpha(y);break;default:(0,r.warn)(`Unimplemented graphic state operator ${o}`);break}}fill(){const s=this.current;s.element&&(s.element.setAttributeNS(null,"fill",s.fillColor),s.element.setAttributeNS(null,"fill-opacity",s.fillAlpha),this.endPath())}stroke(){const s=this.current;s.element&&(this._setStrokeAttributes(s.element),s.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(s,o=1){const y=this.current;let x=y.dashArray;o!==1&&x.length>0&&(x=x.map(function(E){return o*E})),s.setAttributeNS(null,"stroke",y.strokeColor),s.setAttributeNS(null,"stroke-opacity",y.strokeAlpha),s.setAttributeNS(null,"stroke-miterlimit",g(y.miterLimit)),s.setAttributeNS(null,"stroke-linecap",y.lineCap),s.setAttributeNS(null,"stroke-linejoin",y.lineJoin),s.setAttributeNS(null,"stroke-width",g(o*y.lineWidth)+"px"),s.setAttributeNS(null,"stroke-dasharray",x.map(g).join(" ")),s.setAttributeNS(null,"stroke-dashoffset",g(o*y.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0"),s.setAttributeNS(null,"y","0"),s.setAttributeNS(null,"width","1px"),s.setAttributeNS(null,"height","1px"),s.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(s)}paintImageXObject(s){const o=s.startsWith("g_")?this.commonObjs.get(s):this.objs.get(s);if(!o){(0,r.warn)(`Dependent image with object ID ${s} is not ready yet`);return}this.paintInlineImageXObject(o)}paintInlineImageXObject(s,o){const y=s.width,x=s.height,E=f(s,this.forceDataSchema,!!o),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x","0"),M.setAttributeNS(null,"y","0"),M.setAttributeNS(null,"width",g(y)),M.setAttributeNS(null,"height",g(x)),this.current.element=M,this.clip("nonzero");const T=this.svgFactory.createElement("svg:image");T.setAttributeNS(t,"xlink:href",E),T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y",g(-x)),T.setAttributeNS(null,"width",g(y)+"px"),T.setAttributeNS(null,"height",g(x)+"px"),T.setAttributeNS(null,"transform",`scale(${g(1/y)} ${g(-1/x)})`),o?o.appendChild(T):this._ensureTransformGroup().appendChild(T)}paintImageMaskXObject(s){const o=this.current,y=s.width,x=s.height,E=o.fillColor;o.maskId=`mask${R++}`;const M=this.svgFactory.createElement("svg:mask");M.setAttributeNS(null,"id",o.maskId);const T=this.svgFactory.createElement("svg:rect");T.setAttributeNS(null,"x","0"),T.setAttributeNS(null,"y","0"),T.setAttributeNS(null,"width",g(y)),T.setAttributeNS(null,"height",g(x)),T.setAttributeNS(null,"fill",E),T.setAttributeNS(null,"mask",`url(#${o.maskId})`),this.defs.appendChild(M),this._ensureTransformGroup().appendChild(T),this.paintInlineImageXObject(s,M)}paintFormXObjectBegin(s,o){if(Array.isArray(s)&&s.length===6&&this.transform(s[0],s[1],s[2],s[3],s[4],s[5]),o){const y=o[2]-o[0],x=o[3]-o[1],E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x",o[0]),E.setAttributeNS(null,"y",o[1]),E.setAttributeNS(null,"width",g(y)),E.setAttributeNS(null,"height",g(x)),this.current.element=E,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(s){const o=this.svgFactory.create(s.width,s.height),y=this.svgFactory.createElement("svg:defs");o.appendChild(y),this.defs=y;const x=this.svgFactory.createElement("svg:g");return x.setAttributeNS(null,"transform",W(s.transform)),o.appendChild(x),this.svg=x,o}_ensureClipGroup(){if(!this.current.clipGroup){const s=this.svgFactory.createElement("svg:g");s.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(s),this.current.clipGroup=s}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",W(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFNodeStream=void 0;var r=N(1),q=N(24);const I=require$$4,$=require$$4,B=require$$4,C=require$$4,t=/^file:\/\/\/[a-zA-Z]:\//;function u(R){const v=C.parse(R);return v.protocol==="file:"||v.host?v:/^[a-z]:[/\\]/i.test(R)?C.parse(`file:///${R}`):(v.host||(v.protocol="file:"),v)}class a{constructor(v){this.source=v,this.url=u(v.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&v.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var v,s;return(s=(v=this._fullRequestReader)==null?void 0:v._loaded)!=null?s:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new W(this):new w(this),this._fullRequestReader}getRangeReader(v,s){if(s<=this._progressiveDataLength)return null;const o=this.isFsUrl?new j(this,v,s):new g(this,v,s);return this._rangeRequestReaders.push(o),o}cancelAllRequests(v){this._fullRequestReader&&this._fullRequestReader.cancel(v);for(const s of this._rangeRequestReaders.slice(0))s.cancel(v)}}l.PDFNodeStream=a;class p{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null;const s=v.source;this._contentLength=s.length,this._loaded=0,this._filename=null,this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const v=this._readableStream.read();return v===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=v.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(v).buffer,done:!1})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",s=>{this._error(s)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class f{constructor(v){this._url=v.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();const s=v.source;this._isStreamingSupported=!s.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const v=this._readableStream.read();return v===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=v.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(v).buffer,done:!1})}cancel(v){if(!this._readableStream){this._error(v);return}this._readableStream.destroy(v)}_error(v){this._storedError=v,this._readCapability.resolve()}_setReadableStream(v){this._readableStream=v,v.on("readable",()=>{this._readCapability.resolve()}),v.on("end",()=>{v.destroy(),this._done=!0,this._readCapability.resolve()}),v.on("error",s=>{this._error(s)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function P(R,v){return{protocol:R.protocol,auth:R.auth,host:R.hostname,port:R.port,path:R.path,method:"GET",headers:v}}class w extends p{constructor(v){super(v);const s=o=>{if(o.statusCode===404){const M=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=M,this._headersCapability.reject(M);return}this._headersCapability.resolve(),this._setReadableStream(o);const y=M=>this._readableStream.headers[M.toLowerCase()],{allowRangeRequests:x,suggestedLength:E}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:y,isHttp:v.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=x,this._contentLength=E||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(y)};this._request=null,this._url.protocol==="http:"?this._request=$.request(P(this._url,v.httpHeaders),s):this._request=B.request(P(this._url,v.httpHeaders),s),this._request.on("error",o=>{this._storedError=o,this._headersCapability.reject(o)}),this._request.end()}}class g extends f{constructor(v,s,o){super(v);this._httpHeaders={};for(const x in v.httpHeaders){const E=v.httpHeaders[x];typeof E!="undefined"&&(this._httpHeaders[x]=E)}this._httpHeaders.Range=`bytes=${s}-${o-1}`;const y=x=>{if(x.statusCode===404){const E=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=E;return}this._setReadableStream(x)};this._request=null,this._url.protocol==="http:"?this._request=$.request(P(this._url,this._httpHeaders),y):this._request=B.request(P(this._url,this._httpHeaders),y),this._request.on("error",x=>{this._storedError=x}),this._request.end()}}class W extends p{constructor(v){super(v);let s=decodeURIComponent(this._url.path);t.test(this._url.href)&&(s=s.replace(/^\//,"")),I.lstat(s,(o,y)=>{if(o){o.code==="ENOENT"&&(o=new r.MissingPDFException(`Missing PDF "${s}".`)),this._storedError=o,this._headersCapability.reject(o);return}this._contentLength=y.size,this._setReadableStream(I.createReadStream(s)),this._headersCapability.resolve()})}}class j extends f{constructor(v,s,o){super(v);let y=decodeURIComponent(this._url.path);t.test(this._url.href)&&(y=y.replace(/^\//,"")),this._setReadableStream(I.createReadStream(y,{start:s,end:o-1}))}}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createResponseStatusError=C,l.extractFilenameFromHeader=B,l.validateRangeRequestCapabilities=$,l.validateResponseStatus=t;var r=N(1),q=N(25),I=N(5);function $({getResponseHeader:u,isHttp:a,rangeChunkSize:p,disableRange:f}){(0,r.assert)(p>0,"Range chunk size must be larger than zero");const P={allowRangeRequests:!1,suggestedLength:void 0},w=parseInt(u("Content-Length"),10);return!Number.isInteger(w)||(P.suggestedLength=w,w<=2*p)||f||!a||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(P.allowRangeRequests=!0),P}function B(u){const a=u("Content-Disposition");if(a){let p=(0,q.getFilenameFromContentDispositionHeader)(a);if(p.includes("%"))try{p=decodeURIComponent(p)}catch{}if((0,I.isPdfFile)(p))return p}return null}function C(u,a){return u===404||u===0&&a.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+a+'".'):new r.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${a}".`,u)}function t(u){return u===200||u===206}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getFilenameFromContentDispositionHeader=q;var r=N(1);function q(I){let $=!0,B=C("filename\\*","i").exec(I);if(B){B=B[1];let w=p(B);return w=unescape(w),w=f(w),w=P(w),u(w)}if(B=a(I),B){const w=P(B);return u(w)}if(B=C("filename","i").exec(I),B){B=B[1];let w=p(B);return w=P(w),u(w)}function C(w,g){return new RegExp("(?:^|;)\\s*"+w+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',g)}function t(w,g){if(w){if(!/^[\x00-\xFF]+$/.test(g))return g;try{const W=new TextDecoder(w,{fatal:!0}),j=(0,r.stringToBytes)(g);g=W.decode(j),$=!1}catch{}}return g}function u(w){return $&&/[\x80-\xff]/.test(w)&&(w=t("utf-8",w),$&&(w=t("iso-8859-1",w))),w}function a(w){const g=[];let W;const j=C("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(W=j.exec(w))!==null;){let[,v,s,o]=W;if(v=parseInt(v,10),v in g){if(v===0)break;continue}g[v]=[s,o]}const R=[];for(let v=0;v<g.length&&v in g;++v){let[s,o]=g[v];o=p(o),s&&(o=unescape(o),v===0&&(o=f(o))),R.push(o)}return R.join("")}function p(w){if(w.startsWith('"')){const g=w.slice(1).split('\\"');for(let W=0;W<g.length;++W){const j=g[W].indexOf('"');j!==-1&&(g[W]=g[W].slice(0,j),g.length=W+1),g[W]=g[W].replace(/\\(.)/g,"$1")}w=g.join('"')}return w}function f(w){const g=w.indexOf("'");if(g===-1)return w;const W=w.slice(0,g),R=w.slice(g+1).replace(/^[^']*'/,"");return t(W,R)}function P(w){return!w.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(w)?w:w.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(g,W,j,R){if(j==="q"||j==="Q")return R=R.replace(/_/g," "),R=R.replace(/=([0-9a-fA-F]{2})/g,function(v,s){return String.fromCharCode(parseInt(s,16))}),t(W,R);try{R=atob(R)}catch{}return t(W,R)})}return""}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFNetworkStream=void 0;var r=N(1),q=N(24);const I=200,$=206;function B(p){const f=p.response;return typeof f!="string"?f:(0,r.stringToBytes)(f).buffer}class C{constructor(f,P={}){this.url=f,this.isHttp=/^https?:/i.test(f),this.httpHeaders=this.isHttp&&P.httpHeaders||Object.create(null),this.withCredentials=P.withCredentials||!1,this.getXhr=P.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(f,P,w){const g={begin:f,end:P};for(const W in w)g[W]=w[W];return this.request(g)}requestFull(f){return this.request(f)}request(f){const P=this.getXhr(),w=this.currXhrId++,g=this.pendingRequests[w]={xhr:P};P.open("GET",this.url),P.withCredentials=this.withCredentials;for(const W in this.httpHeaders){const j=this.httpHeaders[W];typeof j!="undefined"&&P.setRequestHeader(W,j)}return this.isHttp&&"begin"in f&&"end"in f?(P.setRequestHeader("Range",`bytes=${f.begin}-${f.end-1}`),g.expectedStatus=$):g.expectedStatus=I,P.responseType="arraybuffer",f.onError&&(P.onerror=function(W){f.onError(P.status)}),P.onreadystatechange=this.onStateChange.bind(this,w),P.onprogress=this.onProgress.bind(this,w),g.onHeadersReceived=f.onHeadersReceived,g.onDone=f.onDone,g.onError=f.onError,g.onProgress=f.onProgress,P.send(null),w}onProgress(f,P){var g;const w=this.pendingRequests[f];!w||(g=w.onProgress)==null||g.call(w,P)}onStateChange(f,P){var v,s,o;const w=this.pendingRequests[f];if(!w)return;const g=w.xhr;if(g.readyState>=2&&w.onHeadersReceived&&(w.onHeadersReceived(),delete w.onHeadersReceived),g.readyState!==4||!(f in this.pendingRequests))return;if(delete this.pendingRequests[f],g.status===0&&this.isHttp){(v=w.onError)==null||v.call(w,g.status);return}const W=g.status||I;if(!(W===I&&w.expectedStatus===$)&&W!==w.expectedStatus){(s=w.onError)==null||s.call(w,g.status);return}const R=B(g);if(W===$){const y=g.getResponseHeader("Content-Range"),x=/bytes (\d+)-(\d+)\/(\d+)/.exec(y);w.onDone({begin:parseInt(x[1],10),chunk:R})}else R?w.onDone({begin:0,chunk:R}):(o=w.onError)==null||o.call(w,g.status)}getRequestXhr(f){return this.pendingRequests[f].xhr}isPendingRequest(f){return f in this.pendingRequests}abortRequest(f){const P=this.pendingRequests[f].xhr;delete this.pendingRequests[f],P.abort()}}class t{constructor(f){this._source=f,this._manager=new C(f.url,{httpHeaders:f.httpHeaders,withCredentials:f.withCredentials}),this._rangeChunkSize=f.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(f){const P=this._rangeRequestReaders.indexOf(f);P>=0&&this._rangeRequestReaders.splice(P,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(f,P){const w=new a(this._manager,f,P);return w.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(w),w}cancelAllRequests(f){var P;(P=this._fullRequestReader)==null||P.cancel(f);for(const w of this._rangeRequestReaders.slice(0))w.cancel(f)}}l.PDFNetworkStream=t;class u{constructor(f,P){this._manager=f;const w={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=P.url,this._fullRequestId=f.requestFull(w),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=P.disableRange||!1,this._contentLength=P.length,this._rangeChunkSize=P.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const f=this._fullRequestId,P=this._manager.getRequestXhr(f),w=j=>P.getResponseHeader(j),{allowRangeRequests:g,suggestedLength:W}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});g&&(this._isRangeSupported=!0),this._contentLength=W||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(w),this._isRangeSupported&&this._manager.abortRequest(f),this._headersReceivedCapability.resolve()}_onDone(f){if(f&&(this._requests.length>0?this._requests.shift().resolve({value:f.chunk,done:!1}):this._cachedChunks.push(f.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(f){this._storedError=(0,q.createResponseStatusError)(f,this._url),this._headersReceivedCapability.reject(this._storedError);for(const P of this._requests)P.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(f){var P;(P=this.onProgress)==null||P.call(this,{loaded:f.loaded,total:f.lengthComputable?f.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const f=(0,r.createPromiseCapability)();return this._requests.push(f),f.promise}cancel(f){this._done=!0,this._headersReceivedCapability.reject(f);for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(f,P,w){this._manager=f;const g={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=f.url,this._requestId=f.requestRange(P,w,g),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var f;(f=this.onClosed)==null||f.call(this,this)}_onDone(f){const P=f.chunk;this._requests.length>0?this._requests.shift().resolve({value:P,done:!1}):this._queuedChunk=P,this._done=!0;for(const w of this._requests)w.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(f){this._storedError=(0,q.createResponseStatusError)(f,this._url);for(const P of this._requests)P.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(f){var P;this.isStreamingSupported||(P=this.onProgress)==null||P.call(this,{loaded:f.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const P=this._queuedChunk;return this._queuedChunk=null,{value:P,done:!1}}if(this._done)return{value:void 0,done:!0};const f=(0,r.createPromiseCapability)();return this._requests.push(f),f.promise}cancel(f){this._done=!0;for(const P of this._requests)P.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(k,l,N)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PDFFetchStream=void 0;var r=N(1),q=N(24);function I(u,a,p){return{method:"GET",headers:u,signal:p==null?void 0:p.signal,mode:"cors",credentials:a?"include":"same-origin",redirect:"follow"}}function $(u){const a=new Headers;for(const p in u){const f=u[p];typeof f!="undefined"&&a.append(p,f)}return a}class B{constructor(a){this.source=a,this.isHttp=/^https?:/i.test(a.url),this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var a,p;return(p=(a=this._fullRequestReader)==null?void 0:a._loaded)!=null?p:0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new C(this),this._fullRequestReader}getRangeReader(a,p){if(p<=this._progressiveDataLength)return null;const f=new t(this,a,p);return this._rangeRequestReaders.push(f),f}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);for(const p of this._rangeRequestReaders.slice(0))p.cancel(a)}}l.PDFFetchStream=B;class C{constructor(a){this._stream=a,this._reader=null,this._loaded=0,this._filename=null;const p=a.source;this._withCredentials=p.withCredentials||!1,this._contentLength=p.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=p.disableRange||!1,this._rangeChunkSize=p.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._isStreamingSupported=!p.disableStream,this._isRangeSupported=!p.disableRange,this._headers=$(this._stream.httpHeaders);const f=p.url;fetch(f,I(this._headers,this._withCredentials,this._abortController)).then(P=>{if(!(0,q.validateResponseStatus)(P.status))throw(0,q.createResponseStatusError)(P.status,f);this._reader=P.body.getReader(),this._headersCapability.resolve();const w=j=>P.headers.get(j),{allowRangeRequests:g,suggestedLength:W}=(0,q.validateRangeRequestCapabilities)({getResponseHeader:w,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=g,this._contentLength=W||this._contentLength,this._filename=(0,q.extractFilenameFromHeader)(w),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:a,done:p}=await this._reader.read();return p?{value:a,done:p}:(this._loaded+=a.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}class t{constructor(a,p,f){this._stream=a,this._reader=null,this._loaded=0;const P=a.source;this._withCredentials=P.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!P.disableStream,typeof AbortController!="undefined"&&(this._abortController=new AbortController),this._headers=$(this._stream.httpHeaders),this._headers.append("Range",`bytes=${p}-${f-1}`);const w=P.url;fetch(w,I(this._headers,this._withCredentials,this._abortController)).then(g=>{if(!(0,q.validateResponseStatus)(g.status))throw(0,q.createResponseStatusError)(g.status,w);this._readCapability.resolve(),this._reader=g.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:a,done:p}=await this._reader.read();return p?{value:a,done:p}:(this._loaded+=a.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(a).buffer,done:!1})}cancel(a){this._reader&&this._reader.cancel(a),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(k){var l=__webpack_module_cache__[k];if(l!==void 0)return l.exports;var N=__webpack_module_cache__[k]={exports:{}};return __webpack_modules__[k](N,N.exports,__w_pdfjs_require__),N.exports}var __webpack_exports__={};return(()=>{var k=__webpack_exports__;Object.defineProperty(k,"__esModule",{value:!0}),Object.defineProperty(k,"AnnotationLayer",{enumerable:!0,get:function(){return q.AnnotationLayer}}),Object.defineProperty(k,"AnnotationMode",{enumerable:!0,get:function(){return l.AnnotationMode}}),Object.defineProperty(k,"CMapCompressionType",{enumerable:!0,get:function(){return l.CMapCompressionType}}),Object.defineProperty(k,"GlobalWorkerOptions",{enumerable:!0,get:function(){return I.GlobalWorkerOptions}}),Object.defineProperty(k,"InvalidPDFException",{enumerable:!0,get:function(){return l.InvalidPDFException}}),Object.defineProperty(k,"LoopbackPort",{enumerable:!0,get:function(){return N.LoopbackPort}}),Object.defineProperty(k,"MissingPDFException",{enumerable:!0,get:function(){return l.MissingPDFException}}),Object.defineProperty(k,"OPS",{enumerable:!0,get:function(){return l.OPS}}),Object.defineProperty(k,"PDFDataRangeTransport",{enumerable:!0,get:function(){return N.PDFDataRangeTransport}}),Object.defineProperty(k,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(k,"PDFWorker",{enumerable:!0,get:function(){return N.PDFWorker}}),Object.defineProperty(k,"PasswordResponses",{enumerable:!0,get:function(){return l.PasswordResponses}}),Object.defineProperty(k,"PermissionFlag",{enumerable:!0,get:function(){return l.PermissionFlag}}),Object.defineProperty(k,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(k,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(k,"SVGGraphics",{enumerable:!0,get:function(){return C.SVGGraphics}}),Object.defineProperty(k,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return l.UNSUPPORTED_FEATURES}}),Object.defineProperty(k,"UnexpectedResponseException",{enumerable:!0,get:function(){return l.UnexpectedResponseException}}),Object.defineProperty(k,"Util",{enumerable:!0,get:function(){return l.Util}}),Object.defineProperty(k,"VerbosityLevel",{enumerable:!0,get:function(){return l.VerbosityLevel}}),Object.defineProperty(k,"XfaLayer",{enumerable:!0,get:function(){return t.XfaLayer}}),Object.defineProperty(k,"build",{enumerable:!0,get:function(){return N.build}}),Object.defineProperty(k,"createPromiseCapability",{enumerable:!0,get:function(){return l.createPromiseCapability}}),Object.defineProperty(k,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return l.createValidAbsoluteUrl}}),Object.defineProperty(k,"getDocument",{enumerable:!0,get:function(){return N.getDocument}}),Object.defineProperty(k,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(k,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(k,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(k,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(k,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(k,"renderTextLayer",{enumerable:!0,get:function(){return B.renderTextLayer}}),Object.defineProperty(k,"shadow",{enumerable:!0,get:function(){return l.shadow}}),Object.defineProperty(k,"version",{enumerable:!0,get:function(){return N.version}});var l=__w_pdfjs_require__(1),N=__w_pdfjs_require__(4),r=__w_pdfjs_require__(5),q=__w_pdfjs_require__(18),I=__w_pdfjs_require__(12),$=__w_pdfjs_require__(3),B=__w_pdfjs_require__(21),C=__w_pdfjs_require__(22),t=__w_pdfjs_require__(20);if($.isNodeJS){const{PDFNodeStream:u}=__w_pdfjs_require__(23);(0,N.setPDFNetworkStreamFactory)(a=>new u(a))}else{const{PDFNetworkStream:u}=__w_pdfjs_require__(26),{PDFFetchStream:a}=__w_pdfjs_require__(27);(0,N.setPDFNetworkStreamFactory)(p=>(0,r.isValidFetchUrl)(p.url)?new a(p):new u(p))}})(),__webpack_exports__})()})})(pdf);var pdfReader_vue_vue_type_style_index_0_scoped_true_lang="";pdf.exports.GlobalWorkerOptions.workerSrc="/pdf.worker.js";const _sfc_main$6=defineComponent({props:{file:String},setup(k){const{file:l}=toRefs(k),N=r=>{pdf.exports.getDocument(r).promise.then(I=>{const $=document.getElementById("canvas1");I.getPage(1).then(B=>{const C=B.getViewport({scale:1.4}),t=window.devicePixelRatio||1,u=$.getContext("2d");$.width=Math.floor(C.width*t),$.height=Math.floor(C.height*t),$.style.width=Math.floor(C.width)+"px",$.style.height=Math.floor(C.height)+"px";const p={canvasContext:u,transform:t!==1?[t,0,0,t,0,0]:null,viewport:C};B.render(p)})})};watch(l,(r,q)=>{N(r)}),onMounted(()=>{N(l.value)})}}),_withScopeId$1=k=>(pushScopeId("data-v-7f6a2734"),k=k(),popScopeId(),k),_hoisted_1$6={style:{width:"100%","text-align":"center"},class:"pdf"},_hoisted_2$4=_withScopeId$1(()=>createBaseVNode("canvas",{id:"canvas1"},null,-1)),_hoisted_3$2=[_hoisted_2$4];function _sfc_render$6(k,l,N,r,q,I){return openBlock(),createElementBlock("div",_hoisted_1$6,_hoisted_3$2)}var pdfReader=_export_sfc(_sfc_main$6,[["render",_sfc_render$6],["__scopeId","data-v-7f6a2734"]]),note_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$5=defineComponent({components:{bigCard,modal,mdReader,appCard,listCard,pdfReader},props:{name:String,files:Array},setup(k){const l=ref(!1),N=ref(""),r=ref([]),q=reactive({name:"",url:""}),{name:I,files:$}=toRefs(k),B=t=>{l.value=!0,t.files?(r.value=[{list:t.files}],t.files.length?(q.url=t.files[0].url,q.name=t.files[0].name):q.url=""):(r.value=[],C(t))},C=t=>{N.value=t.url.split(".").pop(),q.url=t.url,q.name=t.name};return{files:$,name:I,openFile:C,openNote:B,showModal:l,menu:r,file:q,fileType:N}}}),_hoisted_1$5={class:"content-note",style:{overflow:"hidden"}};function _sfc_render$5(k,l,N,r,q,I){const $=resolveComponent("app-card"),B=resolveComponent("big-card"),C=resolveComponent("list-card"),t=resolveComponent("md-reader"),u=resolveComponent("pdf-reader"),a=resolveComponent("modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(B,{name:k.name,class:"card-note"},{default:withCtx(()=>[createVNode($,{apps:k.files,onOpenApp:k.openNote,class:"p10",style:{height:"370px"}},null,8,["apps","onOpenApp"])]),_:1},8,["name"]),createVNode(a,{value:k.showModal,"onUpdate:value":l[0]||(l[0]=p=>k.showModal=p),name:k.file.name?k.file.name:"\u9605\u8BFB"},{default:withCtx(()=>[createVNode(C,{class:"list-note",menu:k.menu,onChangeTab:k.openFile},null,8,["menu","onChangeTab"]),createBaseVNode("div",_hoisted_1$5,[k.fileType==="md"?(openBlock(),createBlock(t,{key:0,file:k.file.url},null,8,["file"])):createCommentVNode("",!0),k.fileType==="pdf"?(openBlock(),createBlock(u,{key:1,file:k.file.url},null,8,["file"])):createCommentVNode("",!0)])]),_:1},8,["value","name"])],64)}var note=_export_sfc(_sfc_main$5,[["render",_sfc_render$5],["__scopeId","data-v-22ae9fc5"]]);const apps={vue:[{name:"Node(B)",url:"http://nodejs.cn/learn",icon:"http://img.nodejs.cn/logo.svg"},{name:"AST(B)",url:"https://astexplorer.net/",icon:"https://astexplorer.net/favicon.png"},{name:"TS(B)",url:"https://typescript.bootcss.com/basic-types.html",icon:"https://typescript.bootcss.com/favicon-32x32.png"},{name:"React(R)",icon:"https://https://react.docschina.org",url:"https://https://react.docschina.org/favicon.ico"},{name:"Vue(V)",icon:"https://v3.cn.vuejs.org/logo.png",url:"https://v3.cn.vuejs.org/guide/introduction.html"},{name:"Vue List(V)",icon:"https://v3.cn.vuejs.org/logo.png",url:"https://github.com/vuejs/awesome-vue"},{name:"VueX(V)",icon:"https://v3.cn.vuejs.org/logo.png",url:"https://vuex.vuejs.org/zh/index.html"},{name:"VueRouter(V)",icon:"https://v3.cn.vuejs.org/logo.png",url:"https://router.vuejs.org/zh/introduction.html"},{name:"Vite(V)",icon:"https://vitejs.cn/logo.svg",hover:"\u4E0B\u4E00\u4EE3\u524D\u7AEF\u5F00\u53D1\u4E0E\u6784\u5EFA\u5DE5\u5177",url:"https://vitejs.cn/guide/"},{name:"Vitest(V)",icon:"https://cn.vitest.dev/logo.svg",hover:"\u7531 Vite \u26A1\uFE0F\u63D0\u4F9B\u652F\u6301\u7684\u6781\u901F\u5355\u5143\u6D4B\u8BD5\u6846\u67B6",url:"https://cn.vitest.dev/"},{name:"less(B)",url:"https://less.bootcss.com/",icon:"https://less.bootcss.com/public/img/less_logo.png"},{name:"D3(G)",url:"https://github.com/d3/d3/wiki",icon:"https://camo.githubusercontent.com/586ccf0aad9684e\u20268747470733a2f2f64336a732e6f72672f6c6f676f2e737667"},{name:"Three(G)",icon:"https://bestofjs.org/logos/threejs.svg",url:"https://threejs.org/"},{name:"pinia(V)",url:"https://pinia.vuejs.org/",icon:"https://pinia.vuejs.org/logo.svg"},{name:"i18n(V)",url:"https://kazupon.github.io/vue-i18n/zh/",icon:"https://kazupon.github.io/vue-i18n/vue-i18n-logo.png"},{name:"AnimeJS(G)",url:"https://animejs.com/"},{name:"cesium(L)",url:"https://cesium.com/"},{name:"Axios(B)",url:"https://www.axios-http.cn/docs/intro",icon:"https://www.axios-http.cn/assets/favicon.ico"},{name:"Restful(B)",url:"https://restfulapi.cn/"},{name:"babylon(G)",url:"https://www.babylonjs.com/",icon:"https://d33wubrfki0l68.cloudfront.net/b39661bbf642\u20268076d23c8fa3/44cb5/assets/img/babylonidentity.svg"},{name:"tesseract(I)",url:"https://github.com/naptha/tesseract.js"}],lib:[{name:"Element(V)",icon:"https://element-plus.gitee.io/images/element-plus-logo.svg",url:"https://element-plus.gitee.io"},{name:"Native(V)",url:"https://www.naiveui.com/zh-CN/os-theme",icon:"https://www.naiveui.com/assets/naivelogo.93278402.svg"},{name:"Vant(V)",icon:"https://cdn.jsdelivr.net/npm/@vant/assets/logo.png",url:"https://vant-contrib.gitee.io/vant/#/zh-CN"},{name:"vuestic(V)",url:"https://vuestic.dev/"},{name:"Vuetify(V)",url:"https://vuetifyjs.com/zh-Hans/introduction/why-vuetify/#feature-guides"},{name:"IconPark(I)",icon:"https://lf1-cdn2-tos.bytegoofy.com/bydesign/iconparksite/static/media/logo_with_name.598fc011.svg",url:"https://iconpark.oceanengine.com/home"},{name:"UI5(V)",url:"https://sap.github.io/ui5-webcomponents/playground/getting-started",icon:"https://sap.github.io/ui5-webcomponents/assets/images/ui5-logo.png"},{name:"Material(V)",url:"https://www.creative-tim.com/vuematerial/getting-started"},{name:"ag-grid(G)",url:"https://www.ag-grid.com/documentation/",icon:"data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAg\u2026sPSIjZmZmIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz48L3N2Zz4="},{name:"HighChart(G)",icon:"https://s1.jscdn.com.cn/highcharts/images/logo.svg",url:"https://www.highcharts.com.cn/docs/start-introduction"},{name:"FormKit",url:"https://formkit.com/",icon:""},{name:"Bootstrap(C)",url:"https://v5.bootcss.com/",icon:"https://getbootstrap.com/docs/5.1/assets/img/bootstrap-icons@2x.png"},{name:"Slidev",url:"https://cn.sli.dev/",icon:"https://cn.sli.dev/logo.svg"},{name:"Tailwind(C)",url:"https://tailwindcss.com/",icon:""},{name:"Animate(C)",url:"https://animate.style/",icon:"https://animate.style/img/animatecss-opengraph.jpg"},{name:"IConoir(I)",url:"https://iconoir.com/",icon:"https://iconoir.com/images/iconoir-logo.svg"},{name:"FontA(I)",url:"https://fontawesome.com/"},{name:"Icomoon(I)",url:"https://icomoon.io/#home"}]},newsList={"0":[{name:"\u962E\u4E00\u5CF0\u7684\u7F51\u7EDC\u65E5\u5FD7",url:"https://www.ruanyifeng.com/blog/"},{name:"\u5341\u5927\u6392\u5E8F\u7B97\u6CD5",url:"https://www.cnblogs.com/onepixel/articles/7674659.html"},{name:"\u524D\u7AEF\u77E5\u8BC6\u4F53\u7CFB\u5927\u5168",url:"http://caibaojian.com/toutiao/7186/"},{name:"\u524D\u7AEF\u9762\u8BD5\u4E4B\u9053",url:"http://caibaojian.com/interview-map/frontend/"},{name:"\u8BA1\u7B97\u673A\u6559\u80B2\u4E2D\u7F3A\u5931\u7684\u4E00\u8BFE",url:"https://missing-semester-cn.github.io/"},{name:"\u524D\u7AEF\u5F00\u53D1\u6587\u6863",url:"https://wangdoc.com/"},{name:"\u524D\u7AEF\u535A\u5BA2\u5927\u5168",url:"http://caibaojian.com/links/"},{name:"best of js",url:"https://bestofjs.org/"},{name:"\u5927\u5382\u9762\u8BD5",url:"https://q.shanyue.tech/engineering/"},{name:"\u5E38\u7528\u7684\u6B63\u5219\u8868\u8FBE\u5F0F",url:"https://goregex.cn/"}],"1":[{name:"\u4F60\u662F\u5982\u4F55\u5B66\u4F1A\u6B63\u5219\u8868\u8FBE\u5F0F\u7684\uFF1F",url:"https://www.zhihu.com/question/48219401/answer/742444326",new:!0},{name:"\u9762\u8BD5\u5B98\uFF0C\u522B\u95EE\u6211 HTTP \u4E86\uFF01\u770B\u8FD9 30 \u5F20\u56FE\u5C31\u884C\uFF01",url:"https://mp.weixin.qq.com/s/4epUWMCLpwCBxxQgEbL8gA",new:!0}],"2":[{name:"\u7EA2\u697C\u68A6(\u89E3\u8BF4)",url:"https://www.bilibili.com/video/BV1CC4y1a7ee?spm_id_from=333.337.search-card.all.click"},{name:"\u5927\u660E\u738B\u671D1566(\u89E3\u8BF4)",url:"https://www.bilibili.com/medialist/play/669154966?from=space&business=space_collection&business_id=35282&desc=0"},{name:"\u6FC0\u8361\u56DB\u5341\u5E74(\u89C6\u9891)",url:"https://www.bilibili.com/video/BV1AK4y147uB/?spm_id_from=333.788"},{name:"\u8D2B\u5634\u5F20\u5927\u6C11\u7684\u5E78\u798F\u751F\u6D3B(\u89E3\u8BF4)",url:"https://www.bilibili.com/video/BV1ER4y177rS?spm_id_from=333.999.0.0"},{name:"\u7EDD\u547D\u6BD2\u5E08(\u89E3\u8BF4)",url:"https://www.bilibili.com/video/BV1b44y1g7UD?spm_id_from=333.337.search-card.all.click"},{name:"\u5FC5\u5E94\u56FE\u7247(\u56FE\u7247)",url:"https://bing.wilii.cn/index.html",new:!0},{name:"\u707F\u70C2\u4EBA\u751F(\u7535\u5F71\u89E3\u8BF4)",url:"https://www.bilibili.com/video/BV1iJ411w7YU?spm_id_from=333.337.search-card.all.click"},{name:"\u751F\u6D3B\u591A\u7F8E\u597D(\u7535\u5F71\u89E3\u8BF4)",url:"https://www.bilibili.com/video/BV1LZ4y1s7HD?spm_id_from=333.337.search-card.all.click"},{name:"\u767D\u8272\u5DE8\u5854(\u89E3\u8BF4)",url:"https://www.bilibili.com/video/BV1c64y1k7cd?spm_id_from=333.999.0.0"}]};var tabCard_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$4=defineComponent({props:{tabs:Array},emits:["changeTab"],setup(k,{emit:l}){const{tabs:N}=toRefs(k),r=ref(""),q=I=>{l("changeTab",I),r.value=I.type};return onMounted(()=>{r.value=N.value[0].type,q(N.value[0])}),{tabs:N,changeTab:q,current:r}}}),_hoisted_1$4={class:"tab-card"},_hoisted_2$3=["onClick"];function _sfc_render$4(k,l,N,r,q,I){return openBlock(),createElementBlock("div",_hoisted_1$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.tabs,($,B)=>(openBlock(),createElementBlock("div",{key:B,class:normalizeClass(["tab-item",{"border-item":k.current===$.type}]),onClick:C=>k.changeTab($)},[createBaseVNode("div",null,toDisplayString($.name),1)],10,_hoisted_2$3))),128))])}var tabCard=_export_sfc(_sfc_main$4,[["render",_sfc_render$4],["__scopeId","data-v-42435aea"]]),newsCard_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$3=defineComponent({name:"listCard",props:{list:{type:Array,required:!0}},emits:["changeNews"],setup(k,{emit:l}){const{list:N}=toRefs(k),r=ref("");return{changeNews:I=>{l("changeNews",I),r.value=I.name},list:N,current:r}}}),_hoisted_1$3={class:"card-news"},_hoisted_2$2={class:"list-news"},_hoisted_3$1=["onClick"];function _sfc_render$3(k,l,N,r,q,I){return openBlock(),createElementBlock("div",_hoisted_1$3,[createBaseVNode("ul",_hoisted_2$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.list,($,B)=>(openBlock(),createElementBlock("li",{key:B,class:normalizeClass([{active:k.current===$.name},"item"]),onClick:C=>k.changeNews($)},toDisplayString($.name),11,_hoisted_3$1))),128))])])}var newsCard=_export_sfc(_sfc_main$3,[["render",_sfc_render$3],["__scopeId","data-v-9291ed2c"]]),recommend_vue_vue_type_style_index_0_lang="";const _sfc_main$2=defineComponent({components:{bigCard,modal,tabCard,newsCard},props:{news:{type:Object,require:!0,default:{"0":[]}}},setup(k){const{news:l}=toRefs(k);console.log(l);const N=[{name:"\u524D\u7AEF\u535A\u5BA2",type:"0"},{name:"\u4F18\u8D28\u6587\u7AE0",type:"1"},{name:"\u4EBA\u6587\u89C6\u9891",type:"2"}],r=ref(!1),q=ref(l.value["0"]),I=reactive({url:"",name:""});return{tabs:N,listNews:q,showModal:r,openNews:t=>{t.new?window.open(t.url):(I.url=t.url,I.name=t.name,r.value=!0)},newsSrc:I,changeTab:t=>{q.value=l.value[t.type]?l.value[t.type]:[]},openNewWindow:t=>{window.open(t),r.value=!1}}}}),_hoisted_1$2=["src"];function _sfc_render$2(k,l,N,r,q,I){const $=resolveComponent("tab-card"),B=resolveComponent("news-card"),C=resolveComponent("big-card"),t=resolveComponent("modal");return openBlock(),createElementBlock(Fragment,null,[createVNode(C,{name:"\u63A8\u8350\u9605\u8BFB"},{default:withCtx(()=>[createVNode($,{tabs:k.tabs,onChangeTab:k.changeTab},null,8,["tabs","onChangeTab"]),createVNode(B,{list:k.listNews,onChangeNews:k.openNews,style:{height:"310px"}},null,8,["list","onChangeNews"])]),_:1}),createVNode(t,{value:k.showModal,"onUpdate:value":l[0]||(l[0]=u=>k.showModal=u),name:k.newsSrc.name,onMax:l[1]||(l[1]=u=>k.openNewWindow(k.newsSrc.url))},{default:withCtx(()=>[createBaseVNode("iframe",{id:"newsFrame",src:k.newsSrc.url,class:"frame-news",frameborder:"no",sandbox:"allow-forms allow-scripts allow-same-origin allow-popups"},null,8,_hoisted_1$2)]),_:1},8,["value","name"])],64)}var recommend=_export_sfc(_sfc_main$2,[["render",_sfc_render$2]]),searchCard_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main$1=defineComponent({components:{frame,appCard,recommend},props:{result:{type:Object,require:!0,default:{apps:{}}}},emits:["search"],setup(k,{emit:l}){const N=ref(""),{result:r}=toRefs(k),q=ref([]),I=ref({}),$=()=>{l("search",N.value)},B={vue:"\u57FA\u7840\u6846\u67B6",lib:"UI\u5E93"};return watch([()=>k.result.apps,()=>k.result.news],([C,t],[u,a])=>{q.value=[];for(let p of Object.keys(C)){const f=C[p];f.name=B[p],q.value.push(f)}I.value={};for(let p of Object.keys(t))I.value[p]=t[p],I.value.isShow=!0}),{searchValue:N,onSearch:$,result:r,apps:q,news:I}}}),_withScopeId=k=>(pushScopeId("data-v-1e50b73a"),k=k(),popScopeId(),k),_hoisted_1$1=_withScopeId(()=>createBaseVNode("div",{class:"title"},"Front Search",-1)),_hoisted_2$1=_withScopeId(()=>createBaseVNode("rect",{width:"48",height:"48",fill:"white","fill-opacity":"0.01"},null,-1)),_hoisted_3=_withScopeId(()=>createBaseVNode("path",{d:"M21 38C30.3888 38 38 30.3888 38 21C38 11.6112 30.3888 4 21 4C11.6112 4 4 11.6112 4 21C4 30.3888 11.6112 38 21 38Z",fill:"none",stroke:"#333","stroke-width":"4","stroke-linejoin":"round"},null,-1)),_hoisted_4=_withScopeId(()=>createBaseVNode("path",{d:"M26.6568 14.3431C25.2091 12.8954 23.2091 12 21 12C18.7909 12 16.7909 12.8954 15.3431 14.3431",stroke:"#333","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),_hoisted_5=_withScopeId(()=>createBaseVNode("path",{d:"M33.2218 33.2218L41.7071 41.7071",stroke:"#333","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)),_hoisted_6=[_hoisted_2$1,_hoisted_3,_hoisted_4,_hoisted_5],_hoisted_7=_withScopeId(()=>createBaseVNode("div",null,null,-1));function _sfc_render$1(k,l,N,r,q,I){const $=resolveComponent("frame"),B=resolveComponent("recommend");return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{class:normalizeClass(["search",{"show-search":k.apps.length||k.news.isShow}])},[_hoisted_1$1,withDirectives(createBaseVNode("input",{placeholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9","onUpdate:modelValue":l[0]||(l[0]=C=>k.searchValue=C),class:"input",onKeyup:l[1]||(l[1]=withKeys((...C)=>k.onSearch&&k.onSearch(...C),["enter"]))},null,544),[[vModelText,k.searchValue]]),(openBlock(),createElementBlock("svg",{onClick:l[2]||(l[2]=(...C)=>k.onSearch&&k.onSearch(...C)),class:"icon",width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_hoisted_6)),_hoisted_7],2),createBaseVNode("div",{class:normalizeClass(["result",{"show-result":k.apps.length||k.news.isShow}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(k.apps,(C,t)=>(openBlock(),createBlock($,{key:t,"app-list":C,name:C.name},null,8,["app-list","name"]))),128)),k.news.isShow?(openBlock(),createBlock(B,{key:0,news:k.news},null,8,["news"])):createCommentVNode("",!0)],2)],64)}var searchCard=_export_sfc(_sfc_main$1,[["render",_sfc_render$1],["__scopeId","data-v-1e50b73a"]]);const files$1=[{type:"browser",name:"\u6D4F\u89C8\u5668",files:[{name:"API",url:"md/base/browser/API.md"},{name:"base",url:"md/base/browser/base.md"},{name:"CORS",url:"md/base/browser/CORS.md"},{name:"http",url:"md/base/browser/http.md"},{name:"safe",url:"md/base/browser/safe.md"}]},{type:"css",name:"CSS",files:[{name:"animation",url:"md/base/css/animation.md"},{name:"layout",url:"md/base/css/layout.md"}]},{type:"engineering",name:"\u5DE5\u7A0B\u5316",files:[{name:"design",url:"md/base/engineering/design.md"},{name:"packtools",url:"md/base/engineering/packtools.md"},{name:"SSR",url:"md/base/engineering/SSR.md"}]},{type:"html",name:"HTML",files:[]},{type:"js",name:"JS\u77E5\u8BC6",files:[{name:"JS base",url:"md/base/js/JS base.md"},{name:"TS",url:"md/base/js/TS.md"}]},{name:"README",url:"md/README.md"}],files=[{type:"1+",name:"1+",files:[{name:"1.\u4EC0\u4E48\u662F\u6570\u636E\u7ED3\u6784",url:"pdf/algorithm/1+/1.\u4EC0\u4E48\u662F\u6570\u636E\u7ED3\u6784.pdf"},{name:"2.\u6570\u636E\u7ED3\u6784\u5230\u5E95\u5B66\u4EC0\u4E48\uFF1F",url:"pdf/algorithm/1+/2.\u6570\u636E\u7ED3\u6784\u5230\u5E95\u5B66\u4EC0\u4E48\uFF1F.pdf"},{name:"3.\u6570\u636E\u7684\u903B\u8F91\u7ED3\u6784\u548C\u7269\u7406\u7ED3\u6784",url:"pdf/algorithm/1+/3.\u6570\u636E\u7684\u903B\u8F91\u7ED3\u6784\u548C\u7269\u7406\u7ED3\u6784.pdf"},{name:"4.\u5982\u4F55\u8861\u91CF\u4E00\u4E2A\u7B97\u6CD5\u7684\u597D\u574F\uFF1F",url:"pdf/algorithm/1+/4.\u5982\u4F55\u8861\u91CF\u4E00\u4E2A\u7B97\u6CD5\u7684\u597D\u574F\uFF1F.pdf"},{name:"5.\u6570\u636E\u7ED3\u6784\u548C\u7B97\u6CD5\u7684\u5173\u7CFB\u548C\u533A\u522B",url:"pdf/algorithm/1+/5.\u6570\u636E\u7ED3\u6784\u548C\u7B97\u6CD5\u7684\u5173\u7CFB\u548C\u533A\u522B.pdf"},{name:"6.\u6570\u636E\u7ED3\u6784\u5982\u4F55\u81EA\u5B66\uFF0C\u6548\u7387\u66F4\u9AD8\uFF1F",url:"pdf/algorithm/1+/6.\u6570\u636E\u7ED3\u6784\u5982\u4F55\u81EA\u5B66\uFF0C\u6548\u7387\u66F4\u9AD8\uFF1F.pdf"},{name:"7.\u6570\u5B66\u4E0D\u597D\uFF0C\u5BF9\u5B66\u6570\u636E\u7ED3\u6784\u6709\u5F71\u54CD\u5417\uFF1F",url:"pdf/algorithm/1+/7.\u6570\u5B66\u4E0D\u597D\uFF0C\u5BF9\u5B66\u6570\u636E\u7ED3\u6784\u6709\u5F71\u54CD\u5417\uFF1F.pdf"},{name:"8.\u5B66\u597D\u6570\u636E\u7ED3\u6784\uFF0C\u4F60\u5DF2\u7136\u8D85\u8D8A\u4E8699%\u7684\u7A0B\u5E8F\u5458\uFF01",url:"pdf/algorithm/1+/8.\u5B66\u597D\u6570\u636E\u7ED3\u6784\uFF0C\u4F60\u5DF2\u7136\u8D85\u8D8A\u4E8699%\u7684\u7A0B\u5E8F\u5458\uFF01.pdf"},{name:"\u7B2C1\u7AE0 \u6570\u636E\u7ED3\u6784\u6982\u8FF0",url:"pdf/algorithm/1+/\u7B2C1\u7AE0 \u6570\u636E\u7ED3\u6784\u6982\u8FF0.pdf"}]},{type:"10+",name:"10+",files:[{name:"1.\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/1.\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"10.\u57FA\u6570\u6392\u5E8F",url:"pdf/algorithm/10+/10.\u57FA\u6570\u6392\u5E8F.pdf"},{name:"11.\u5185\u90E8\u6392\u5E8F\u7B97\u6CD5\u4F18\u52BF\u5206\u6790",url:"pdf/algorithm/10+/11.\u5185\u90E8\u6392\u5E8F\u7B97\u6CD5\u4F18\u52BF\u5206\u6790.pdf"},{name:"2.\u6298\u534A\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/2.\u6298\u534A\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"3.2-\u8DEF\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/3.2-\u8DEF\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"4.\u8868\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/4.\u8868\u63D2\u5165\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"5.\u5E0C\u5C14\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/5.\u5E0C\u5C14\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"6.\u5192\u6CE1\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/6.\u5192\u6CE1\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"7.\u5FEB\u901F\u6392\u5E8F\u7B97\u6CD5\uFF08QSort\uFF0C\u5FEB\u6392\uFF09",url:"pdf/algorithm/10+/7.\u5FEB\u901F\u6392\u5E8F\u7B97\u6CD5\uFF08QSort\uFF0C\u5FEB\u6392\uFF09.pdf"},{name:"8.\u9009\u62E9\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/8.\u9009\u62E9\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"9.\u5F52\u5E76\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/9.\u5F52\u5E76\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"\u7B2C10\u7AE0 \u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/10+/\u7B2C10\u7AE0 \u6392\u5E8F\u7B97\u6CD5.pdf"}]},{type:"11+",name:"11+",files:[{name:"1.\u4EC0\u4E48\u662F\u5916\u90E8\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/11+/1.\u4EC0\u4E48\u662F\u5916\u90E8\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"2.\u591A\u8DEF\u5E73\u8861\u5F52\u5E76\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/11+/2.\u591A\u8DEF\u5E73\u8861\u5F52\u5E76\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"3.\u7F6E\u6362\u9009\u62E9\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/11+/3.\u7F6E\u6362\u9009\u62E9\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"4.\u6700\u4F73\u5F52\u5E76\u6811",url:"pdf/algorithm/11+/4.\u6700\u4F73\u5F52\u5E76\u6811.pdf"},{name:"\u7B2C11\u7AE0 \u5916\u90E8\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/11+/\u7B2C11\u7AE0 \u5916\u90E8\u6392\u5E8F\u7B97\u6CD5.pdf"}]},{type:"12+",name:"12+",files:[{name:"1.\u5C0F\u7532\u9C7C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B\uFF0898\u8BB2\u5168\uFF09",url:"pdf/algorithm/12+/1.\u5C0F\u7532\u9C7C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B\uFF0898\u8BB2\u5168\uFF09.pdf"},{name:"2.\u90DD\u658C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B",url:"pdf/algorithm/12+/2.\u90DD\u658C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B.pdf"},{name:"3.\u56FD\u5D4C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B",url:"pdf/algorithm/12+/3.\u56FD\u5D4C\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B.pdf"},{name:"4.\u4E0A\u6D77\u4EA4\u5927\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B",url:"pdf/algorithm/12+/4.\u4E0A\u6D77\u4EA4\u5927\u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B.pdf"},{name:"5.\u5409\u6797\u5927\u5B66\u6570\u636E\u7ED3\u6784\u89C6\u9891\u6559\u7A0B",url:"pdf/algorithm/12+/5.\u5409\u6797\u5927\u5B66\u6570\u636E\u7ED3\u6784\u89C6\u9891\u6559\u7A0B.pdf"},{name:"6.\u4E25\u851A\u654F\u6570\u636E\u7ED3\u6784\u89C6\u9891\u6559\u7A0B",url:"pdf/algorithm/12+/6.\u4E25\u851A\u654F\u6570\u636E\u7ED3\u6784\u89C6\u9891\u6559\u7A0B.pdf"},{name:"\u7B2C12\u7AE0 \u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B",url:"pdf/algorithm/12+/\u7B2C12\u7AE0 \u6570\u636E\u7ED3\u6784\u4E0E\u7B97\u6CD5\u89C6\u9891\u6559\u7A0B.pdf"}]},{type:"2+",name:"2+",files:[{name:"1.\u4EC0\u4E48\u662F\u7EBF\u6027\u8868",url:"pdf/algorithm/2+/1.\u4EC0\u4E48\u662F\u7EBF\u6027\u8868.pdf"},{name:"10.\u9759\u6001\u94FE\u8868\uFF1A\u66F4\u9AD8\u7EA7\u7684\u7EBF\u6027\u8868",url:"pdf/algorithm/2+/10.\u9759\u6001\u94FE\u8868\uFF1A\u66F4\u9AD8\u7EA7\u7684\u7EBF\u6027\u8868.pdf"},{name:"11.\u9759\u6001\u94FE\u8868\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/2+/11.\u9759\u6001\u94FE\u8868\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"12.\u9759\u6001\u94FE\u8868\u548C\u52A8\u6001\u94FE\u8868\u533A\u522B",url:"pdf/algorithm/2+/12.\u9759\u6001\u94FE\u8868\u548C\u52A8\u6001\u94FE\u8868\u533A\u522B.pdf"},{name:"13.\u5FAA\u73AF\u94FE\u8868\u5B9E\u73B0\u7EA6\u745F\u592B\u73AF",url:"pdf/algorithm/2+/13.\u5FAA\u73AF\u94FE\u8868\u5B9E\u73B0\u7EA6\u745F\u592B\u73AF.pdf"},{name:"14.\u5982\u4F55\u5224\u65AD\u94FE\u8868\u4E2D\u6709\u73AF\uFF1F",url:"pdf/algorithm/2+/14.\u5982\u4F55\u5224\u65AD\u94FE\u8868\u4E2D\u6709\u73AF\uFF1F.pdf"},{name:"15.\u53CC\u5411\u94FE\u8868\u662F\u4EC0\u4E48",url:"pdf/algorithm/2+/15.\u53CC\u5411\u94FE\u8868\u662F\u4EC0\u4E48.pdf"},{name:"16.\u53CC\u5411\u94FE\u8868\u7684\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/2+/16.\u53CC\u5411\u94FE\u8868\u7684\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"17.\u53CC\u5411\u94FE\u8868\u5B9E\u73B0\u8D2A\u5403\u86C7\u6E38\u620F\uFF08\u542B\u6E90\u7801\uFF09",url:"pdf/algorithm/2+/17.\u53CC\u5411\u94FE\u8868\u5B9E\u73B0\u8D2A\u5403\u86C7\u6E38\u620F\uFF08\u542B\u6E90\u7801\uFF09.pdf"},{name:"18.\u53CC\u5411\u5FAA\u73AF\u94FE\u8868\uFF08C\u8BED\u8A00\uFF09",url:"pdf/algorithm/2+/18.\u53CC\u5411\u5FAA\u73AF\u94FE\u8868\uFF08C\u8BED\u8A00\uFF09.pdf"},{name:"19.[\u9879\u76EE\u5B9E\u8DF5]\u4FC4\u7F57\u65AF\u8F6E\u76D8\u8D4C\u5C0F\u6E38\u620F",url:"pdf/algorithm/2+/19.[\u9879\u76EE\u5B9E\u8DF5]\u4FC4\u7F57\u65AF\u8F6E\u76D8\u8D4C\u5C0F\u6E38\u620F.pdf"},{name:"2.\u987A\u5E8F\u8868\u662F\u4EC0\u4E48",url:"pdf/algorithm/2+/2.\u987A\u5E8F\u8868\u662F\u4EC0\u4E48.pdf"},{name:"3.\u987A\u5E8F\u8868\u7684\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/2+/3.\u987A\u5E8F\u8868\u7684\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"4.\u94FE\u8868\u662F\u4EC0\u4E48",url:"pdf/algorithm/2+/4.\u94FE\u8868\u662F\u4EC0\u4E48.pdf"},{name:"5.\u94FE\u8868\u7684\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/2+/5.\u94FE\u8868\u7684\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"6.\u987A\u5E8F\u8868\u548C\u94FE\u8868\u6709\u54EA\u4E9B\u4E0D\u540C\uFF1F",url:"pdf/algorithm/2+/6.\u987A\u5E8F\u8868\u548C\u94FE\u8868\u6709\u54EA\u4E9B\u4E0D\u540C\uFF1F.pdf"},{name:"7.\u5B58\u50A8\u7ED3\u6784\u548C\u5B58\u53D6\u7ED3\u6784\uFF0C\u5B8C\u5168\u4E0D\u662F\u4E00\u7801\u4E8B\uFF01",url:"pdf/algorithm/2+/7.\u5B58\u50A8\u7ED3\u6784\u548C\u5B58\u53D6\u7ED3\u6784\uFF0C\u5B8C\u5168\u4E0D\u662F\u4E00\u7801\u4E8B\uFF01.pdf"},{name:"8.4\u79CD\u7B97\u6CD5\uFF0C\u5B9E\u73B0\u5355\u94FE\u8868\u7684\u53CD\u8F6C\uFF01",url:"pdf/algorithm/2+/8.4\u79CD\u7B97\u6CD5\uFF0C\u5B9E\u73B0\u5355\u94FE\u8868\u7684\u53CD\u8F6C\uFF01.pdf"},{name:"9.\u5982\u4F55\u5224\u65AD\u4E24\u4E2A\u5355\u94FE\u8868\u76F8\u4EA4\uFF1F",url:"pdf/algorithm/2+/9.\u5982\u4F55\u5224\u65AD\u4E24\u4E2A\u5355\u94FE\u8868\u76F8\u4EA4\uFF1F.pdf"},{name:"\u7B2C2\u7AE0 \u7EBF\u6027\u8868",url:"pdf/algorithm/2+/\u7B2C2\u7AE0 \u7EBF\u6027\u8868.pdf"}]},{type:"3+",name:"3+",files:[{name:"1.\u4EC0\u4E48\u662F\u6808",url:"pdf/algorithm/3+/1.\u4EC0\u4E48\u662F\u6808.pdf"},{name:"10.\u4E3A\u4EC0\u4E48\u8BF4\u6808\u548C\u961F\u5217\u662F\u7EBF\u6027\u5B58\u50A8\u7ED3\u6784\uFF1F",url:"pdf/algorithm/3+/10.\u4E3A\u4EC0\u4E48\u8BF4\u6808\u548C\u961F\u5217\u662F\u7EBF\u6027\u5B58\u50A8\u7ED3\u6784\uFF1F.pdf"},{name:"11.[\u9879\u76EE\u5B9E\u8DF5]\u53D8\u6001\u7684\u505C\u8F66\u573A\u7BA1\u7406\u7CFB\u7EDF",url:"pdf/algorithm/3+/11.[\u9879\u76EE\u5B9E\u8DF5]\u53D8\u6001\u7684\u505C\u8F66\u573A\u7BA1\u7406\u7CFB\u7EDF.pdf"},{name:"12.[\u9879\u76EE\u5B9E\u8DF5]\u6251\u514B\u724C\u5C0F\u6E38\u620F",url:"pdf/algorithm/3+/12.[\u9879\u76EE\u5B9E\u8DF5]\u6251\u514B\u724C\u5C0F\u6E38\u620F.pdf"},{name:"2.\u987A\u5E8F\u6808\u7684\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/3+/2.\u987A\u5E8F\u6808\u7684\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"3.\u94FE\u6808\u7684\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/3+/3.\u94FE\u6808\u7684\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"4.[\u9879\u76EE\u5B9E\u8DF5]\u8FDB\u5236\u8F6C\u6362\u5668",url:"pdf/algorithm/3+/4.[\u9879\u76EE\u5B9E\u8DF5]\u8FDB\u5236\u8F6C\u6362\u5668.pdf"},{name:"5.[\u9879\u76EE\u5B9E\u8DF5]\u62EC\u53F7\u5339\u914D",url:"pdf/algorithm/3+/5.[\u9879\u76EE\u5B9E\u8DF5]\u62EC\u53F7\u5339\u914D.pdf"},{name:"6.\u5982\u4F55\u7528\u6808\u5B9E\u73B0\u6C42\u8868\u8FBE\u5F0F\u7684\u503C\uFF1F",url:"pdf/algorithm/3+/6.\u5982\u4F55\u7528\u6808\u5B9E\u73B0\u6C42\u8868\u8FBE\u5F0F\u7684\u503C\uFF1F.pdf"},{name:"7.\u4EC0\u4E48\u662F\u961F\u5217",url:"pdf/algorithm/3+/7.\u4EC0\u4E48\u662F\u961F\u5217.pdf"},{name:"8.\u987A\u5E8F\u961F\u5217\u53CA\u5176\u5B9E\u73B0",url:"pdf/algorithm/3+/8.\u987A\u5E8F\u961F\u5217\u53CA\u5176\u5B9E\u73B0.pdf"},{name:"9.\u94FE\u5F0F\u961F\u5217\u53CA\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/3+/9.\u94FE\u5F0F\u961F\u5217\u53CA\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"\u7B2C3\u7AE0 \u6808\u548C\u961F\u5217",url:"pdf/algorithm/3+/\u7B2C3\u7AE0 \u6808\u548C\u961F\u5217.pdf"}]},{type:"4+",name:"4+",files:[{name:"1.\u4EC0\u4E48\u662F\u4E32\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/4+/1.\u4EC0\u4E48\u662F\u4E32\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"2.\u4E32\u7684\u5B9A\u957F\u987A\u5E8F\u5B58\u50A8",url:"pdf/algorithm/4+/2.\u4E32\u7684\u5B9A\u957F\u987A\u5E8F\u5B58\u50A8.pdf"},{name:"3.\u4E32\u7684\u5806\u5206\u914D\u5B58\u50A8",url:"pdf/algorithm/4+/3.\u4E32\u7684\u5806\u5206\u914D\u5B58\u50A8.pdf"},{name:"4.\u4E32\u7684\u5757\u94FE\u5B58\u50A8",url:"pdf/algorithm/4+/4.\u4E32\u7684\u5757\u94FE\u5B58\u50A8.pdf"},{name:"5.BF\u7B97\u6CD5\uFF08\u4E32\u6A21\u5F0F\u5339\u914D\u7B97\u6CD5\uFF09",url:"pdf/algorithm/4+/5.BF\u7B97\u6CD5\uFF08\u4E32\u6A21\u5F0F\u5339\u914D\u7B97\u6CD5\uFF09.pdf"},{name:"6.KMP\u7B97\u6CD5",url:"pdf/algorithm/4+/6.KMP\u7B97\u6CD5.pdf"},{name:"7.[\u9879\u76EE\u5B9E\u8DF5]\u5B57\u7B26\u8FC7\u6EE4\u7CFB\u7EDF",url:"pdf/algorithm/4+/7.[\u9879\u76EE\u5B9E\u8DF5]\u5B57\u7B26\u8FC7\u6EE4\u7CFB\u7EDF.pdf"},{name:"\u7B2C4\u7AE0 \u5B57\u7B26\u4E32",url:"pdf/algorithm/4+/\u7B2C4\u7AE0 \u5B57\u7B26\u4E32.pdf"}]},{type:"5+",name:"5+",files:[{name:"1.\u4EC0\u4E48\u662F\u6570\u7EC4",url:"pdf/algorithm/5+/1.\u4EC0\u4E48\u662F\u6570\u7EC4.pdf"},{name:"10.\u77E9\u9635\u52A0\u6CD5\uFF08\u57FA\u4E8E\u5341\u5B57\u94FE\u8868\uFF09",url:"pdf/algorithm/5+/10.\u77E9\u9635\u52A0\u6CD5\uFF08\u57FA\u4E8E\u5341\u5B57\u94FE\u8868\uFF09.pdf"},{name:"11.\u4EC0\u4E48\u662F\u5E7F\u4E49\u8868",url:"pdf/algorithm/5+/11.\u4EC0\u4E48\u662F\u5E7F\u4E49\u8868.pdf"},{name:"12.\u5E7F\u4E49\u8868\u7684\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/5+/12.\u5E7F\u4E49\u8868\u7684\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"13.\u5E7F\u4E49\u8868\u7684\u6DF1\u5EA6\u548C\u957F\u5EA6",url:"pdf/algorithm/5+/13.\u5E7F\u4E49\u8868\u7684\u6DF1\u5EA6\u548C\u957F\u5EA6.pdf"},{name:"14.\u590D\u5236\u5E7F\u4E49\u8868",url:"pdf/algorithm/5+/14.\u590D\u5236\u5E7F\u4E49\u8868.pdf"},{name:"2.\u6570\u7EC4\u7684\u987A\u5E8F\u5B58\u50A8",url:"pdf/algorithm/5+/2.\u6570\u7EC4\u7684\u987A\u5E8F\u5B58\u50A8.pdf"},{name:"3.\u77E9\u9635\uFF08\u7A00\u758F\u77E9\u9635\uFF09\u538B\u7F29\u5B58\u50A8",url:"pdf/algorithm/5+/3.\u77E9\u9635\uFF08\u7A00\u758F\u77E9\u9635\uFF09\u538B\u7F29\u5B58\u50A8.pdf"},{name:"4.\u4E09\u5143\u7EC4\u987A\u5E8F\u8868",url:"pdf/algorithm/5+/4.\u4E09\u5143\u7EC4\u987A\u5E8F\u8868.pdf"},{name:"5.\u884C\u903B\u8F91\u94FE\u63A5\u7684\u987A\u5E8F\u8868",url:"pdf/algorithm/5+/5.\u884C\u903B\u8F91\u94FE\u63A5\u7684\u987A\u5E8F\u8868.pdf"},{name:"6.\u5341\u5B57\u94FE\u8868\u6CD5",url:"pdf/algorithm/5+/6.\u5341\u5B57\u94FE\u8868\u6CD5.pdf"},{name:"7.\u77E9\u9635\u7684\u8F6C\u7F6E\u7B97\u6CD5",url:"pdf/algorithm/5+/7.\u77E9\u9635\u7684\u8F6C\u7F6E\u7B97\u6CD5.pdf"},{name:"8.\u7A00\u758F\u77E9\u9635\u7684\u5FEB\u901F\u8F6C\u7F6E",url:"pdf/algorithm/5+/8.\u7A00\u758F\u77E9\u9635\u7684\u5FEB\u901F\u8F6C\u7F6E.pdf"},{name:"9.\u77E9\u9635\u4E58\u6CD5\uFF08\u57FA\u4E8E\u884C\u903B\u8F91\u94FE\u63A5\u7684\u987A\u5E8F\u8868\uFF09",url:"pdf/algorithm/5+/9.\u77E9\u9635\u4E58\u6CD5\uFF08\u57FA\u4E8E\u884C\u903B\u8F91\u94FE\u63A5\u7684\u987A\u5E8F\u8868\uFF09.pdf"},{name:"\u7B2C5\u7AE0 \u6570\u7EC4\u548C\u5E7F\u4E49\u8868",url:"pdf/algorithm/5+/\u7B2C5\u7AE0 \u6570\u7EC4\u548C\u5E7F\u4E49\u8868.pdf"}]},{type:"6+",name:"6+",files:[{name:"1.\u6811\u7684\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/6+/1.\u6811\u7684\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"10.\u7EBF\u7D22\u4E8C\u53C9\u6811(C\u8BED\u8A00\u5B9E\u73B0)",url:"pdf/algorithm/6+/10.\u7EBF\u7D22\u4E8C\u53C9\u6811(C\u8BED\u8A00\u5B9E\u73B0).pdf"},{name:"11.\u53CC\u5411\u7EBF\u7D22\u4E8C\u53C9\u6811\u7684\u5EFA\u7ACB",url:"pdf/algorithm/6+/11.\u53CC\u5411\u7EBF\u7D22\u4E8C\u53C9\u6811\u7684\u5EFA\u7ACB.pdf"},{name:"12.\u6811\u7684\u53CC\u4EB2\u8868\u793A\u6CD5",url:"pdf/algorithm/6+/12.\u6811\u7684\u53CC\u4EB2\u8868\u793A\u6CD5.pdf"},{name:"13.\u6811\u7684\u5B69\u5B50\u8868\u793A\u6CD5",url:"pdf/algorithm/6+/13.\u6811\u7684\u5B69\u5B50\u8868\u793A\u6CD5.pdf"},{name:"14.\u6811\u7684\u5B69\u5B50\u5144\u5F1F\u8868\u793A\u6CD5",url:"pdf/algorithm/6+/14.\u6811\u7684\u5B69\u5B50\u5144\u5F1F\u8868\u793A\u6CD5.pdf"},{name:"15.\u68EE\u6797\u8F6C\u5316\u4E3A\u4E8C\u53C9\u6811",url:"pdf/algorithm/6+/15.\u68EE\u6797\u8F6C\u5316\u4E3A\u4E8C\u53C9\u6811.pdf"},{name:"16.\u54C8\u592B\u66FC\u6811",url:"pdf/algorithm/6+/16.\u54C8\u592B\u66FC\u6811.pdf"},{name:"17.\u56DE\u6EAF\u7B97\u6CD5",url:"pdf/algorithm/6+/17.\u56DE\u6EAF\u7B97\u6CD5.pdf"},{name:"18.n\u4E2A\u7ED3\u70B9\u7684\u4E8C\u53C9\u6811\u79CD\u7C7B",url:"pdf/algorithm/6+/18.n\u4E2A\u7ED3\u70B9\u7684\u4E8C\u53C9\u6811\u79CD\u7C7B.pdf"},{name:"19.[\u9879\u76EE\u5B9E\u8DF5]\u79FB\u52A8\u8FF7\u5BAB\u5C0F\u6E38\u620F(\u521D\u7EA7\u7248)",url:"pdf/algorithm/6+/19.[\u9879\u76EE\u5B9E\u8DF5]\u79FB\u52A8\u8FF7\u5BAB\u5C0F\u6E38\u620F(\u521D\u7EA7\u7248).pdf"},{name:"2.\u4EC0\u4E48\u662F\u4E8C\u53C9\u6811",url:"pdf/algorithm/6+/2.\u4EC0\u4E48\u662F\u4E8C\u53C9\u6811.pdf"},{name:"3.\u4E8C\u53C9\u6811\u7684\u987A\u5E8F\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/6+/3.\u4E8C\u53C9\u6811\u7684\u987A\u5E8F\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"4.\u4E8C\u53C9\u6811\u7684\u94FE\u5F0F\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/6+/4.\u4E8C\u53C9\u6811\u7684\u94FE\u5F0F\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"5.\u6D45\u8C08\u4E8C\u53C9\u6811\u7684\uFF084\u79CD\uFF09\u904D\u5386\u7B97\u6CD5",url:"pdf/algorithm/6+/5.\u6D45\u8C08\u4E8C\u53C9\u6811\u7684\uFF084\u79CD\uFF09\u904D\u5386\u7B97\u6CD5.pdf"},{name:"6.\u4E8C\u53C9\u6811\u5148\u5E8F\u904D\u5386\uFF08\u9012\u5F52\u4E0E\u975E\u9012\u5F52\uFF09",url:"pdf/algorithm/6+/6.\u4E8C\u53C9\u6811\u5148\u5E8F\u904D\u5386\uFF08\u9012\u5F52\u4E0E\u975E\u9012\u5F52\uFF09.pdf"},{name:"7.\u4E8C\u53C9\u6811\u4E2D\u5E8F\u904D\u5386\uFF08\u9012\u5F52\u548C\u975E\u9012\u5F52\uFF09",url:"pdf/algorithm/6+/7.\u4E8C\u53C9\u6811\u4E2D\u5E8F\u904D\u5386\uFF08\u9012\u5F52\u548C\u975E\u9012\u5F52\uFF09.pdf"},{name:"8.\u4E8C\u53C9\u6811\u540E\u5E8F\u904D\u5386\uFF08\u9012\u5F52\u4E0E\u975E\u9012\u5F52\uFF09",url:"pdf/algorithm/6+/8.\u4E8C\u53C9\u6811\u540E\u5E8F\u904D\u5386\uFF08\u9012\u5F52\u4E0E\u975E\u9012\u5F52\uFF09.pdf"},{name:"9.\u4E8C\u53C9\u6811\u5C42\u6B21\u904D\u5386",url:"pdf/algorithm/6+/9.\u4E8C\u53C9\u6811\u5C42\u6B21\u904D\u5386.pdf"},{name:"\u7B2C6\u7AE0 \u6811",url:"pdf/algorithm/6+/\u7B2C6\u7AE0 \u6811.pdf"}]},{type:"7+",name:"7+",files:[{name:"1.\u4EC0\u4E48\u662F\u56FE\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/7+/1.\u4EC0\u4E48\u662F\u56FE\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"10.\u666E\u91CC\u59C6\u7B97\u6CD5(Prim\u7B97\u6CD5)",url:"pdf/algorithm/7+/10.\u666E\u91CC\u59C6\u7B97\u6CD5(Prim\u7B97\u6CD5).pdf"},{name:"11.\u514B\u9C81\u65AF\u5361\u5C14\u7B97\u6CD5(Kruskal\u7B97\u6CD5)",url:"pdf/algorithm/7+/11.\u514B\u9C81\u65AF\u5361\u5C14\u7B97\u6CD5(Kruskal\u7B97\u6CD5).pdf"},{name:"12.\u91CD\u8FDE\u901A\u56FE",url:"pdf/algorithm/7+/12.\u91CD\u8FDE\u901A\u56FE.pdf"},{name:"13.\u62D3\u6251\u6392\u5E8F\u7B97\u6CD5",url:"pdf/algorithm/7+/13.\u62D3\u6251\u6392\u5E8F\u7B97\u6CD5.pdf"},{name:"14.\u5173\u952E\u8DEF\u5F84",url:"pdf/algorithm/7+/14.\u5173\u952E\u8DEF\u5F84.pdf"},{name:"15.\u8FEA\u6770\u65AF\u7279\u62C9\u7B97\u6CD5",url:"pdf/algorithm/7+/15.\u8FEA\u6770\u65AF\u7279\u62C9\u7B97\u6CD5.pdf"},{name:"16.\u5F17\u6D1B\u4F0A\u5FB7\u7B97\u6CD5",url:"pdf/algorithm/7+/16.\u5F17\u6D1B\u4F0A\u5FB7\u7B97\u6CD5.pdf"},{name:"17.[\u9879\u76EE\u5B9E\u8DF5]\u79FB\u52A8\u8FF7\u5BAB\u5C0F\u6E38\u620F(\u5347\u7EA7\u7248)",url:"pdf/algorithm/7+/17.[\u9879\u76EE\u5B9E\u8DF5]\u79FB\u52A8\u8FF7\u5BAB\u5C0F\u6E38\u620F(\u5347\u7EA7\u7248).pdf"},{name:"2.\u4EC0\u4E48\u662F\u8FDE\u901A\u56FE",url:"pdf/algorithm/7+/2.\u4EC0\u4E48\u662F\u8FDE\u901A\u56FE.pdf"},{name:"3.\u4EC0\u4E48\u662F\u751F\u6210\u6811",url:"pdf/algorithm/7+/3.\u4EC0\u4E48\u662F\u751F\u6210\u6811.pdf"},{name:"4.\u56FE\u7684\u987A\u5E8F\u5B58\u50A8\u7ED3\u6784",url:"pdf/algorithm/7+/4.\u56FE\u7684\u987A\u5E8F\u5B58\u50A8\u7ED3\u6784.pdf"},{name:"5.\u56FE\u7684\u90BB\u63A5\u8868\u5B58\u50A8\u6CD5",url:"pdf/algorithm/7+/5.\u56FE\u7684\u90BB\u63A5\u8868\u5B58\u50A8\u6CD5.pdf"},{name:"6.\u56FE\u7684\u5341\u5B57\u94FE\u8868\u5B58\u50A8\u6CD5",url:"pdf/algorithm/7+/6.\u56FE\u7684\u5341\u5B57\u94FE\u8868\u5B58\u50A8\u6CD5.pdf"},{name:"7.\u56FE\u7684\u90BB\u63A5\u591A\u91CD\u8868\u5B58\u50A8\u6CD5",url:"pdf/algorithm/7+/7.\u56FE\u7684\u90BB\u63A5\u591A\u91CD\u8868\u5B58\u50A8\u6CD5.pdf"},{name:"8.\u6DF1\u5EA6\u4F18\u5148\u641C\u7D22\u548C\u5E7F\u5EA6\u4F18\u5148\u641C\u7D22",url:"pdf/algorithm/7+/8.\u6DF1\u5EA6\u4F18\u5148\u641C\u7D22\u548C\u5E7F\u5EA6\u4F18\u5148\u641C\u7D22.pdf"},{name:"9.\u6DF1\u5EA6\u4F18\u5148\u751F\u6210\u6811\u548C\u5E7F\u5EA6\u4F18\u5148\u751F\u6210\u6811",url:"pdf/algorithm/7+/9.\u6DF1\u5EA6\u4F18\u5148\u751F\u6210\u6811\u548C\u5E7F\u5EA6\u4F18\u5148\u751F\u6210\u6811.pdf"},{name:"\u7B2C7\u7AE0 \u56FE",url:"pdf/algorithm/7+/\u7B2C7\u7AE0 \u56FE.pdf"}]},{type:"8+",name:"8+",files:[{name:"1.\u52A8\u6001\u5185\u5B58\u7BA1\u7406",url:"pdf/algorithm/8+/1.\u52A8\u6001\u5185\u5B58\u7BA1\u7406.pdf"},{name:"2.\u8FB9\u754C\u6807\u8BC6\u6CD5",url:"pdf/algorithm/8+/2.\u8FB9\u754C\u6807\u8BC6\u6CD5.pdf"},{name:"3.\u4F19\u4F34\u7CFB\u7EDF",url:"pdf/algorithm/8+/3.\u4F19\u4F34\u7CFB\u7EDF.pdf"},{name:"4.\u7CFB\u7EDF\u5783\u573E\u56DE\u6536\u673A\u5236",url:"pdf/algorithm/8+/4.\u7CFB\u7EDF\u5783\u573E\u56DE\u6536\u673A\u5236.pdf"},{name:"5.\u5185\u5B58\u7D27\u7F29\uFF08\u5185\u5B58\u788E\u7247\u5316\u5904\u7406\uFF09",url:"pdf/algorithm/8+/5.\u5185\u5B58\u7D27\u7F29\uFF08\u5185\u5B58\u788E\u7247\u5316\u5904\u7406\uFF09.pdf"},{name:"\u7B2C8\u7AE0 \u52A8\u6001\u5185\u5B58\u7BA1\u7406",url:"pdf/algorithm/8+/\u7B2C8\u7AE0 \u52A8\u6001\u5185\u5B58\u7BA1\u7406.pdf"}]},{type:"9+",name:"9+",files:[{name:"1.\u4EC0\u4E48\u662F\u67E5\u627E\u8868",url:"pdf/algorithm/9+/1.\u4EC0\u4E48\u662F\u67E5\u627E\u8868.pdf"},{name:"10.B+\u6811\u53CA\u63D2\u5165\u548C\u5220\u9664\u64CD\u4F5C",url:"pdf/algorithm/9+/10.B+\u6811\u53CA\u63D2\u5165\u548C\u5220\u9664\u64CD\u4F5C.pdf"},{name:"11.\u952E\u6811\u67E5\u627E\u6CD5\uFF08\u53CC\u94FE\u6811\u548C\u5B57\u5178\u6811\uFF09",url:"pdf/algorithm/9+/11.\u952E\u6811\u67E5\u627E\u6CD5\uFF08\u53CC\u94FE\u6811\u548C\u5B57\u5178\u6811\uFF09.pdf"},{name:"12.\u4EC0\u4E48\u662F\u54C8\u5E0C\u8868\uFF08\u6563\u5217\u8868\uFF09",url:"pdf/algorithm/9+/12.\u4EC0\u4E48\u662F\u54C8\u5E0C\u8868\uFF08\u6563\u5217\u8868\uFF09.pdf"},{name:"13.\u54C8\u5E0C\u67E5\u627E\u7B97\u6CD5",url:"pdf/algorithm/9+/13.\u54C8\u5E0C\u67E5\u627E\u7B97\u6CD5.pdf"},{name:"2.\u987A\u5E8F\u67E5\u627E\u7B97\u6CD5",url:"pdf/algorithm/9+/2.\u987A\u5E8F\u67E5\u627E\u7B97\u6CD5.pdf"},{name:"3.\u6298\u534A\u67E5\u627E\uFF08\u4E8C\u5206\u67E5\u627E\uFF09",url:"pdf/algorithm/9+/3.\u6298\u534A\u67E5\u627E\uFF08\u4E8C\u5206\u67E5\u627E\uFF09.pdf"},{name:"4.\u5206\u5757\u67E5\u627E\u7B97\u6CD5\uFF08\u7D22\u5F15\u987A\u5E8F\u67E5\u627E\uFF09",url:"pdf/algorithm/9+/4.\u5206\u5757\u67E5\u627E\u7B97\u6CD5\uFF08\u7D22\u5F15\u987A\u5E8F\u67E5\u627E\uFF09.pdf"},{name:"5.\u9759\u6001\u6811\u8868\u67E5\u627E\u7B97\u6CD5",url:"pdf/algorithm/9+/5.\u9759\u6001\u6811\u8868\u67E5\u627E\u7B97\u6CD5.pdf"},{name:"6.\u4E8C\u53C9\u6392\u5E8F\u6811\uFF08\u4E8C\u53C9\u67E5\u627E\u6811\uFF09",url:"pdf/algorithm/9+/6.\u4E8C\u53C9\u6392\u5E8F\u6811\uFF08\u4E8C\u53C9\u67E5\u627E\u6811\uFF09.pdf"},{name:"7.\u5E73\u8861\u4E8C\u53C9\u6811\uFF08AVL\u6811\uFF09",url:"pdf/algorithm/9+/7.\u5E73\u8861\u4E8C\u53C9\u6811\uFF08AVL\u6811\uFF09.pdf"},{name:"8.\u7EA2\u9ED1\u6811\u7B97\u6CD5(\u66F4\u9AD8\u7EA7\u7684\u4E8C\u53C9\u67E5\u627E\u6811)",url:"pdf/algorithm/9+/8.\u7EA2\u9ED1\u6811\u7B97\u6CD5(\u66F4\u9AD8\u7EA7\u7684\u4E8C\u53C9\u67E5\u627E\u6811).pdf"},{name:"9.B-\u6811\u53CA\u5176\u57FA\u672C\u64CD\u4F5C",url:"pdf/algorithm/9+/9.B-\u6811\u53CA\u5176\u57FA\u672C\u64CD\u4F5C.pdf"},{name:"\u7B2C9\u7AE0 \u67E5\u627E\u7B97\u6CD5",url:"pdf/algorithm/9+/\u7B2C9\u7AE0 \u67E5\u627E\u7B97\u6CD5.pdf"}]},{name:"resume",url:"pdf/resume.pdf"}],searchApps=(k,l,N="name")=>{if(!l)return{};const r={};l=l.toLocaleLowerCase();const q=l.match(/[\u4e00-\u9fa5]/g)||[],I=[...l.split(" "),...q];for(let $ of Object.keys(k)){const B=k[$];let C=[];B.forEach(t=>{const u=t[N].toLocaleLowerCase().replace(/\s/g,"");for(let a of I)if(a!==" "&&u.indexOf(a)!==-1){C.push(t);return}}),C.length&&(r[$]=C)}return r};var index_vue_vue_type_style_index_0_lang="";const _sfc_main=defineComponent({components:{bigCard,frame,note,recommend,searchCard,modal},setup(){const k=ref(files$1),l=ref(files);let N=reactive({apps:{},news:{}});const r=ref(!1),q=()=>{const $=document.querySelector("#learn"),B=`/bg/${getWeek()}.jpg`;$.setAttribute("style",`background:url(${B}) 0 fixed;`)};return onMounted(()=>{q()}),{filesNote:k,filesAlgori:l,apps,showSearch:r,searchData:$=>{N.apps=searchApps(apps,$),N.news=searchApps(newsList,$)},searchResult:N,listNews:newsList}}}),_hoisted_1={id:"learn",class:"learn-bg"},_hoisted_2={style:{height:"90%"}};function _sfc_render(k,l,N,r,q,I){const $=resolveComponent("recommend"),B=resolveComponent("frame"),C=resolveComponent("note"),t=resolveComponent("search-card"),u=resolveComponent("modal");return openBlock(),createElementBlock("div",_hoisted_1,[createVNode($,{news:k.listNews},null,8,["news"]),createVNode(B,{"app-list":k.apps.vue,name:"\u524D\u7AEF\u6846\u67B6"},null,8,["app-list"]),createVNode(B,{"app-list":k.apps.lib,name:"UI\u5E93"},null,8,["app-list"]),createVNode(C,{files:k.filesNote,name:"\u7B14\u8BB0"},null,8,["files"]),createVNode(u,{value:k.showSearch,"onUpdate:value":l[0]||(l[0]=a=>k.showSearch=a),name:"\u641C\u7D22\u5185\u5BB9..."},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2,[createVNode(t,{onSearch:k.searchData,result:k.searchResult},null,8,["onSearch","result"])])]),_:1},8,["value"])])}var index=_export_sfc(_sfc_main,[["render",_sfc_render]]);export{index as default};

import{d as z,A as b,h as f,O as w,o as _,a as v,B as l,P as G,b as e,D as o,G as m,C as I,F as h,E as y,j as V,J as X,K as $,s as c,e as S}from"./vendor.6f35fcad.js";import q from"./base.e3b2223d.js";import H from"./itemResume.49eaec15.js";import{F as Q}from"./FileSaver.min.0a913109.js";import{_ as W}from"./index.0cb3c0e5.js";import"./_commonjsHelpers.a5007c1f.js";const p=D=>(X("data-v-1adf142e"),D=D(),$(),D),Y={class:"resume"},Z={class:"left"},ee=p(()=>e("span",null,"\u5BFC\u5165\u6570\u636E: ",-1)),te={class:"base-info"},ue=p(()=>e("div",{class:"title"},"\u57FA\u672C\u4FE1\u606F",-1)),se={class:"base"},ne=c(" \u540D\u5B57\uFF1A "),oe={class:"base"},ae=c(" \u7535\u8BDD\uFF1A "),ie={class:"base"},le=c(" \u90AE\u7BB1\uFF1A"),de={class:"base"},ce=c(" \u7167\u7247\uFF1A"),re={class:"base"},pe=c(" \u65B9\u5411\uFF1A"),Fe={class:"content-info"},_e=p(()=>e("div",{class:"title"},"\u5185\u5BB9\u533A",-1)),ve={class:"item-select"},me=c(" \u5185\u5BB9\u9009\u62E9\uFF1A "),Ee=p(()=>e("option",{value:"person"},"\u4E2A\u4EBA\u603B\u7ED3",-1)),fe=p(()=>e("option",{value:"edu"},"\u6559\u80B2\u7ECF\u5386",-1)),De=p(()=>e("option",{value:"work"},"\u5DE5\u4F5C\u7ECF\u5386",-1)),Be=p(()=>e("option",{value:"life"},"\u751F\u6D3B\u7231\u597D",-1)),Ae=[Ee,fe,De,Be],ge=["id"],he=["onClick"],ye={class:"item-content"},ke={class:"content-title"},Ce=c(" \u5185\u5BB9\u6807\u9898\uFF1A "),xe=["value"],be={class:"content-detail"},we={class:"item"},Ie=c(" \u9879\u76EE\u63CF\u8FF0\uFF1A"),Ve={class:"item"},Se=c(" \u9879\u76EE\u65F6\u95F4\uFF1A"),Te={class:"content-desc"},Ue=p(()=>e("div",null,"\u8BE6\u7EC6\u6761\u76EE\uFF1A",-1)),Re={class:"right"},je={class:"content",id:"resumePDF"},Ne=z({setup(D){const a=b({name:"\u5F20\u4E09",email:"zhangsan@sjtu.edu.cn",phone:"12345678910",dir:"\u524D\u7AEF\u5F00\u53D1",img:""}),T={edu:"\u6559\u80B2\u7ECF\u5386",life:"\u4E2A\u4EBA\u7231\u597D",work:"\u5DE5\u4F5C\u7ECF\u5386",person:"\u4E2A\u4EBA\u603B\u7ED3"},F=f("work"),i=f(0),B=f(!1),n=b([{title:"\u6559\u80B2\u7ECF\u5386",key:"edu",contents:[{title:"\u4E0A\u6D77\u4EA4\u901A\u5927\u5B66",key:new Date().getTime(),detail:{desc:"\u751F\u7269\u533B\u5B66\u5DE5\u7A0B \u672C\u79D1 \u751F\u7269\u533B\u5B66\u5DE5\u7A0B\u5B66\u9662",time:"2015\u5E749\u6708-2019\u5E746\u6708"},desc:`\u8BFE\u7A0B\uFF1A##\u2026\u2026%&%&%\u2026\u2026%
\u6210\u7EE9: 50%`}]},{title:"\u5DE5\u4F5C\u7ECF\u5386",key:"work",contents:[{title:"###\u79D1\u6280\u516C\u53F8",key:new Date().getTime(),detail:{desc:"\u6280\u672F\u90E8 \u5F00\u53D1\u5DE5\u7A0B\u5E08",time:"2019\u5E746\u6708-2022\u5E7412\u6708"},desc:`\u5B8C\u6210\u4E86\u3002\u3002\u3002\u3002\u3002\u3002\u3002
\u5B9E\u73B0\u4E86\u3002\u3002\u3002\u3002\u3002\u3002\u3002`}]},{title:"\u4E2A\u4EBA\u7231\u597D",key:"life",contents:[{title:"\u65C5\u6E38",key:new Date().getTime(),detail:{desc:"",time:""},desc:"\u73AF\u6E38\u4E16\u754C\u4E86"}]}]),U=()=>{if(d.value.contents.length===1){alert("\u53EA\u6709\u4E00\u4E2A\u9879\u76EE\u4E86\uFF0C\u4E0D\u80FD\u518D\u51CF\u5C11\u5566\u5566\u5566");return}const s=d.value.contents.findIndex(t=>t.key===i.value);d.value.contents.splice(s,1),i.value=0},k=()=>{const s=prompt("\u8BF7\u8F93\u5165\u5185\u5BB9\u6807\u9898\uFF1A")||"";if(!s){alert("\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A\uFF01");return}const t={title:s,key:new Date().getTime(),detail:{time:"",desc:""},desc:""};d.value.contents.push(t),i.value=t.key},d=w(()=>{const s=n.findIndex(t=>F.value===t.key);if(s===-1){const t={title:T[F.value],key:F.value,contents:[]};return n.push(t),i.value=0,n[n.length-1]}return i.value=0,n[s]}),E=w(()=>{i.value||(d.value.contents.length?i.value=d.value.contents[0].key:k());const s=d.value.contents.findIndex(t=>t.key===i.value);return d.value.contents[s]}),R=()=>{B.value=!0,setTimeout(()=>{window.print(),B.value=!1})},C=f(""),j=()=>{const s=new FileReader;s.onload=function(t){a.img=t.target.result},s.readAsDataURL(C.value.files[0])},x=f(""),N=()=>{const s=new FileReader;s.onload=function(t){const u=JSON.parse(t.target.result);u.base&&Object.assign(a,u.base),u.itemData&&Object.assign(n,u.itemData)},s.readAsText(x.value.files[0])},O=()=>{const s={base:a,itemData:n};Q.exports.saveAs(new Blob([JSON.stringify(s)]),"resume.jl")},P=s=>{if(!s.target.id)return;s.preventDefault();const t=s.target.id,u=s.dataTransfer.getData("text");if(u===t)return;const r=n.findIndex(g=>g.key===u),A=n.findIndex(g=>g.key===t),M=n[r];n[r]=n[A],n[A]=M},J=s=>{s.preventDefault()},K=s=>{s.dataTransfer.setData("text",s.target.id)},L=s=>{const t=n.findIndex(u=>u.key===s);t!==-1&&(n[t].key!==F.value?n.splice(t,1):n.length>1?(n.splice(t,1),F.value=n[0].key):alert("\u53EA\u5269\u4E0B\u4E00\u4E2A\u9009\u9879\u4E86\uFF0C\u4E0D\u80FD\u518D\u5220\u9664\u4E86\uFF01\uFF01\uFF01"))};return(s,t)=>(_(),v("div",Y,[l(e("div",Z,[ee,e("input",{ref_key:"dataRef",ref:x,class:"export",onChange:N,type:"file"},null,544),e("button",{class:"export mr32",onClick:R},"\u5BFC\u51FAPDF"),e("button",{class:"export",onClick:O},"\u5BFC\u51FA\u6570\u636E"),e("div",te,[ue,e("div",se,[ne,l(e("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>o(a).name=u),class:"input",type:""},null,512),[[m,o(a).name]])]),e("div",oe,[ae,l(e("input",{"onUpdate:modelValue":t[1]||(t[1]=u=>o(a).phone=u),class:"input",type:""},null,512),[[m,o(a).phone]])]),e("div",ie,[le,l(e("input",{"onUpdate:modelValue":t[2]||(t[2]=u=>o(a).email=u),class:"input",type:""},null,512),[[m,o(a).email]])]),e("div",de,[ce,e("input",{ref_key:"imgRef",ref:C,onChange:j,accept:"image/png,image/gif,image/jpeg",type:"file"},null,544)]),e("div",re,[pe,l(e("input",{"onUpdate:modelValue":t[3]||(t[3]=u=>o(a).dir=u),class:"input",type:""},null,512),[[m,o(a).dir]])])]),e("div",Fe,[_e,e("div",ve,[e("div",null,[me,l(e("select",{class:"input","onUpdate:modelValue":t[4]||(t[4]=u=>F.value=u)},Ae,512),[[I,F.value]])]),e("div",null,[(_(!0),v(h,null,y(o(n),(u,r)=>(_(),v("span",{id:u.key,key:r,class:"selected",draggable:"true",ondrop:P,ondragover:J,ondragstart:K},[e("span",null,S(u.title),1),e("span",{class:"delete",onClick:A=>L(u.key)},"X",8,he)],8,ge))),128))])]),e("div",ye,[e("div",ke,[Ce,l(e("select",{class:"input","onUpdate:modelValue":t[5]||(t[5]=u=>i.value=u)},[(_(!0),v(h,null,y(o(d).contents,(u,r)=>(_(),v("option",{value:u.key,key:r},S(u.title),9,xe))),128))],512),[[I,i.value]]),e("button",{onClick:k,class:"mr10"},"\u6DFB\u52A0"),e("button",{onClick:U},"\u5220\u9664")]),e("div",be,[e("div",we,[Ie,l(e("input",{"onUpdate:modelValue":t[6]||(t[6]=u=>o(E).detail.desc=u),class:"input",type:""},null,512),[[m,o(E).detail.desc]])]),e("div",Ve,[Se,l(e("input",{"onUpdate:modelValue":t[7]||(t[7]=u=>o(E).detail.time=u),class:"input",type:""},null,512),[[m,o(E).detail.time]])])]),e("div",Te,[e("div",null,[Ue,l(e("textarea",{cols:"40",rows:"10","onUpdate:modelValue":t[8]||(t[8]=u=>o(E).desc=u)},null,512),[[m,o(E).desc]])])])])])],512),[[G,!B.value]]),e("div",Re,[e("div",je,[V(q,{base:o(a)},null,8,["base"]),(_(!0),v(h,null,y(o(n),(u,r)=>(_(),v("div",{key:r},[V(H,{item:u},null,8,["item"])]))),128))])])]))}});var ze=W(Ne,[["__scopeId","data-v-1adf142e"]]);export{ze as default};
